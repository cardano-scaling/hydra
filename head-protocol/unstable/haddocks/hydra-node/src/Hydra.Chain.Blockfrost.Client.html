<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE RecordWildCards #-}</span><span>
</span><span id="line-2"></span><span>
</span><span id="line-3"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Hydra.Chain.Blockfrost.Client</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-4"></span><span>  </span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="Hydra.Chain.Blockfrost.Client.html"><span class="hs-identifier">Hydra.Chain.Blockfrost.Client</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-5"></span><span>  </span><span class="hs-keyword">module</span><span> </span><span class="annot"><span class="hs-identifier">Blockfrost.Client</span></span><span class="hs-special">,</span><span>
</span><span id="line-6"></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-7"></span><span>
</span><span id="line-8"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Hydra.Prelude</span></span><span>
</span><span id="line-9"></span><span>
</span><span id="line-10"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Blockfrost.Client</span></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-11"></span><span>  </span><span class="annot"><span class="hs-identifier">Block</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-12"></span><span>  </span><span class="annot"><span class="hs-identifier">BlockHash</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-13"></span><span>  </span><span class="annot"><span class="hs-identifier">BlockfrostClientT</span></span><span class="hs-special">,</span><span>
</span><span id="line-14"></span><span>  </span><span class="annot"><span class="hs-identifier">Genesis</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-15"></span><span>  </span><span class="annot"><span class="hs-identifier">Project</span></span><span class="hs-special">,</span><span>
</span><span id="line-16"></span><span>  </span><span class="annot"><span class="hs-identifier">Slot</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-17"></span><span>  </span><span class="annot"><span class="hs-identifier">TransactionCBOR</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-18"></span><span>  </span><span class="annot"><span class="hs-identifier">TxHashCBOR</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-19"></span><span>  </span><span class="annot"><span class="hs-identifier">allPages</span></span><span class="hs-special">,</span><span>
</span><span id="line-20"></span><span>  </span><span class="annot"><span class="hs-identifier">def</span></span><span class="hs-special">,</span><span>
</span><span id="line-21"></span><span>  </span><span class="annot"><span class="hs-identifier">getBlock</span></span><span class="hs-special">,</span><span>
</span><span id="line-22"></span><span>  </span><span class="annot"><span class="hs-identifier">getBlockTxsCBOR'</span></span><span class="hs-special">,</span><span>
</span><span id="line-23"></span><span>  </span><span class="annot"><span class="hs-identifier">getLedgerGenesis</span></span><span class="hs-special">,</span><span>
</span><span id="line-24"></span><span>  </span><span class="annot"><span class="hs-identifier">listPools</span></span><span class="hs-special">,</span><span>
</span><span id="line-25"></span><span>  </span><span class="annot"><span class="hs-identifier">projectFromFile</span></span><span class="hs-special">,</span><span>
</span><span id="line-26"></span><span>  </span><span class="annot"><span class="hs-identifier">runBlockfrost</span></span><span class="hs-special">,</span><span>
</span><span id="line-27"></span><span>  </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/mtl-2.3.1/src/Control.Monad.Error.Class.html#tryError"><span class="hs-identifier">tryError</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-28"></span><span>  </span><span class="annot"><span class="hs-identifier">unBlockHash</span></span><span class="hs-special">,</span><span>
</span><span id="line-29"></span><span>  </span><span class="annot"><span class="hs-identifier">unSlot</span></span><span class="hs-special">,</span><span>
</span><span id="line-30"></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Blockfrost.Client</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Blockfrost</span></span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Cardano.Chain.Genesis</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">mainnetProtocolMagicId</span></span><span class="hs-special">)</span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Cardano.Crypto.ProtocolMagic</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">ProtocolMagicId</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/containers-0.6.7/src/Data.Map.Strict.html"><span class="hs-identifier">Data.Map.Strict</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Map</span></span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/time-1.12.2/src/Data.Time.Clock.POSIX.html"><span class="hs-identifier">Data.Time.Clock.POSIX</span></a></span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Hydra.Cardano.Api</span></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">LedgerState</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">fromNetworkMagic</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">queryGenesisParameters</span></span><span class="hs-special">)</span><span>
</span><span id="line-37"></span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Cardano.Api.UTxO</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">UTxO</span></span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Cardano.Ledger.Api.PParams</span></span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Cardano.Ledger.BaseTypes</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">EpochInterval</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">NonNegativeInterval</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">UnitInterval</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">boundRational</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">unsafeNonZero</span></span><span class="hs-special">)</span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Cardano.Ledger.Binary.Version</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">mkVersion</span></span><span class="hs-special">)</span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Cardano.Ledger.Conway.Core</span></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-43"></span><span>  </span><span class="annot"><span class="hs-identifier">DRepVotingThresholds</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-44"></span><span>  </span><span class="annot"><span class="hs-identifier">PoolVotingThresholds</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-45"></span><span>  </span><span class="annot"><span class="hs-identifier">ppCommitteeMaxTermLengthL</span></span><span class="hs-special">,</span><span>
</span><span id="line-46"></span><span>  </span><span class="annot"><span class="hs-identifier">ppCommitteeMinSizeL</span></span><span class="hs-special">,</span><span>
</span><span id="line-47"></span><span>  </span><span class="annot"><span class="hs-identifier">ppDRepActivityL</span></span><span class="hs-special">,</span><span>
</span><span id="line-48"></span><span>  </span><span class="annot"><span class="hs-identifier">ppDRepDepositL</span></span><span class="hs-special">,</span><span>
</span><span id="line-49"></span><span>  </span><span class="annot"><span class="hs-identifier">ppDRepVotingThresholdsL</span></span><span class="hs-special">,</span><span>
</span><span id="line-50"></span><span>  </span><span class="annot"><span class="hs-identifier">ppGovActionDepositL</span></span><span class="hs-special">,</span><span>
</span><span id="line-51"></span><span>  </span><span class="annot"><span class="hs-identifier">ppGovActionLifetimeL</span></span><span class="hs-special">,</span><span>
</span><span id="line-52"></span><span>  </span><span class="annot"><span class="hs-identifier">ppPoolVotingThresholdsL</span></span><span class="hs-special">,</span><span>
</span><span id="line-53"></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-54"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Cardano.Ledger.Conway.PParams</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">ppMinFeeRefScriptCostPerByteL</span></span><span class="hs-special">)</span><span>
</span><span id="line-55"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Cardano.Ledger.Plutus</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">ExUnits</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Language</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Prices</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-56"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Cardano.Ledger.Plutus.CostModels</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">CostModels</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">mkCostModel</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">mkCostModels</span></span><span class="hs-special">)</span><span>
</span><span id="line-57"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Cardano.Ledger.Shelley.API</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">ProtVer</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-58"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Cardano.Slotting.Time</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">RelativeTime</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">mkSlotLength</span></span><span class="hs-special">)</span><span>
</span><span id="line-59"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Lens</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-operator">(.~)</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-operator">(^.)</span></span><span class="hs-special">)</span><span>
</span><span id="line-60"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.List.html"><span class="hs-identifier">Data.List</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">List</span></span><span>
</span><span id="line-61"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.SOP.NonEmpty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">nonEmptyFromList</span></span><span class="hs-special">)</span><span>
</span><span id="line-62"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/containers-0.6.7/src/Data.Set.html"><span class="hs-identifier">Data.Set</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Set</span></span><span>
</span><span id="line-63"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/text-2.0.2/src/Data.Text.html"><span class="hs-identifier">Data.Text</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">T</span></span><span>
</span><span id="line-64"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Hydra.Cardano.Api.Prelude</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">fromNetworkMagic</span></span><span class="hs-special">)</span><span>
</span><span id="line-65"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hydra.Options.html"><span class="hs-identifier">Hydra.Options</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hydra.Options.html#BlockfrostOptions"><span class="hs-identifier">BlockfrostOptions</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-66"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Hydra.Tx</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">ScriptRegistry</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">newScriptRegistry</span></span><span class="hs-special">)</span><span>
</span><span id="line-67"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Money</span></span><span> </span><span class="hs-keyword">qualified</span><span>
</span><span id="line-68"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Ouroboros.Consensus.Block</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">GenesisWindow</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-69"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Ouroboros.Consensus.HardFork.History</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Bound</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">EraEnd</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">EraParams</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">EraSummary</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">SafeZone</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Summary</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">mkInterpreter</span></span><span class="hs-special">)</span><span>
</span><span id="line-70"></span><span>
</span><span id="line-71"></span><span class="hs-keyword">data</span><span> </span><span id="BlockfrostException"><span class="annot"><a href="Hydra.Chain.Blockfrost.Client.html#BlockfrostException"><span class="hs-identifier hs-var">BlockfrostException</span></a></span></span><span>
</span><span id="line-72"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="TimeoutOnUTxO"><span class="annot"><a href="Hydra.Chain.Blockfrost.Client.html#TimeoutOnUTxO"><span class="hs-identifier hs-var">TimeoutOnUTxO</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TxId</span></span><span>
</span><span id="line-73"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="NoUTxOFound"><span class="annot"><a href="Hydra.Chain.Blockfrost.Client.html#NoUTxOFound"><span class="hs-identifier hs-var">NoUTxOFound</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Address</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ShelleyAddr</span></span><span class="hs-special">)</span><span>
</span><span id="line-74"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="FailedToDecodeAddress"><span class="annot"><a href="Hydra.Chain.Blockfrost.Client.html#FailedToDecodeAddress"><span class="hs-identifier hs-var">FailedToDecodeAddress</span></a></span></span><span> </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/text-2.0.2/src/Data.Text.Internal.html#Text"><span class="hs-identifier hs-type">Text</span></a></span><span>
</span><span id="line-75"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="ByronAddressNotSupported"><span class="annot"><a href="Hydra.Chain.Blockfrost.Client.html#ByronAddressNotSupported"><span class="hs-identifier hs-var">ByronAddressNotSupported</span></a></span></span><span>
</span><span id="line-76"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="FailedUTxOForHash"><span class="annot"><a href="Hydra.Chain.Blockfrost.Client.html#FailedUTxOForHash"><span class="hs-identifier hs-var">FailedUTxOForHash</span></a></span></span><span> </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/text-2.0.2/src/Data.Text.Internal.html#Text"><span class="hs-identifier hs-type">Text</span></a></span><span>
</span><span id="line-77"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="FailedEraHistory"><span class="annot"><a href="Hydra.Chain.Blockfrost.Client.html#FailedEraHistory"><span class="hs-identifier hs-var">FailedEraHistory</span></a></span></span><span>
</span><span id="line-78"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="AssetNameMissing"><span class="annot"><a href="Hydra.Chain.Blockfrost.Client.html#AssetNameMissing"><span class="hs-identifier hs-var">AssetNameMissing</span></a></span></span><span>
</span><span id="line-79"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="DeserialiseError"><span class="annot"><a href="Hydra.Chain.Blockfrost.Client.html#DeserialiseError"><span class="hs-identifier hs-var">DeserialiseError</span></a></span></span><span> </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/text-2.0.2/src/Data.Text.Internal.html#Text"><span class="hs-identifier hs-type">Text</span></a></span><span>
</span><span id="line-80"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="DecodeError"><span class="annot"><a href="Hydra.Chain.Blockfrost.Client.html#DecodeError"><span class="hs-identifier hs-var">DecodeError</span></a></span></span><span> </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/text-2.0.2/src/Data.Text.Internal.html#Text"><span class="hs-identifier hs-type">Text</span></a></span><span>
</span><span id="line-81"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="BlockfrostAPIError"><span class="annot"><a href="Hydra.Chain.Blockfrost.Client.html#BlockfrostAPIError"><span class="hs-identifier hs-var">BlockfrostAPIError</span></a></span></span><span> </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/text-2.0.2/src/Data.Text.Internal.html#Text"><span class="hs-identifier hs-type">Text</span></a></span><span>
</span><span id="line-82"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680608488"><span id="local-6989586621680608508"><span id="local-6989586621680608512"><span class="annot"><span class="annottext">Int -&gt; BlockfrostException -&gt; ShowS
[BlockfrostException] -&gt; ShowS
BlockfrostException -&gt; String
(Int -&gt; BlockfrostException -&gt; ShowS)
-&gt; (BlockfrostException -&gt; String)
-&gt; ([BlockfrostException] -&gt; ShowS)
-&gt; Show BlockfrostException
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; BlockfrostException -&gt; ShowS
showsPrec :: Int -&gt; BlockfrostException -&gt; ShowS
$cshow :: BlockfrostException -&gt; String
show :: BlockfrostException -&gt; String
$cshowList :: [BlockfrostException] -&gt; ShowS
showList :: [BlockfrostException] -&gt; ShowS
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680608520"><span id="local-6989586621680608524"><span id="local-6989586621680608527"><span class="annot"><span class="annottext">Show BlockfrostException
Typeable BlockfrostException
(Typeable BlockfrostException, Show BlockfrostException) =&gt;
(BlockfrostException -&gt; SomeException)
-&gt; (SomeException -&gt; Maybe BlockfrostException)
-&gt; (BlockfrostException -&gt; String)
-&gt; Exception BlockfrostException
SomeException -&gt; Maybe BlockfrostException
BlockfrostException -&gt; String
BlockfrostException -&gt; SomeException
forall e.
(Typeable e, Show e) =&gt;
(e -&gt; SomeException)
-&gt; (SomeException -&gt; Maybe e) -&gt; (e -&gt; String) -&gt; Exception e
$ctoException :: BlockfrostException -&gt; SomeException
toException :: BlockfrostException -&gt; SomeException
$cfromException :: SomeException -&gt; Maybe BlockfrostException
fromException :: SomeException -&gt; Maybe BlockfrostException
$cdisplayException :: BlockfrostException -&gt; String
displayException :: BlockfrostException -&gt; String
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Exception.Type.html#Exception"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Exception</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-83"></span><span>
</span><span id="line-84"></span><span class="hs-keyword">newtype</span><span> </span><span id="APIBlockfrostError"><span class="annot"><a href="Hydra.Chain.Blockfrost.Client.html#APIBlockfrostError"><span class="hs-identifier hs-var">APIBlockfrostError</span></a></span></span><span>
</span><span id="line-85"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="BlockfrostError"><span class="annot"><a href="Hydra.Chain.Blockfrost.Client.html#BlockfrostError"><span class="hs-identifier hs-var">BlockfrostError</span></a></span></span><span> </span><span class="annot"><a href="Hydra.Chain.Blockfrost.Client.html#BlockfrostException"><span class="hs-identifier hs-type">BlockfrostException</span></a></span><span>
</span><span id="line-86"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">newtype</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680608532"><span id="local-6989586621680608536"><span id="local-6989586621680608540"><span class="annot"><span class="annottext">Int -&gt; APIBlockfrostError -&gt; ShowS
[APIBlockfrostError] -&gt; ShowS
APIBlockfrostError -&gt; String
(Int -&gt; APIBlockfrostError -&gt; ShowS)
-&gt; (APIBlockfrostError -&gt; String)
-&gt; ([APIBlockfrostError] -&gt; ShowS)
-&gt; Show APIBlockfrostError
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; APIBlockfrostError -&gt; ShowS
showsPrec :: Int -&gt; APIBlockfrostError -&gt; ShowS
$cshow :: APIBlockfrostError -&gt; String
show :: APIBlockfrostError -&gt; String
$cshowList :: [APIBlockfrostError] -&gt; ShowS
showList :: [APIBlockfrostError] -&gt; ShowS
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680608549"><span id="local-6989586621680608553"><span id="local-6989586621680608557"><span class="annot"><span class="annottext">Show APIBlockfrostError
Typeable APIBlockfrostError
(Typeable APIBlockfrostError, Show APIBlockfrostError) =&gt;
(APIBlockfrostError -&gt; SomeException)
-&gt; (SomeException -&gt; Maybe APIBlockfrostError)
-&gt; (APIBlockfrostError -&gt; String)
-&gt; Exception APIBlockfrostError
SomeException -&gt; Maybe APIBlockfrostError
APIBlockfrostError -&gt; String
APIBlockfrostError -&gt; SomeException
forall e.
(Typeable e, Show e) =&gt;
(e -&gt; SomeException)
-&gt; (SomeException -&gt; Maybe e) -&gt; (e -&gt; String) -&gt; Exception e
$ctoException :: APIBlockfrostError -&gt; SomeException
toException :: APIBlockfrostError -&gt; SomeException
$cfromException :: SomeException -&gt; Maybe APIBlockfrostError
fromException :: SomeException -&gt; Maybe APIBlockfrostError
$cdisplayException :: APIBlockfrostError -&gt; String
displayException :: APIBlockfrostError -&gt; String
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Exception.Type.html#Exception"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Exception</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-87"></span><span>
</span><span id="line-88"></span><span id="local-6989586621680607744"><span id="local-6989586621680607746"><span class="annot"><a href="Hydra.Chain.Blockfrost.Client.html#runBlockfrostM"><span class="hs-identifier hs-type">runBlockfrostM</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-89"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Control.Monad.IO.Class.html#MonadIO"><span class="hs-identifier hs-type">MonadIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680607744"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadThrow</span></span><span> </span><span class="annot"><a href="#local-6989586621680607744"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-90"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Blockfrost.Project</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-91"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">BlockfrostClientT</span></span><span> </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680607746"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-92"></span><span>  </span><span class="annot"><a href="#local-6989586621680607744"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680607746"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-93"></span><span id="runBlockfrostM"><span class="annot"><span class="annottext">runBlockfrostM :: forall (m :: * -&gt; *) a.
(MonadIO m, MonadThrow m) =&gt;
Project -&gt; BlockfrostClientT IO a -&gt; m a
</span><a href="Hydra.Chain.Blockfrost.Client.html#runBlockfrostM"><span class="hs-identifier hs-var hs-var">runBlockfrostM</span></a></span></span><span> </span><span id="local-6989586621680608575"><span class="annot"><span class="annottext">Project
</span><a href="#local-6989586621680608575"><span class="hs-identifier hs-var">prj</span></a></span></span><span> </span><span id="local-6989586621680608576"><span class="annot"><span class="annottext">BlockfrostClientT IO a
</span><a href="#local-6989586621680608576"><span class="hs-identifier hs-var">action</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-94"></span><span>  </span><span id="local-6989586621680608577"><span class="annot"><span class="annottext">Either BlockfrostError a
</span><a href="#local-6989586621680608577"><span class="hs-identifier hs-var">result</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO (Either BlockfrostError a) -&gt; m (Either BlockfrostError a)
forall a. IO a -&gt; m a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (Either BlockfrostError a) -&gt; m (Either BlockfrostError a))
-&gt; IO (Either BlockfrostError a) -&gt; m (Either BlockfrostError a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Project -&gt; BlockfrostClientT IO a -&gt; IO (Either BlockfrostError a)
forall a.
Project -&gt; BlockfrostClientT IO a -&gt; IO (Either BlockfrostError a)
</span><span class="hs-identifier hs-var">runBlockfrost</span></span><span> </span><span class="annot"><span class="annottext">Project
</span><a href="#local-6989586621680608575"><span class="hs-identifier hs-var">prj</span></a></span><span> </span><span class="annot"><span class="annottext">BlockfrostClientT IO a
</span><a href="#local-6989586621680608576"><span class="hs-identifier hs-var">action</span></a></span><span>
</span><span id="line-95"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Either BlockfrostError a
</span><a href="#local-6989586621680608577"><span class="hs-identifier hs-var">result</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-96"></span><span>    </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621680608579"><span class="annot"><span class="annottext">BlockfrostError
</span><a href="#local-6989586621680608579"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">APIBlockfrostError -&gt; m a
forall e a. Exception e =&gt; e -&gt; m a
forall (m :: * -&gt; *) e a. (MonadThrow m, Exception e) =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">throwIO</span></span><span> </span><span class="annot"><span class="annottext">(APIBlockfrostError -&gt; m a) -&gt; APIBlockfrostError -&gt; m a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">BlockfrostException -&gt; APIBlockfrostError
</span><a href="Hydra.Chain.Blockfrost.Client.html#BlockfrostError"><span class="hs-identifier hs-var">BlockfrostError</span></a></span><span> </span><span class="annot"><span class="annottext">(BlockfrostException -&gt; APIBlockfrostError)
-&gt; BlockfrostException -&gt; APIBlockfrostError
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; BlockfrostException
</span><a href="Hydra.Chain.Blockfrost.Client.html#BlockfrostAPIError"><span class="hs-identifier hs-var">BlockfrostAPIError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BlockfrostError -&gt; Text
forall b a. (Show a, IsString b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">BlockfrostError
</span><a href="#local-6989586621680608579"><span class="hs-identifier hs-var">err</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-97"></span><span>    </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621680608582"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680608582"><span class="hs-identifier hs-var">val</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; m a
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680608582"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-98"></span><span>
</span><span id="line-99"></span><span class="hs-comment">-- | Query for 'TxIn's in the search for outputs containing all the reference</span><span>
</span><span id="line-100"></span><span class="hs-comment">-- scripts of the 'ScriptRegistry'.</span><span>
</span><span id="line-101"></span><span class="hs-comment">--</span><span>
</span><span id="line-102"></span><span class="hs-comment">-- This is implemented by repeated querying until we have all necessary</span><span>
</span><span id="line-103"></span><span class="hs-comment">-- reference scripts as we do only know the transaction id, not the indices.</span><span>
</span><span id="line-104"></span><span class="hs-comment">--</span><span>
</span><span id="line-105"></span><span class="hs-comment">-- Can throw at least 'NewScriptRegistryException' on failure.</span><span>
</span><span id="line-106"></span><span class="annot"><a href="Hydra.Chain.Blockfrost.Client.html#queryScriptRegistry"><span class="hs-identifier hs-type">queryScriptRegistry</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-107"></span><span>  </span><span class="annot"><a href="Hydra.Options.html#BlockfrostOptions"><span class="hs-identifier hs-type">BlockfrostOptions</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-108"></span><span>  </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">TxId</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-109"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">BlockfrostClientT</span></span><span> </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ScriptRegistry</span></span><span>
</span><span id="line-110"></span><span id="queryScriptRegistry"><span class="annot"><span class="annottext">queryScriptRegistry :: BlockfrostOptions -&gt; [TxId] -&gt; BlockfrostClientT IO ScriptRegistry
</span><a href="Hydra.Chain.Blockfrost.Client.html#queryScriptRegistry"><span class="hs-identifier hs-var hs-var">queryScriptRegistry</span></a></span></span><span> </span><span id="local-6989586621680608585"><span class="annot"><span class="annottext">BlockfrostOptions
</span><a href="#local-6989586621680608585"><span class="hs-identifier hs-var">opts</span></a></span></span><span> </span><span id="local-6989586621680608586"><span class="annot"><span class="annottext">[TxId]
</span><a href="#local-6989586621680608586"><span class="hs-identifier hs-var">txIds</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-111"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Blockfrost.Genesis</span></span><span>
</span><span id="line-112"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="local-6989586621680608588"><span class="annot"><span class="annottext">Integer
_genesisNetworkMagic :: Integer
$sel:_genesisNetworkMagic:Genesis :: Genesis -&gt; Integer
</span><a href="#local-6989586621680608588"><span class="hs-identifier hs-var hs-var">_genesisNetworkMagic</span></a></span></span><span>
</span><span id="line-113"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621680608590"><span class="annot"><span class="annottext">NominalDiffTime
_genesisSystemStart :: NominalDiffTime
$sel:_genesisSystemStart:Genesis :: Genesis -&gt; NominalDiffTime
</span><a href="#local-6989586621680608590"><span class="hs-identifier hs-var hs-var">_genesisSystemStart</span></a></span></span><span>
</span><span id="line-114"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-115"></span><span>    </span><span class="annot"><span class="annottext">BlockfrostClientT IO Genesis
</span><a href="Hydra.Chain.Blockfrost.Client.html#queryGenesisParameters"><span class="hs-identifier hs-var">queryGenesisParameters</span></a></span><span>
</span><span id="line-116"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680608593"><span class="annot"><span class="annottext">networkId :: NetworkId
</span><a href="#local-6989586621680608593"><span class="hs-identifier hs-var hs-var">networkId</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; NetworkId
</span><a href="Hydra.Chain.Blockfrost.Client.html#toCardanoNetworkId"><span class="hs-identifier hs-var">toCardanoNetworkId</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621680608588"><span class="hs-identifier hs-var">_genesisNetworkMagic</span></a></span><span>
</span><span id="line-117"></span><span>  </span><span id="local-6989586621680608595"><span class="annot"><span class="annottext">UTxO
</span><a href="#local-6989586621680608595"><span class="hs-identifier hs-var">utxo</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">BlockfrostOptions
-&gt; NetworkId -&gt; [TxIn] -&gt; BlockfrostClientT IO UTxO
</span><a href="Hydra.Chain.Blockfrost.Client.html#queryUTxOByTxIn"><span class="hs-identifier hs-var">queryUTxOByTxIn</span></a></span><span> </span><span class="annot"><span class="annottext">BlockfrostOptions
</span><a href="#local-6989586621680608585"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">NetworkId
</span><a href="#local-6989586621680608593"><span class="hs-identifier hs-var">networkId</span></a></span><span> </span><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621680608597"><span class="hs-identifier hs-var">candidates</span></a></span><span>
</span><span id="line-118"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">UTxO -&gt; Either NewScriptRegistryException ScriptRegistry
</span><span class="hs-identifier hs-var">newScriptRegistry</span></span><span> </span><span class="annot"><span class="annottext">UTxO
</span><a href="#local-6989586621680608595"><span class="hs-identifier hs-var">utxo</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-119"></span><span>    </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621680608598"><span class="annot"><span class="annottext">NewScriptRegistryException
</span><a href="#local-6989586621680608598"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IO ScriptRegistry -&gt; BlockfrostClientT IO ScriptRegistry
forall a. IO a -&gt; BlockfrostClientT IO a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO ScriptRegistry -&gt; BlockfrostClientT IO ScriptRegistry)
-&gt; IO ScriptRegistry -&gt; BlockfrostClientT IO ScriptRegistry
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">NewScriptRegistryException -&gt; IO ScriptRegistry
forall e a. Exception e =&gt; e -&gt; IO a
forall (m :: * -&gt; *) e a. (MonadThrow m, Exception e) =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">throwIO</span></span><span> </span><span class="annot"><span class="annottext">NewScriptRegistryException
</span><a href="#local-6989586621680608598"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-120"></span><span>    </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621680608599"><span class="annot"><span class="annottext">ScriptRegistry
</span><a href="#local-6989586621680608599"><span class="hs-identifier hs-var">sr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ScriptRegistry -&gt; BlockfrostClientT IO ScriptRegistry
forall a. a -&gt; BlockfrostClientT IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptRegistry
</span><a href="#local-6989586621680608599"><span class="hs-identifier hs-var">sr</span></a></span><span>
</span><span id="line-121"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-122"></span><span>  </span><span id="local-6989586621680608597"><span class="annot"><span class="annottext">candidates :: [TxIn]
</span><a href="#local-6989586621680608597"><span class="hs-identifier hs-var hs-var">candidates</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TxId -&gt; TxIn) -&gt; [TxId] -&gt; [TxIn]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621680608600"><span class="annot"><span class="annottext">TxId
</span><a href="#local-6989586621680608600"><span class="hs-identifier hs-var">txid</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TxId -&gt; TxIx -&gt; TxIn
</span><span class="hs-identifier hs-var">TxIn</span></span><span> </span><span class="annot"><span class="annottext">TxId
</span><a href="#local-6989586621680608600"><span class="hs-identifier hs-var">txid</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word -&gt; TxIx
</span><span class="hs-identifier hs-var">TxIx</span></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[TxId]
</span><a href="#local-6989586621680608586"><span class="hs-identifier hs-var">txIds</span></a></span><span>
</span><span id="line-123"></span><span>
</span><span id="line-124"></span><span id="local-6989586621680607771"><span class="annot"><a href="Hydra.Chain.Blockfrost.Client.html#queryProtocolParameters"><span class="hs-identifier hs-type">queryProtocolParameters</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Control.Monad.IO.Class.html#MonadIO"><span class="hs-identifier hs-type">MonadIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680607771"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">BlockfrostClientT</span></span><span> </span><span class="annot"><a href="#local-6989586621680607771"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PParams</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">LedgerEra</span></span><span class="hs-special">)</span></span><span>
</span><span id="line-125"></span><span id="queryProtocolParameters"><span class="annot"><span class="annottext">queryProtocolParameters :: forall (m :: * -&gt; *).
MonadIO m =&gt;
BlockfrostClientT m (PParams LedgerEra)
</span><a href="Hydra.Chain.Blockfrost.Client.html#queryProtocolParameters"><span class="hs-identifier hs-var hs-var">queryProtocolParameters</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-126"></span><span>  </span><span id="local-6989586621680608978"><span class="annot"><span class="annottext">ProtocolParams
</span><a href="#local-6989586621680608978"><span class="hs-identifier hs-var">pparams</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">BlockfrostClientT m ProtocolParams
forall (m :: * -&gt; *). MonadBlockfrost m =&gt; m ProtocolParams
</span><span class="hs-identifier hs-var">Blockfrost.getLatestEpochProtocolParams</span></span><span>
</span><span id="line-127"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680608980"><span class="annot"><span class="annottext">minVersion :: Natural
</span><a href="#local-6989586621680608980"><span class="hs-identifier hs-var hs-var">minVersion</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Natural
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Natural) -&gt; Integer -&gt; Natural
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams
</span><a href="#local-6989586621680608978"><span class="hs-identifier hs-var">pparams</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams -&gt; Getting Integer ProtocolParams Integer -&gt; Integer
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting Integer ProtocolParams Integer
forall s a. HasProtocolMinorVer s a =&gt; Lens' s a
Lens' ProtocolParams Integer
</span><span class="hs-identifier hs-var">Blockfrost.protocolMinorVer</span></span><span>
</span><span id="line-128"></span><span>  </span><span id="local-6989586621680608982"><span class="annot"><span class="annottext">Version
</span><a href="#local-6989586621680608982"><span class="hs-identifier hs-var">maxVersion</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO Version -&gt; BlockfrostClientT m Version
forall a. IO a -&gt; BlockfrostClientT m a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO Version -&gt; BlockfrostClientT m Version)
-&gt; IO Version -&gt; BlockfrostClientT m Version
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; IO Version
forall i (m :: * -&gt; *). (Integral i, MonadFail m) =&gt; i -&gt; m Version
</span><span class="hs-identifier hs-var">mkVersion</span></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; IO Version) -&gt; Integer -&gt; IO Version
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams
</span><a href="#local-6989586621680608978"><span class="hs-identifier hs-var">pparams</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams -&gt; Getting Integer ProtocolParams Integer -&gt; Integer
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting Integer ProtocolParams Integer
forall s a. HasProtocolMajorVer s a =&gt; Lens' s a
Lens' ProtocolParams Integer
</span><span class="hs-identifier hs-var">Blockfrost.protocolMajorVer</span></span><span>
</span><span id="line-129"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680608984"><span class="annot"><span class="annottext">results :: Maybe BlockfrostConversion
</span><a href="#local-6989586621680608984"><span class="hs-identifier hs-var hs-var">results</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-130"></span><span>        </span><span id="local-6989586621680608985"><span class="annot"><span class="annottext">NonNegativeInterval
</span><a href="#local-6989586621680608985"><span class="hs-identifier hs-var">a0</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Maybe NonNegativeInterval
forall r. BoundedRational r =&gt; Rational -&gt; Maybe r
</span><span class="hs-identifier hs-var">boundRational</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ProtocolParams
</span><a href="#local-6989586621680608978"><span class="hs-identifier hs-var">pparams</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams
-&gt; Getting Rational ProtocolParams Rational -&gt; Rational
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting Rational ProtocolParams Rational
forall s a. HasA0 s a =&gt; Lens' s a
Lens' ProtocolParams Rational
</span><span class="hs-identifier hs-var">Blockfrost.a0</span></span><span class="hs-special">)</span><span>
</span><span id="line-131"></span><span>        </span><span id="local-6989586621680608987"><span class="annot"><span class="annottext">UnitInterval
</span><a href="#local-6989586621680608987"><span class="hs-identifier hs-var">rho</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Maybe UnitInterval
forall r. BoundedRational r =&gt; Rational -&gt; Maybe r
</span><span class="hs-identifier hs-var">boundRational</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ProtocolParams
</span><a href="#local-6989586621680608978"><span class="hs-identifier hs-var">pparams</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams
-&gt; Getting Rational ProtocolParams Rational -&gt; Rational
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting Rational ProtocolParams Rational
forall s a. HasRho s a =&gt; Lens' s a
Lens' ProtocolParams Rational
</span><span class="hs-identifier hs-var">Blockfrost.rho</span></span><span class="hs-special">)</span><span>
</span><span id="line-132"></span><span>        </span><span id="local-6989586621680608989"><span class="annot"><span class="annottext">UnitInterval
</span><a href="#local-6989586621680608989"><span class="hs-identifier hs-var">tau</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Maybe UnitInterval
forall r. BoundedRational r =&gt; Rational -&gt; Maybe r
</span><span class="hs-identifier hs-var">boundRational</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ProtocolParams
</span><a href="#local-6989586621680608978"><span class="hs-identifier hs-var">pparams</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams
-&gt; Getting Rational ProtocolParams Rational -&gt; Rational
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting Rational ProtocolParams Rational
forall s a. HasTau s a =&gt; Lens' s a
Lens' ProtocolParams Rational
</span><span class="hs-identifier hs-var">Blockfrost.tau</span></span><span class="hs-special">)</span><span>
</span><span id="line-133"></span><span>        </span><span id="local-6989586621680608991"><span class="annot"><span class="annottext">NonNegativeInterval
</span><a href="#local-6989586621680608991"><span class="hs-identifier hs-var">priceMemory</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall r. BoundedRational r =&gt; Rational -&gt; Maybe r
</span><span class="hs-identifier hs-var">boundRational</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">NonNegativeInterval</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ProtocolParams
</span><a href="#local-6989586621680608978"><span class="hs-identifier hs-var">pparams</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams
-&gt; Getting Rational ProtocolParams Rational -&gt; Rational
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting Rational ProtocolParams Rational
forall s a. HasPriceMem s a =&gt; Lens' s a
Lens' ProtocolParams Rational
</span><span class="hs-identifier hs-var">Blockfrost.priceMem</span></span><span class="hs-special">)</span><span>
</span><span id="line-134"></span><span>        </span><span id="local-6989586621680608993"><span class="annot"><span class="annottext">NonNegativeInterval
</span><a href="#local-6989586621680608993"><span class="hs-identifier hs-var">priceSteps</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall r. BoundedRational r =&gt; Rational -&gt; Maybe r
</span><span class="hs-identifier hs-var">boundRational</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">NonNegativeInterval</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ProtocolParams
</span><a href="#local-6989586621680608978"><span class="hs-identifier hs-var">pparams</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams
-&gt; Getting Rational ProtocolParams Rational -&gt; Rational
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting Rational ProtocolParams Rational
forall s a. HasPriceStep s a =&gt; Lens' s a
Lens' ProtocolParams Rational
</span><span class="hs-identifier hs-var">Blockfrost.priceStep</span></span><span class="hs-special">)</span><span>
</span><span id="line-135"></span><span>        </span><span id="local-6989586621680608995"><span class="annot"><span class="annottext">UnitInterval
</span><a href="#local-6989586621680608995"><span class="hs-identifier hs-var">pvtMotionNoConfidence</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall r. BoundedRational r =&gt; Rational -&gt; Maybe r
</span><span class="hs-identifier hs-var">boundRational</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">UnitInterval</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Maybe UnitInterval)
-&gt; Maybe Rational -&gt; Maybe UnitInterval
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%3D%3C%3C"><span class="hs-operator hs-var">=&lt;&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams
</span><a href="#local-6989586621680608978"><span class="hs-identifier hs-var">pparams</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams
-&gt; Getting (Maybe Rational) ProtocolParams (Maybe Rational)
-&gt; Maybe Rational
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting (Maybe Rational) ProtocolParams (Maybe Rational)
forall s a. HasPvtMotionNoConfidence s a =&gt; Lens' s a
Lens' ProtocolParams (Maybe Rational)
</span><span class="hs-identifier hs-var">Blockfrost.pvtMotionNoConfidence</span></span><span>
</span><span id="line-136"></span><span>        </span><span id="local-6989586621680608998"><span class="annot"><span class="annottext">UnitInterval
</span><a href="#local-6989586621680608998"><span class="hs-identifier hs-var">pvtCommitteeNormal</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall r. BoundedRational r =&gt; Rational -&gt; Maybe r
</span><span class="hs-identifier hs-var">boundRational</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">UnitInterval</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Maybe UnitInterval)
-&gt; Maybe Rational -&gt; Maybe UnitInterval
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%3D%3C%3C"><span class="hs-operator hs-var">=&lt;&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams
</span><a href="#local-6989586621680608978"><span class="hs-identifier hs-var">pparams</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams
-&gt; Getting (Maybe Rational) ProtocolParams (Maybe Rational)
-&gt; Maybe Rational
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting (Maybe Rational) ProtocolParams (Maybe Rational)
forall s a. HasPvtCommitteeNormal s a =&gt; Lens' s a
Lens' ProtocolParams (Maybe Rational)
</span><span class="hs-identifier hs-var">Blockfrost.pvtCommitteeNormal</span></span><span>
</span><span id="line-137"></span><span>        </span><span id="local-6989586621680609000"><span class="annot"><span class="annottext">UnitInterval
</span><a href="#local-6989586621680609000"><span class="hs-identifier hs-var">pvtCommitteeNoConfidence</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall r. BoundedRational r =&gt; Rational -&gt; Maybe r
</span><span class="hs-identifier hs-var">boundRational</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">UnitInterval</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Maybe UnitInterval)
-&gt; Maybe Rational -&gt; Maybe UnitInterval
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%3D%3C%3C"><span class="hs-operator hs-var">=&lt;&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams
</span><a href="#local-6989586621680608978"><span class="hs-identifier hs-var">pparams</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams
-&gt; Getting (Maybe Rational) ProtocolParams (Maybe Rational)
-&gt; Maybe Rational
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting (Maybe Rational) ProtocolParams (Maybe Rational)
forall s a. HasPvtCommitteeNoConfidence s a =&gt; Lens' s a
Lens' ProtocolParams (Maybe Rational)
</span><span class="hs-identifier hs-var">Blockfrost.pvtCommitteeNoConfidence</span></span><span>
</span><span id="line-138"></span><span>        </span><span id="local-6989586621680609002"><span class="annot"><span class="annottext">UnitInterval
</span><a href="#local-6989586621680609002"><span class="hs-identifier hs-var">pvtHardForkInitiation</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall r. BoundedRational r =&gt; Rational -&gt; Maybe r
</span><span class="hs-identifier hs-var">boundRational</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">UnitInterval</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Maybe UnitInterval)
-&gt; Maybe Rational -&gt; Maybe UnitInterval
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%3D%3C%3C"><span class="hs-operator hs-var">=&lt;&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams
</span><a href="#local-6989586621680608978"><span class="hs-identifier hs-var">pparams</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams
-&gt; Getting (Maybe Rational) ProtocolParams (Maybe Rational)
-&gt; Maybe Rational
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting (Maybe Rational) ProtocolParams (Maybe Rational)
forall s a. HasPvtHardForkInitiation s a =&gt; Lens' s a
Lens' ProtocolParams (Maybe Rational)
</span><span class="hs-identifier hs-var">Blockfrost.pvtHardForkInitiation</span></span><span>
</span><span id="line-139"></span><span>        </span><span id="local-6989586621680609004"><span class="annot"><span class="annottext">UnitInterval
</span><a href="#local-6989586621680609004"><span class="hs-identifier hs-var">pvtPPSecurityGroup</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall r. BoundedRational r =&gt; Rational -&gt; Maybe r
</span><span class="hs-identifier hs-var">boundRational</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">UnitInterval</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Maybe UnitInterval)
-&gt; Maybe Rational -&gt; Maybe UnitInterval
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%3D%3C%3C"><span class="hs-operator hs-var">=&lt;&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams
</span><a href="#local-6989586621680608978"><span class="hs-identifier hs-var">pparams</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams
-&gt; Getting (Maybe Rational) ProtocolParams (Maybe Rational)
-&gt; Maybe Rational
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting (Maybe Rational) ProtocolParams (Maybe Rational)
forall s a. HasPvtppSecurityGroup s a =&gt; Lens' s a
Lens' ProtocolParams (Maybe Rational)
</span><span class="hs-identifier hs-var">Blockfrost.pvtppSecurityGroup</span></span><span>
</span><span id="line-140"></span><span>        </span><span id="local-6989586621680609006"><span class="annot"><span class="annottext">UnitInterval
</span><a href="#local-6989586621680609006"><span class="hs-identifier hs-var">dvtMotionNoConfidence</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall r. BoundedRational r =&gt; Rational -&gt; Maybe r
</span><span class="hs-identifier hs-var">boundRational</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">UnitInterval</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Maybe UnitInterval)
-&gt; Maybe Rational -&gt; Maybe UnitInterval
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%3D%3C%3C"><span class="hs-operator hs-var">=&lt;&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams
</span><a href="#local-6989586621680608978"><span class="hs-identifier hs-var">pparams</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams
-&gt; Getting (Maybe Rational) ProtocolParams (Maybe Rational)
-&gt; Maybe Rational
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting (Maybe Rational) ProtocolParams (Maybe Rational)
forall s a. HasDvtMotionNoConfidence s a =&gt; Lens' s a
Lens' ProtocolParams (Maybe Rational)
</span><span class="hs-identifier hs-var">Blockfrost.dvtMotionNoConfidence</span></span><span>
</span><span id="line-141"></span><span>        </span><span id="local-6989586621680609008"><span class="annot"><span class="annottext">UnitInterval
</span><a href="#local-6989586621680609008"><span class="hs-identifier hs-var">dvtCommitteeNormal</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall r. BoundedRational r =&gt; Rational -&gt; Maybe r
</span><span class="hs-identifier hs-var">boundRational</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">UnitInterval</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Maybe UnitInterval)
-&gt; Maybe Rational -&gt; Maybe UnitInterval
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%3D%3C%3C"><span class="hs-operator hs-var">=&lt;&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams
</span><a href="#local-6989586621680608978"><span class="hs-identifier hs-var">pparams</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams
-&gt; Getting (Maybe Rational) ProtocolParams (Maybe Rational)
-&gt; Maybe Rational
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting (Maybe Rational) ProtocolParams (Maybe Rational)
forall s a. HasDvtCommitteeNormal s a =&gt; Lens' s a
Lens' ProtocolParams (Maybe Rational)
</span><span class="hs-identifier hs-var">Blockfrost.dvtCommitteeNormal</span></span><span>
</span><span id="line-142"></span><span>        </span><span id="local-6989586621680609010"><span class="annot"><span class="annottext">UnitInterval
</span><a href="#local-6989586621680609010"><span class="hs-identifier hs-var">dvtCommitteeNoConfidence</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall r. BoundedRational r =&gt; Rational -&gt; Maybe r
</span><span class="hs-identifier hs-var">boundRational</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">UnitInterval</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Maybe UnitInterval)
-&gt; Maybe Rational -&gt; Maybe UnitInterval
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%3D%3C%3C"><span class="hs-operator hs-var">=&lt;&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams
</span><a href="#local-6989586621680608978"><span class="hs-identifier hs-var">pparams</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams
-&gt; Getting (Maybe Rational) ProtocolParams (Maybe Rational)
-&gt; Maybe Rational
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting (Maybe Rational) ProtocolParams (Maybe Rational)
forall s a. HasDvtCommitteeNoConfidence s a =&gt; Lens' s a
Lens' ProtocolParams (Maybe Rational)
</span><span class="hs-identifier hs-var">Blockfrost.dvtCommitteeNoConfidence</span></span><span>
</span><span id="line-143"></span><span>        </span><span id="local-6989586621680609012"><span class="annot"><span class="annottext">UnitInterval
</span><a href="#local-6989586621680609012"><span class="hs-identifier hs-var">dvtUpdateToConstitution</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall r. BoundedRational r =&gt; Rational -&gt; Maybe r
</span><span class="hs-identifier hs-var">boundRational</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">UnitInterval</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Maybe UnitInterval)
-&gt; Maybe Rational -&gt; Maybe UnitInterval
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%3D%3C%3C"><span class="hs-operator hs-var">=&lt;&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams
</span><a href="#local-6989586621680608978"><span class="hs-identifier hs-var">pparams</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams
-&gt; Getting (Maybe Rational) ProtocolParams (Maybe Rational)
-&gt; Maybe Rational
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting (Maybe Rational) ProtocolParams (Maybe Rational)
forall s a. HasDvtUpdateToConstitution s a =&gt; Lens' s a
Lens' ProtocolParams (Maybe Rational)
</span><span class="hs-identifier hs-var">Blockfrost.dvtUpdateToConstitution</span></span><span>
</span><span id="line-144"></span><span>        </span><span id="local-6989586621680609014"><span class="annot"><span class="annottext">UnitInterval
</span><a href="#local-6989586621680609014"><span class="hs-identifier hs-var">dvtHardForkInitiation</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall r. BoundedRational r =&gt; Rational -&gt; Maybe r
</span><span class="hs-identifier hs-var">boundRational</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">UnitInterval</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Maybe UnitInterval)
-&gt; Maybe Rational -&gt; Maybe UnitInterval
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%3D%3C%3C"><span class="hs-operator hs-var">=&lt;&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams
</span><a href="#local-6989586621680608978"><span class="hs-identifier hs-var">pparams</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams
-&gt; Getting (Maybe Rational) ProtocolParams (Maybe Rational)
-&gt; Maybe Rational
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting (Maybe Rational) ProtocolParams (Maybe Rational)
forall s a. HasDvtHardForkInitiation s a =&gt; Lens' s a
Lens' ProtocolParams (Maybe Rational)
</span><span class="hs-identifier hs-var">Blockfrost.dvtHardForkInitiation</span></span><span>
</span><span id="line-145"></span><span>        </span><span id="local-6989586621680609016"><span class="annot"><span class="annottext">UnitInterval
</span><a href="#local-6989586621680609016"><span class="hs-identifier hs-var">dvtPPNetworkGroup</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall r. BoundedRational r =&gt; Rational -&gt; Maybe r
</span><span class="hs-identifier hs-var">boundRational</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">UnitInterval</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Maybe UnitInterval)
-&gt; Maybe Rational -&gt; Maybe UnitInterval
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%3D%3C%3C"><span class="hs-operator hs-var">=&lt;&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams
</span><a href="#local-6989586621680608978"><span class="hs-identifier hs-var">pparams</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams
-&gt; Getting (Maybe Rational) ProtocolParams (Maybe Rational)
-&gt; Maybe Rational
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting (Maybe Rational) ProtocolParams (Maybe Rational)
forall s a. HasDvtPPNetworkGroup s a =&gt; Lens' s a
Lens' ProtocolParams (Maybe Rational)
</span><span class="hs-identifier hs-var">Blockfrost.dvtPPNetworkGroup</span></span><span>
</span><span id="line-146"></span><span>        </span><span id="local-6989586621680609018"><span class="annot"><span class="annottext">UnitInterval
</span><a href="#local-6989586621680609018"><span class="hs-identifier hs-var">dvtPPEconomicGroup</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall r. BoundedRational r =&gt; Rational -&gt; Maybe r
</span><span class="hs-identifier hs-var">boundRational</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">UnitInterval</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Maybe UnitInterval)
-&gt; Maybe Rational -&gt; Maybe UnitInterval
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%3D%3C%3C"><span class="hs-operator hs-var">=&lt;&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams
</span><a href="#local-6989586621680608978"><span class="hs-identifier hs-var">pparams</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams
-&gt; Getting (Maybe Rational) ProtocolParams (Maybe Rational)
-&gt; Maybe Rational
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting (Maybe Rational) ProtocolParams (Maybe Rational)
forall s a. HasDvtPPEconomicGroup s a =&gt; Lens' s a
Lens' ProtocolParams (Maybe Rational)
</span><span class="hs-identifier hs-var">Blockfrost.dvtPPEconomicGroup</span></span><span>
</span><span id="line-147"></span><span>        </span><span id="local-6989586621680609020"><span class="annot"><span class="annottext">UnitInterval
</span><a href="#local-6989586621680609020"><span class="hs-identifier hs-var">dvtPPTechnicalGroup</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall r. BoundedRational r =&gt; Rational -&gt; Maybe r
</span><span class="hs-identifier hs-var">boundRational</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">UnitInterval</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Maybe UnitInterval)
-&gt; Maybe Rational -&gt; Maybe UnitInterval
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%3D%3C%3C"><span class="hs-operator hs-var">=&lt;&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams
</span><a href="#local-6989586621680608978"><span class="hs-identifier hs-var">pparams</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams
-&gt; Getting (Maybe Rational) ProtocolParams (Maybe Rational)
-&gt; Maybe Rational
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting (Maybe Rational) ProtocolParams (Maybe Rational)
forall s a. HasDvtPPTechnicalGroup s a =&gt; Lens' s a
Lens' ProtocolParams (Maybe Rational)
</span><span class="hs-identifier hs-var">Blockfrost.dvtPPTechnicalGroup</span></span><span>
</span><span id="line-148"></span><span>        </span><span id="local-6989586621680609022"><span class="annot"><span class="annottext">UnitInterval
</span><a href="#local-6989586621680609022"><span class="hs-identifier hs-var">dvtPPGovGroup</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall r. BoundedRational r =&gt; Rational -&gt; Maybe r
</span><span class="hs-identifier hs-var">boundRational</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">UnitInterval</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Maybe UnitInterval)
-&gt; Maybe Rational -&gt; Maybe UnitInterval
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%3D%3C%3C"><span class="hs-operator hs-var">=&lt;&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams
</span><a href="#local-6989586621680608978"><span class="hs-identifier hs-var">pparams</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams
-&gt; Getting (Maybe Rational) ProtocolParams (Maybe Rational)
-&gt; Maybe Rational
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting (Maybe Rational) ProtocolParams (Maybe Rational)
forall s a. HasDvtPPGovGroup s a =&gt; Lens' s a
Lens' ProtocolParams (Maybe Rational)
</span><span class="hs-identifier hs-var">Blockfrost.dvtPPGovGroup</span></span><span>
</span><span id="line-149"></span><span>        </span><span id="local-6989586621680609024"><span class="annot"><span class="annottext">UnitInterval
</span><a href="#local-6989586621680609024"><span class="hs-identifier hs-var">dvtTreasuryWithdrawal</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall r. BoundedRational r =&gt; Rational -&gt; Maybe r
</span><span class="hs-identifier hs-var">boundRational</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">UnitInterval</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Maybe UnitInterval)
-&gt; Maybe Rational -&gt; Maybe UnitInterval
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%3D%3C%3C"><span class="hs-operator hs-var">=&lt;&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams
</span><a href="#local-6989586621680608978"><span class="hs-identifier hs-var">pparams</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams
-&gt; Getting (Maybe Rational) ProtocolParams (Maybe Rational)
-&gt; Maybe Rational
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting (Maybe Rational) ProtocolParams (Maybe Rational)
forall s a. HasDvtTreasuryWithdrawal s a =&gt; Lens' s a
Lens' ProtocolParams (Maybe Rational)
</span><span class="hs-identifier hs-var">Blockfrost.dvtTreasuryWithdrawal</span></span><span>
</span><span id="line-150"></span><span>        </span><span id="local-6989586621680609026"><span class="annot"><span class="annottext">Quantity
</span><a href="#local-6989586621680609026"><span class="hs-identifier hs-var">committeeMinSize</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ProtocolParams
</span><a href="#local-6989586621680608978"><span class="hs-identifier hs-var">pparams</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams
-&gt; Getting (Maybe Quantity) ProtocolParams (Maybe Quantity)
-&gt; Maybe Quantity
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting (Maybe Quantity) ProtocolParams (Maybe Quantity)
forall s a. HasCommitteeMinSize s a =&gt; Lens' s a
Lens' ProtocolParams (Maybe Quantity)
</span><span class="hs-identifier hs-var">Blockfrost.committeeMinSize</span></span><span>
</span><span id="line-151"></span><span>        </span><span id="local-6989586621680609028"><span class="annot"><span class="annottext">Quantity
</span><a href="#local-6989586621680609028"><span class="hs-identifier hs-var">committeeMaxTermLength</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ProtocolParams
</span><a href="#local-6989586621680608978"><span class="hs-identifier hs-var">pparams</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams
-&gt; Getting (Maybe Quantity) ProtocolParams (Maybe Quantity)
-&gt; Maybe Quantity
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting (Maybe Quantity) ProtocolParams (Maybe Quantity)
forall s a. HasCommitteeMaxTermLength s a =&gt; Lens' s a
Lens' ProtocolParams (Maybe Quantity)
</span><span class="hs-identifier hs-var">Blockfrost.committeeMaxTermLength</span></span><span>
</span><span id="line-152"></span><span>        </span><span id="local-6989586621680609030"><span class="annot"><span class="annottext">Quantity
</span><a href="#local-6989586621680609030"><span class="hs-identifier hs-var">govActionLifetime</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ProtocolParams
</span><a href="#local-6989586621680608978"><span class="hs-identifier hs-var">pparams</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams
-&gt; Getting (Maybe Quantity) ProtocolParams (Maybe Quantity)
-&gt; Maybe Quantity
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting (Maybe Quantity) ProtocolParams (Maybe Quantity)
forall s a. HasGovActionLifetime s a =&gt; Lens' s a
Lens' ProtocolParams (Maybe Quantity)
</span><span class="hs-identifier hs-var">Blockfrost.govActionLifetime</span></span><span>
</span><span id="line-153"></span><span>        </span><span id="local-6989586621680609032"><span class="annot"><span class="annottext">Coin
</span><a href="#local-6989586621680609032"><span class="hs-identifier hs-var">govActionDeposit</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Discrete' &quot;ADA&quot; '(1000000, 1) -&gt; Coin
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">(Discrete' &quot;ADA&quot; '(1000000, 1) -&gt; Coin)
-&gt; Maybe (Discrete' &quot;ADA&quot; '(1000000, 1)) -&gt; Maybe Coin
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams
</span><a href="#local-6989586621680608978"><span class="hs-identifier hs-var">pparams</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams
-&gt; Getting
     (Maybe (Discrete' &quot;ADA&quot; '(1000000, 1)))
     ProtocolParams
     (Maybe (Discrete' &quot;ADA&quot; '(1000000, 1)))
-&gt; Maybe (Discrete' &quot;ADA&quot; '(1000000, 1))
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting
  (Maybe (Discrete' &quot;ADA&quot; '(1000000, 1)))
  ProtocolParams
  (Maybe (Discrete' &quot;ADA&quot; '(1000000, 1)))
forall s a. HasGovActionDeposit s a =&gt; Lens' s a
Lens' ProtocolParams (Maybe (Discrete' &quot;ADA&quot; '(1000000, 1)))
</span><span class="hs-identifier hs-var">Blockfrost.govActionDeposit</span></span><span>
</span><span id="line-154"></span><span>        </span><span id="local-6989586621680609035"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621680609035"><span class="hs-identifier hs-var">drepDeposit</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Discrete' &quot;ADA&quot; '(1000000, 1) -&gt; Integer
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">(Discrete' &quot;ADA&quot; '(1000000, 1) -&gt; Integer)
-&gt; Maybe (Discrete' &quot;ADA&quot; '(1000000, 1)) -&gt; Maybe Integer
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams
</span><a href="#local-6989586621680608978"><span class="hs-identifier hs-var">pparams</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams
-&gt; Getting
     (Maybe (Discrete' &quot;ADA&quot; '(1000000, 1)))
     ProtocolParams
     (Maybe (Discrete' &quot;ADA&quot; '(1000000, 1)))
-&gt; Maybe (Discrete' &quot;ADA&quot; '(1000000, 1))
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting
  (Maybe (Discrete' &quot;ADA&quot; '(1000000, 1)))
  ProtocolParams
  (Maybe (Discrete' &quot;ADA&quot; '(1000000, 1)))
forall s a. HasDrepDeposit s a =&gt; Lens' s a
Lens' ProtocolParams (Maybe (Discrete' &quot;ADA&quot; '(1000000, 1)))
</span><span class="hs-identifier hs-var">Blockfrost.drepDeposit</span></span><span>
</span><span id="line-155"></span><span>        </span><span id="local-6989586621680609037"><span class="annot"><span class="annottext">Quantity
</span><a href="#local-6989586621680609037"><span class="hs-identifier hs-var">drepActivity</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ProtocolParams
</span><a href="#local-6989586621680608978"><span class="hs-identifier hs-var">pparams</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams
-&gt; Getting (Maybe Quantity) ProtocolParams (Maybe Quantity)
-&gt; Maybe Quantity
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting (Maybe Quantity) ProtocolParams (Maybe Quantity)
forall s a. HasDrepActivity s a =&gt; Lens' s a
Lens' ProtocolParams (Maybe Quantity)
</span><span class="hs-identifier hs-var">Blockfrost.drepActivity</span></span><span>
</span><span id="line-156"></span><span>        </span><span id="local-6989586621680609039"><span class="annot"><span class="annottext">NonNegativeInterval
</span><a href="#local-6989586621680609039"><span class="hs-identifier hs-var">minFeeRefScriptCostPerByte</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall r. BoundedRational r =&gt; Rational -&gt; Maybe r
</span><span class="hs-identifier hs-var">boundRational</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">NonNegativeInterval</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Maybe NonNegativeInterval)
-&gt; Maybe Rational -&gt; Maybe NonNegativeInterval
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%3D%3C%3C"><span class="hs-operator hs-var">=&lt;&lt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ProtocolParams
</span><a href="#local-6989586621680608978"><span class="hs-identifier hs-var">pparams</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams
-&gt; Getting (Maybe Rational) ProtocolParams (Maybe Rational)
-&gt; Maybe Rational
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting (Maybe Rational) ProtocolParams (Maybe Rational)
forall s a. HasMinFeeRefScriptCostPerByte s a =&gt; Lens' s a
Lens' ProtocolParams (Maybe Rational)
</span><span class="hs-identifier hs-var">Blockfrost.minFeeRefScriptCostPerByte</span></span><span class="hs-special">)</span><span>
</span><span id="line-157"></span><span>        </span><span class="annot"><span class="annottext">BlockfrostConversion -&gt; Maybe BlockfrostConversion
forall a. a -&gt; Maybe a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><a href="Hydra.Chain.Blockfrost.Client.html#BlockfrostConversion"><span class="hs-identifier hs-type">BlockfrostConversion</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">Integer
Coin
UnitInterval
NonNegativeInterval
Quantity
a0 :: NonNegativeInterval
rho :: UnitInterval
tau :: UnitInterval
priceMemory :: NonNegativeInterval
priceSteps :: NonNegativeInterval
pvtMotionNoConfidence :: UnitInterval
pvtCommitteeNormal :: UnitInterval
pvtCommitteeNoConfidence :: UnitInterval
pvtHardForkInitiation :: UnitInterval
pvtPPSecurityGroup :: UnitInterval
dvtMotionNoConfidence :: UnitInterval
dvtCommitteeNormal :: UnitInterval
dvtCommitteeNoConfidence :: UnitInterval
dvtUpdateToConstitution :: UnitInterval
dvtHardForkInitiation :: UnitInterval
dvtPPNetworkGroup :: UnitInterval
dvtPPEconomicGroup :: UnitInterval
dvtPPTechnicalGroup :: UnitInterval
dvtPPGovGroup :: UnitInterval
dvtTreasuryWithdrawal :: UnitInterval
committeeMinSize :: Quantity
committeeMaxTermLength :: Quantity
govActionLifetime :: Quantity
govActionDeposit :: Coin
drepDeposit :: Integer
drepActivity :: Quantity
minFeeRefScriptCostPerByte :: NonNegativeInterval
$sel:a0:BlockfrostConversion :: NonNegativeInterval
$sel:rho:BlockfrostConversion :: UnitInterval
$sel:tau:BlockfrostConversion :: UnitInterval
$sel:priceMemory:BlockfrostConversion :: NonNegativeInterval
$sel:priceSteps:BlockfrostConversion :: NonNegativeInterval
$sel:pvtMotionNoConfidence:BlockfrostConversion :: UnitInterval
$sel:pvtCommitteeNormal:BlockfrostConversion :: UnitInterval
$sel:pvtCommitteeNoConfidence:BlockfrostConversion :: UnitInterval
$sel:pvtHardForkInitiation:BlockfrostConversion :: UnitInterval
$sel:pvtPPSecurityGroup:BlockfrostConversion :: UnitInterval
$sel:dvtMotionNoConfidence:BlockfrostConversion :: UnitInterval
$sel:dvtCommitteeNormal:BlockfrostConversion :: UnitInterval
$sel:dvtCommitteeNoConfidence:BlockfrostConversion :: UnitInterval
$sel:dvtUpdateToConstitution:BlockfrostConversion :: UnitInterval
$sel:dvtHardForkInitiation:BlockfrostConversion :: UnitInterval
$sel:dvtPPNetworkGroup:BlockfrostConversion :: UnitInterval
$sel:dvtPPEconomicGroup:BlockfrostConversion :: UnitInterval
$sel:dvtPPTechnicalGroup:BlockfrostConversion :: UnitInterval
$sel:dvtPPGovGroup:BlockfrostConversion :: UnitInterval
$sel:dvtTreasuryWithdrawal:BlockfrostConversion :: UnitInterval
$sel:committeeMinSize:BlockfrostConversion :: Quantity
$sel:committeeMaxTermLength:BlockfrostConversion :: Quantity
$sel:govActionLifetime:BlockfrostConversion :: Quantity
$sel:govActionDeposit:BlockfrostConversion :: Coin
$sel:drepDeposit:BlockfrostConversion :: Integer
$sel:drepActivity:BlockfrostConversion :: Quantity
$sel:minFeeRefScriptCostPerByte:BlockfrostConversion :: NonNegativeInterval
</span><a href="#local-6989586621680608985"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-158"></span><span>
</span><span id="line-159"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe BlockfrostConversion
</span><a href="#local-6989586621680608984"><span class="hs-identifier hs-var">results</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-160"></span><span>    </span><span class="annot"><span class="annottext">Maybe BlockfrostConversion
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IO (PParams ConwayEra) -&gt; BlockfrostClientT m (PParams ConwayEra)
forall a. IO a -&gt; BlockfrostClientT m a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (PParams ConwayEra) -&gt; BlockfrostClientT m (PParams ConwayEra))
-&gt; IO (PParams ConwayEra)
-&gt; BlockfrostClientT m (PParams ConwayEra)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">BlockfrostException -&gt; IO (PParams ConwayEra)
forall e a. Exception e =&gt; e -&gt; IO a
forall (m :: * -&gt; *) e a. (MonadThrow m, Exception e) =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">throwIO</span></span><span> </span><span class="annot"><span class="annottext">(BlockfrostException -&gt; IO (PParams ConwayEra))
-&gt; BlockfrostException -&gt; IO (PParams ConwayEra)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; BlockfrostException
</span><a href="Hydra.Chain.Blockfrost.Client.html#DecodeError"><span class="hs-identifier hs-var">DecodeError</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Could not decode some values appropriately.&quot;</span></span><span>
</span><span id="line-161"></span><span>    </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="annot"><a href="Hydra.Chain.Blockfrost.Client.html#BlockfrostConversion"><span class="hs-identifier hs-type">BlockfrostConversion</span></a></span><span class="hs-special">{</span><span id="local-6989586621680609069"><span id="local-6989586621680609070"><span id="local-6989586621680609071"><span id="local-6989586621680609072"><span id="local-6989586621680609073"><span id="local-6989586621680609074"><span id="local-6989586621680609075"><span id="local-6989586621680609076"><span id="local-6989586621680609077"><span id="local-6989586621680609078"><span id="local-6989586621680609079"><span id="local-6989586621680609080"><span id="local-6989586621680609081"><span id="local-6989586621680609082"><span id="local-6989586621680609083"><span id="local-6989586621680609084"><span id="local-6989586621680609085"><span id="local-6989586621680609086"><span id="local-6989586621680609087"><span id="local-6989586621680609088"><span id="local-6989586621680609089"><span id="local-6989586621680609090"><span id="local-6989586621680609091"><span id="local-6989586621680609092"><span id="local-6989586621680609093"><span id="local-6989586621680609094"><span id="local-6989586621680609095"><span class="annot"><span class="annottext">Integer
Coin
UnitInterval
NonNegativeInterval
Quantity
$sel:a0:BlockfrostConversion :: BlockfrostConversion -&gt; NonNegativeInterval
$sel:rho:BlockfrostConversion :: BlockfrostConversion -&gt; UnitInterval
$sel:tau:BlockfrostConversion :: BlockfrostConversion -&gt; UnitInterval
$sel:priceMemory:BlockfrostConversion :: BlockfrostConversion -&gt; NonNegativeInterval
$sel:priceSteps:BlockfrostConversion :: BlockfrostConversion -&gt; NonNegativeInterval
$sel:pvtMotionNoConfidence:BlockfrostConversion :: BlockfrostConversion -&gt; UnitInterval
$sel:pvtCommitteeNormal:BlockfrostConversion :: BlockfrostConversion -&gt; UnitInterval
$sel:pvtCommitteeNoConfidence:BlockfrostConversion :: BlockfrostConversion -&gt; UnitInterval
$sel:pvtHardForkInitiation:BlockfrostConversion :: BlockfrostConversion -&gt; UnitInterval
$sel:pvtPPSecurityGroup:BlockfrostConversion :: BlockfrostConversion -&gt; UnitInterval
$sel:dvtMotionNoConfidence:BlockfrostConversion :: BlockfrostConversion -&gt; UnitInterval
$sel:dvtCommitteeNormal:BlockfrostConversion :: BlockfrostConversion -&gt; UnitInterval
$sel:dvtCommitteeNoConfidence:BlockfrostConversion :: BlockfrostConversion -&gt; UnitInterval
$sel:dvtUpdateToConstitution:BlockfrostConversion :: BlockfrostConversion -&gt; UnitInterval
$sel:dvtHardForkInitiation:BlockfrostConversion :: BlockfrostConversion -&gt; UnitInterval
$sel:dvtPPNetworkGroup:BlockfrostConversion :: BlockfrostConversion -&gt; UnitInterval
$sel:dvtPPEconomicGroup:BlockfrostConversion :: BlockfrostConversion -&gt; UnitInterval
$sel:dvtPPTechnicalGroup:BlockfrostConversion :: BlockfrostConversion -&gt; UnitInterval
$sel:dvtPPGovGroup:BlockfrostConversion :: BlockfrostConversion -&gt; UnitInterval
$sel:dvtTreasuryWithdrawal:BlockfrostConversion :: BlockfrostConversion -&gt; UnitInterval
$sel:committeeMinSize:BlockfrostConversion :: BlockfrostConversion -&gt; Quantity
$sel:committeeMaxTermLength:BlockfrostConversion :: BlockfrostConversion -&gt; Quantity
$sel:govActionLifetime:BlockfrostConversion :: BlockfrostConversion -&gt; Quantity
$sel:govActionDeposit:BlockfrostConversion :: BlockfrostConversion -&gt; Coin
$sel:drepDeposit:BlockfrostConversion :: BlockfrostConversion -&gt; Integer
$sel:drepActivity:BlockfrostConversion :: BlockfrostConversion -&gt; Quantity
$sel:minFeeRefScriptCostPerByte:BlockfrostConversion :: BlockfrostConversion -&gt; NonNegativeInterval
a0 :: NonNegativeInterval
rho :: UnitInterval
tau :: UnitInterval
priceMemory :: NonNegativeInterval
priceSteps :: NonNegativeInterval
pvtMotionNoConfidence :: UnitInterval
pvtCommitteeNormal :: UnitInterval
pvtCommitteeNoConfidence :: UnitInterval
pvtHardForkInitiation :: UnitInterval
pvtPPSecurityGroup :: UnitInterval
dvtMotionNoConfidence :: UnitInterval
dvtCommitteeNormal :: UnitInterval
dvtCommitteeNoConfidence :: UnitInterval
dvtUpdateToConstitution :: UnitInterval
dvtHardForkInitiation :: UnitInterval
dvtPPNetworkGroup :: UnitInterval
dvtPPEconomicGroup :: UnitInterval
dvtPPTechnicalGroup :: UnitInterval
dvtPPGovGroup :: UnitInterval
dvtTreasuryWithdrawal :: UnitInterval
committeeMinSize :: Quantity
committeeMaxTermLength :: Quantity
govActionLifetime :: Quantity
govActionDeposit :: Coin
drepDeposit :: Integer
drepActivity :: Quantity
minFeeRefScriptCostPerByte :: NonNegativeInterval
</span><a href="Hydra.Chain.Blockfrost.Client.html#%24sel%3Aa0%3ABlockfrostConversion"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-162"></span><span>      </span><span class="annot"><span class="annottext">PParams ConwayEra -&gt; BlockfrostClientT m (PParams ConwayEra)
forall a. a -&gt; BlockfrostClientT m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(PParams ConwayEra -&gt; BlockfrostClientT m (PParams ConwayEra))
-&gt; PParams ConwayEra -&gt; BlockfrostClientT m (PParams ConwayEra)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-163"></span><span>        </span><span class="annot"><span class="annottext">PParams ConwayEra
forall era. EraPParams era =&gt; PParams era
</span><span class="hs-identifier hs-var">emptyPParams</span></span><span>
</span><span id="line-164"></span><span>          </span><span class="annot"><span class="annottext">PParams ConwayEra
-&gt; (PParams ConwayEra -&gt; PParams ConwayEra) -&gt; PParams ConwayEra
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(Coin -&gt; Identity Coin)
-&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra)
forall era. EraPParams era =&gt; Lens' (PParams era) Coin
Lens' (PParams ConwayEra) Coin
</span><span class="hs-identifier hs-var">ppMinFeeAL</span></span><span> </span><span class="annot"><span class="annottext">((Coin -&gt; Identity Coin)
 -&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra))
-&gt; Coin -&gt; PParams ConwayEra -&gt; PParams ConwayEra
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Coin
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ProtocolParams
</span><a href="#local-6989586621680608978"><span class="hs-identifier hs-var">pparams</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams -&gt; Getting Integer ProtocolParams Integer -&gt; Integer
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting Integer ProtocolParams Integer
forall s a. HasMinFeeA s a =&gt; Lens' s a
Lens' ProtocolParams Integer
</span><span class="hs-identifier hs-var">Blockfrost.minFeeA</span></span><span class="hs-special">)</span><span>
</span><span id="line-165"></span><span>          </span><span class="annot"><span class="annottext">PParams ConwayEra
-&gt; (PParams ConwayEra -&gt; PParams ConwayEra) -&gt; PParams ConwayEra
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(Coin -&gt; Identity Coin)
-&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra)
forall era. EraPParams era =&gt; Lens' (PParams era) Coin
Lens' (PParams ConwayEra) Coin
</span><span class="hs-identifier hs-var">ppMinFeeBL</span></span><span> </span><span class="annot"><span class="annottext">((Coin -&gt; Identity Coin)
 -&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra))
-&gt; Coin -&gt; PParams ConwayEra -&gt; PParams ConwayEra
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Coin
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ProtocolParams
</span><a href="#local-6989586621680608978"><span class="hs-identifier hs-var">pparams</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams -&gt; Getting Integer ProtocolParams Integer -&gt; Integer
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting Integer ProtocolParams Integer
forall s a. HasMinFeeB s a =&gt; Lens' s a
Lens' ProtocolParams Integer
</span><span class="hs-identifier hs-var">Blockfrost.minFeeB</span></span><span class="hs-special">)</span><span>
</span><span id="line-166"></span><span>          </span><span class="annot"><span class="annottext">PParams ConwayEra
-&gt; (PParams ConwayEra -&gt; PParams ConwayEra) -&gt; PParams ConwayEra
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(Word32 -&gt; Identity Word32)
-&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra)
forall era. EraPParams era =&gt; Lens' (PParams era) Word32
Lens' (PParams ConwayEra) Word32
</span><span class="hs-identifier hs-var">ppMaxBBSizeL</span></span><span> </span><span class="annot"><span class="annottext">((Word32 -&gt; Identity Word32)
 -&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra))
-&gt; Word32 -&gt; PParams ConwayEra -&gt; PParams ConwayEra
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Word32
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ProtocolParams
</span><a href="#local-6989586621680608978"><span class="hs-identifier hs-var">pparams</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams -&gt; Getting Integer ProtocolParams Integer -&gt; Integer
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting Integer ProtocolParams Integer
forall s a. HasMaxBlockSize s a =&gt; Lens' s a
Lens' ProtocolParams Integer
</span><span class="hs-identifier hs-var">Blockfrost.maxBlockSize</span></span><span class="hs-special">)</span><span>
</span><span id="line-167"></span><span>          </span><span class="annot"><span class="annottext">PParams ConwayEra
-&gt; (PParams ConwayEra -&gt; PParams ConwayEra) -&gt; PParams ConwayEra
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(Word32 -&gt; Identity Word32)
-&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra)
forall era. EraPParams era =&gt; Lens' (PParams era) Word32
Lens' (PParams ConwayEra) Word32
</span><span class="hs-identifier hs-var">ppMaxTxSizeL</span></span><span> </span><span class="annot"><span class="annottext">((Word32 -&gt; Identity Word32)
 -&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra))
-&gt; Word32 -&gt; PParams ConwayEra -&gt; PParams ConwayEra
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Word32
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ProtocolParams
</span><a href="#local-6989586621680608978"><span class="hs-identifier hs-var">pparams</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams -&gt; Getting Integer ProtocolParams Integer -&gt; Integer
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting Integer ProtocolParams Integer
forall s a. HasMaxTxSize s a =&gt; Lens' s a
Lens' ProtocolParams Integer
</span><span class="hs-identifier hs-var">Blockfrost.maxTxSize</span></span><span class="hs-special">)</span><span>
</span><span id="line-168"></span><span>          </span><span class="annot"><span class="annottext">PParams ConwayEra
-&gt; (PParams ConwayEra -&gt; PParams ConwayEra) -&gt; PParams ConwayEra
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(Word16 -&gt; Identity Word16)
-&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra)
forall era. EraPParams era =&gt; Lens' (PParams era) Word16
Lens' (PParams ConwayEra) Word16
</span><span class="hs-identifier hs-var">ppMaxBHSizeL</span></span><span> </span><span class="annot"><span class="annottext">((Word16 -&gt; Identity Word16)
 -&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra))
-&gt; Word16 -&gt; PParams ConwayEra -&gt; PParams ConwayEra
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Word16
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ProtocolParams
</span><a href="#local-6989586621680608978"><span class="hs-identifier hs-var">pparams</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams -&gt; Getting Integer ProtocolParams Integer -&gt; Integer
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting Integer ProtocolParams Integer
forall s a. HasMaxBlockHeaderSize s a =&gt; Lens' s a
Lens' ProtocolParams Integer
</span><span class="hs-identifier hs-var">Blockfrost.maxBlockHeaderSize</span></span><span class="hs-special">)</span><span>
</span><span id="line-169"></span><span>          </span><span class="annot"><span class="annottext">PParams ConwayEra
-&gt; (PParams ConwayEra -&gt; PParams ConwayEra) -&gt; PParams ConwayEra
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(Coin -&gt; Identity Coin)
-&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra)
forall era. EraPParams era =&gt; Lens' (PParams era) Coin
Lens' (PParams ConwayEra) Coin
</span><span class="hs-identifier hs-var">ppKeyDepositL</span></span><span> </span><span class="annot"><span class="annottext">((Coin -&gt; Identity Coin)
 -&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra))
-&gt; Coin -&gt; PParams ConwayEra -&gt; PParams ConwayEra
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Discrete' &quot;ADA&quot; '(1000000, 1) -&gt; Coin
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ProtocolParams
</span><a href="#local-6989586621680608978"><span class="hs-identifier hs-var">pparams</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams
-&gt; Getting
     (Discrete' &quot;ADA&quot; '(1000000, 1))
     ProtocolParams
     (Discrete' &quot;ADA&quot; '(1000000, 1))
-&gt; Discrete' &quot;ADA&quot; '(1000000, 1)
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting
  (Discrete' &quot;ADA&quot; '(1000000, 1))
  ProtocolParams
  (Discrete' &quot;ADA&quot; '(1000000, 1))
forall s a. HasKeyDeposit s a =&gt; Lens' s a
Lens' ProtocolParams (Discrete' &quot;ADA&quot; '(1000000, 1))
</span><span class="hs-identifier hs-var">Blockfrost.keyDeposit</span></span><span class="hs-special">)</span><span>
</span><span id="line-170"></span><span>          </span><span class="annot"><span class="annottext">PParams ConwayEra
-&gt; (PParams ConwayEra -&gt; PParams ConwayEra) -&gt; PParams ConwayEra
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(Coin -&gt; Identity Coin)
-&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra)
forall era. EraPParams era =&gt; Lens' (PParams era) Coin
Lens' (PParams ConwayEra) Coin
</span><span class="hs-identifier hs-var">ppPoolDepositL</span></span><span> </span><span class="annot"><span class="annottext">((Coin -&gt; Identity Coin)
 -&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra))
-&gt; Coin -&gt; PParams ConwayEra -&gt; PParams ConwayEra
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Discrete' &quot;ADA&quot; '(1000000, 1) -&gt; Coin
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ProtocolParams
</span><a href="#local-6989586621680608978"><span class="hs-identifier hs-var">pparams</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams
-&gt; Getting
     (Discrete' &quot;ADA&quot; '(1000000, 1))
     ProtocolParams
     (Discrete' &quot;ADA&quot; '(1000000, 1))
-&gt; Discrete' &quot;ADA&quot; '(1000000, 1)
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting
  (Discrete' &quot;ADA&quot; '(1000000, 1))
  ProtocolParams
  (Discrete' &quot;ADA&quot; '(1000000, 1))
forall s a. HasPoolDeposit s a =&gt; Lens' s a
Lens' ProtocolParams (Discrete' &quot;ADA&quot; '(1000000, 1))
</span><span class="hs-identifier hs-var">Blockfrost.poolDeposit</span></span><span class="hs-special">)</span><span>
</span><span id="line-171"></span><span>          </span><span class="annot"><span class="annottext">PParams ConwayEra
-&gt; (PParams ConwayEra -&gt; PParams ConwayEra) -&gt; PParams ConwayEra
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(EpochInterval -&gt; Identity EpochInterval)
-&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra)
forall era. EraPParams era =&gt; Lens' (PParams era) EpochInterval
Lens' (PParams ConwayEra) EpochInterval
</span><span class="hs-identifier hs-var">ppEMaxL</span></span><span> </span><span class="annot"><span class="annottext">((EpochInterval -&gt; Identity EpochInterval)
 -&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra))
-&gt; EpochInterval -&gt; PParams ConwayEra -&gt; PParams ConwayEra
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Word32 -&gt; EpochInterval
</span><span class="hs-identifier hs-var">EpochInterval</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Word32
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ProtocolParams
</span><a href="#local-6989586621680608978"><span class="hs-identifier hs-var">pparams</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams -&gt; Getting Integer ProtocolParams Integer -&gt; Integer
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting Integer ProtocolParams Integer
forall s a. HasEMax s a =&gt; Lens' s a
Lens' ProtocolParams Integer
</span><span class="hs-identifier hs-var">Blockfrost.eMax</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-172"></span><span>          </span><span class="annot"><span class="annottext">PParams ConwayEra
-&gt; (PParams ConwayEra -&gt; PParams ConwayEra) -&gt; PParams ConwayEra
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(Word16 -&gt; Identity Word16)
-&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra)
forall era. EraPParams era =&gt; Lens' (PParams era) Word16
Lens' (PParams ConwayEra) Word16
</span><span class="hs-identifier hs-var">ppNOptL</span></span><span> </span><span class="annot"><span class="annottext">((Word16 -&gt; Identity Word16)
 -&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra))
-&gt; Word16 -&gt; PParams ConwayEra -&gt; PParams ConwayEra
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Word16
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ProtocolParams
</span><a href="#local-6989586621680608978"><span class="hs-identifier hs-var">pparams</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams -&gt; Getting Integer ProtocolParams Integer -&gt; Integer
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting Integer ProtocolParams Integer
forall s a. HasNOpt s a =&gt; Lens' s a
Lens' ProtocolParams Integer
</span><span class="hs-identifier hs-var">Blockfrost.nOpt</span></span><span class="hs-special">)</span><span>
</span><span id="line-173"></span><span>          </span><span class="annot"><span class="annottext">PParams ConwayEra
-&gt; (PParams ConwayEra -&gt; PParams ConwayEra) -&gt; PParams ConwayEra
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(NonNegativeInterval -&gt; Identity NonNegativeInterval)
-&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra)
forall era.
EraPParams era =&gt;
Lens' (PParams era) NonNegativeInterval
Lens' (PParams ConwayEra) NonNegativeInterval
</span><span class="hs-identifier hs-var">ppA0L</span></span><span> </span><span class="annot"><span class="annottext">((NonNegativeInterval -&gt; Identity NonNegativeInterval)
 -&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra))
-&gt; NonNegativeInterval -&gt; PParams ConwayEra -&gt; PParams ConwayEra
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">NonNegativeInterval
</span><a href="#local-6989586621680609069"><span class="hs-identifier hs-var">a0</span></a></span><span>
</span><span id="line-174"></span><span>          </span><span class="annot"><span class="annottext">PParams ConwayEra
-&gt; (PParams ConwayEra -&gt; PParams ConwayEra) -&gt; PParams ConwayEra
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(UnitInterval -&gt; Identity UnitInterval)
-&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra)
forall era. EraPParams era =&gt; Lens' (PParams era) UnitInterval
Lens' (PParams ConwayEra) UnitInterval
</span><span class="hs-identifier hs-var">ppRhoL</span></span><span> </span><span class="annot"><span class="annottext">((UnitInterval -&gt; Identity UnitInterval)
 -&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra))
-&gt; UnitInterval -&gt; PParams ConwayEra -&gt; PParams ConwayEra
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">UnitInterval
</span><a href="#local-6989586621680609070"><span class="hs-identifier hs-var">rho</span></a></span><span>
</span><span id="line-175"></span><span>          </span><span class="annot"><span class="annottext">PParams ConwayEra
-&gt; (PParams ConwayEra -&gt; PParams ConwayEra) -&gt; PParams ConwayEra
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(UnitInterval -&gt; Identity UnitInterval)
-&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra)
forall era. EraPParams era =&gt; Lens' (PParams era) UnitInterval
Lens' (PParams ConwayEra) UnitInterval
</span><span class="hs-identifier hs-var">ppTauL</span></span><span> </span><span class="annot"><span class="annottext">((UnitInterval -&gt; Identity UnitInterval)
 -&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra))
-&gt; UnitInterval -&gt; PParams ConwayEra -&gt; PParams ConwayEra
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">UnitInterval
</span><a href="#local-6989586621680609071"><span class="hs-identifier hs-var">tau</span></a></span><span>
</span><span id="line-176"></span><span>          </span><span class="annot"><span class="annottext">PParams ConwayEra
-&gt; (PParams ConwayEra -&gt; PParams ConwayEra) -&gt; PParams ConwayEra
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(ProtVer -&gt; Identity ProtVer)
-&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra)
forall era. EraPParams era =&gt; Lens' (PParams era) ProtVer
Lens' (PParams ConwayEra) ProtVer
</span><span class="hs-identifier hs-var">ppProtocolVersionL</span></span><span> </span><span class="annot"><span class="annottext">((ProtVer -&gt; Identity ProtVer)
 -&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra))
-&gt; ProtVer -&gt; PParams ConwayEra -&gt; PParams ConwayEra
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Version -&gt; Natural -&gt; ProtVer
</span><span class="hs-identifier hs-var">ProtVer</span></span><span> </span><span class="annot"><span class="annottext">Version
</span><a href="#local-6989586621680608982"><span class="hs-identifier hs-var">maxVersion</span></a></span><span> </span><span class="annot"><span class="annottext">Natural
</span><a href="#local-6989586621680608980"><span class="hs-identifier hs-var">minVersion</span></a></span><span>
</span><span id="line-177"></span><span>          </span><span class="annot"><span class="annottext">PParams ConwayEra
-&gt; (PParams ConwayEra -&gt; PParams ConwayEra) -&gt; PParams ConwayEra
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(Coin -&gt; Identity Coin)
-&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra)
forall era. EraPParams era =&gt; Lens' (PParams era) Coin
Lens' (PParams ConwayEra) Coin
</span><span class="hs-identifier hs-var">ppMinPoolCostL</span></span><span> </span><span class="annot"><span class="annottext">((Coin -&gt; Identity Coin)
 -&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra))
-&gt; Coin -&gt; PParams ConwayEra -&gt; PParams ConwayEra
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Discrete' &quot;ADA&quot; '(1000000, 1) -&gt; Coin
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ProtocolParams
</span><a href="#local-6989586621680608978"><span class="hs-identifier hs-var">pparams</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams
-&gt; Getting
     (Discrete' &quot;ADA&quot; '(1000000, 1))
     ProtocolParams
     (Discrete' &quot;ADA&quot; '(1000000, 1))
-&gt; Discrete' &quot;ADA&quot; '(1000000, 1)
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting
  (Discrete' &quot;ADA&quot; '(1000000, 1))
  ProtocolParams
  (Discrete' &quot;ADA&quot; '(1000000, 1))
forall s a. HasMinPoolCost s a =&gt; Lens' s a
Lens' ProtocolParams (Discrete' &quot;ADA&quot; '(1000000, 1))
</span><span class="hs-identifier hs-var">Blockfrost.minPoolCost</span></span><span class="hs-special">)</span><span>
</span><span id="line-178"></span><span>          </span><span class="annot"><span class="annottext">PParams ConwayEra
-&gt; (PParams ConwayEra -&gt; PParams ConwayEra) -&gt; PParams ConwayEra
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(CoinPerByte -&gt; Identity CoinPerByte)
-&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra)
forall era.
BabbageEraPParams era =&gt;
Lens' (PParams era) CoinPerByte
Lens' (PParams ConwayEra) CoinPerByte
</span><span class="hs-identifier hs-var">ppCoinsPerUTxOByteL</span></span><span> </span><span class="annot"><span class="annottext">((CoinPerByte -&gt; Identity CoinPerByte)
 -&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra))
-&gt; CoinPerByte -&gt; PParams ConwayEra -&gt; PParams ConwayEra
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Coin -&gt; CoinPerByte
</span><span class="hs-identifier hs-var">CoinPerByte</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Discrete' &quot;ADA&quot; '(1000000, 1) -&gt; Coin
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ProtocolParams
</span><a href="#local-6989586621680608978"><span class="hs-identifier hs-var">pparams</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams
-&gt; Getting
     (Discrete' &quot;ADA&quot; '(1000000, 1))
     ProtocolParams
     (Discrete' &quot;ADA&quot; '(1000000, 1))
-&gt; Discrete' &quot;ADA&quot; '(1000000, 1)
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting
  (Discrete' &quot;ADA&quot; '(1000000, 1))
  ProtocolParams
  (Discrete' &quot;ADA&quot; '(1000000, 1))
forall s a. HasCoinsPerUtxoSize s a =&gt; Lens' s a
Lens' ProtocolParams (Discrete' &quot;ADA&quot; '(1000000, 1))
</span><span class="hs-identifier hs-var">Blockfrost.coinsPerUtxoSize</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-179"></span><span>          </span><span class="annot"><span class="annottext">PParams ConwayEra
-&gt; (PParams ConwayEra -&gt; PParams ConwayEra) -&gt; PParams ConwayEra
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(CostModels -&gt; Identity CostModels)
-&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra)
forall era. AlonzoEraPParams era =&gt; Lens' (PParams era) CostModels
Lens' (PParams ConwayEra) CostModels
</span><span class="hs-identifier hs-var">ppCostModelsL</span></span><span> </span><span class="annot"><span class="annottext">((CostModels -&gt; Identity CostModels)
 -&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra))
-&gt; CostModels -&gt; PParams ConwayEra -&gt; PParams ConwayEra
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">CostModelsRaw -&gt; CostModels
</span><a href="#local-6989586621680609128"><span class="hs-identifier hs-var">convertCostModels</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ProtocolParams
</span><a href="#local-6989586621680608978"><span class="hs-identifier hs-var">pparams</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams
-&gt; Getting CostModelsRaw ProtocolParams CostModelsRaw
-&gt; CostModelsRaw
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting CostModelsRaw ProtocolParams CostModelsRaw
forall s a. HasCostModelsRaw s a =&gt; Lens' s a
Lens' ProtocolParams CostModelsRaw
</span><span class="hs-identifier hs-var">Blockfrost.costModelsRaw</span></span><span class="hs-special">)</span><span>
</span><span id="line-180"></span><span>          </span><span class="annot"><span class="annottext">PParams ConwayEra
-&gt; (PParams ConwayEra -&gt; PParams ConwayEra) -&gt; PParams ConwayEra
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(Prices -&gt; Identity Prices)
-&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra)
forall era. AlonzoEraPParams era =&gt; Lens' (PParams era) Prices
Lens' (PParams ConwayEra) Prices
</span><span class="hs-identifier hs-var">ppPricesL</span></span><span> </span><span class="annot"><span class="annottext">((Prices -&gt; Identity Prices)
 -&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra))
-&gt; Prices -&gt; PParams ConwayEra -&gt; PParams ConwayEra
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">NonNegativeInterval -&gt; NonNegativeInterval -&gt; Prices
</span><span class="hs-identifier hs-var">Prices</span></span><span> </span><span class="annot"><span class="annottext">NonNegativeInterval
</span><a href="#local-6989586621680609072"><span class="hs-identifier hs-var">priceMemory</span></a></span><span> </span><span class="annot"><span class="annottext">NonNegativeInterval
</span><a href="#local-6989586621680609073"><span class="hs-identifier hs-var">priceSteps</span></a></span><span>
</span><span id="line-181"></span><span>          </span><span class="annot"><span class="annottext">PParams ConwayEra
-&gt; (PParams ConwayEra -&gt; PParams ConwayEra) -&gt; PParams ConwayEra
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(ExUnits -&gt; Identity ExUnits)
-&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra)
forall era. AlonzoEraPParams era =&gt; Lens' (PParams era) ExUnits
Lens' (PParams ConwayEra) ExUnits
</span><span class="hs-identifier hs-var">ppMaxTxExUnitsL</span></span><span> </span><span class="annot"><span class="annottext">((ExUnits -&gt; Identity ExUnits)
 -&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra))
-&gt; ExUnits -&gt; PParams ConwayEra -&gt; PParams ConwayEra
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Natural -&gt; Natural -&gt; ExUnits
</span><span class="hs-identifier hs-var">ExUnits</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Natural
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Natural) -&gt; Integer -&gt; Natural
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Quantity -&gt; Integer
</span><span class="hs-identifier hs-var">Blockfrost.unQuantity</span></span><span> </span><span class="annot"><span class="annottext">(Quantity -&gt; Integer) -&gt; Quantity -&gt; Integer
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams
</span><a href="#local-6989586621680608978"><span class="hs-identifier hs-var">pparams</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams
-&gt; Getting Quantity ProtocolParams Quantity -&gt; Quantity
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting Quantity ProtocolParams Quantity
forall s a. HasMaxTxExMem s a =&gt; Lens' s a
Lens' ProtocolParams Quantity
</span><span class="hs-identifier hs-var">Blockfrost.maxTxExMem</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Natural
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Natural) -&gt; Integer -&gt; Natural
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Quantity -&gt; Integer
</span><span class="hs-identifier hs-var">Blockfrost.unQuantity</span></span><span> </span><span class="annot"><span class="annottext">(Quantity -&gt; Integer) -&gt; Quantity -&gt; Integer
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams
</span><a href="#local-6989586621680608978"><span class="hs-identifier hs-var">pparams</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams
-&gt; Getting Quantity ProtocolParams Quantity -&gt; Quantity
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting Quantity ProtocolParams Quantity
forall s a. HasMaxTxExSteps s a =&gt; Lens' s a
Lens' ProtocolParams Quantity
</span><span class="hs-identifier hs-var">Blockfrost.maxTxExSteps</span></span><span class="hs-special">)</span><span>
</span><span id="line-182"></span><span>          </span><span class="annot"><span class="annottext">PParams ConwayEra
-&gt; (PParams ConwayEra -&gt; PParams ConwayEra) -&gt; PParams ConwayEra
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(ExUnits -&gt; Identity ExUnits)
-&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra)
forall era. AlonzoEraPParams era =&gt; Lens' (PParams era) ExUnits
Lens' (PParams ConwayEra) ExUnits
</span><span class="hs-identifier hs-var">ppMaxBlockExUnitsL</span></span><span> </span><span class="annot"><span class="annottext">((ExUnits -&gt; Identity ExUnits)
 -&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra))
-&gt; ExUnits -&gt; PParams ConwayEra -&gt; PParams ConwayEra
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Natural -&gt; Natural -&gt; ExUnits
</span><span class="hs-identifier hs-var">ExUnits</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Natural
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Natural) -&gt; Integer -&gt; Natural
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Quantity -&gt; Integer
</span><span class="hs-identifier hs-var">Blockfrost.unQuantity</span></span><span> </span><span class="annot"><span class="annottext">(Quantity -&gt; Integer) -&gt; Quantity -&gt; Integer
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams
</span><a href="#local-6989586621680608978"><span class="hs-identifier hs-var">pparams</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams
-&gt; Getting Quantity ProtocolParams Quantity -&gt; Quantity
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting Quantity ProtocolParams Quantity
forall s a. HasMaxBlockExMem s a =&gt; Lens' s a
Lens' ProtocolParams Quantity
</span><span class="hs-identifier hs-var">Blockfrost.maxBlockExMem</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Natural
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Natural) -&gt; Integer -&gt; Natural
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Quantity -&gt; Integer
</span><span class="hs-identifier hs-var">Blockfrost.unQuantity</span></span><span> </span><span class="annot"><span class="annottext">(Quantity -&gt; Integer) -&gt; Quantity -&gt; Integer
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams
</span><a href="#local-6989586621680608978"><span class="hs-identifier hs-var">pparams</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams
-&gt; Getting Quantity ProtocolParams Quantity -&gt; Quantity
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting Quantity ProtocolParams Quantity
forall s a. HasMaxBlockExSteps s a =&gt; Lens' s a
Lens' ProtocolParams Quantity
</span><span class="hs-identifier hs-var">Blockfrost.maxBlockExSteps</span></span><span class="hs-special">)</span><span>
</span><span id="line-183"></span><span>          </span><span class="annot"><span class="annottext">PParams ConwayEra
-&gt; (PParams ConwayEra -&gt; PParams ConwayEra) -&gt; PParams ConwayEra
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(Natural -&gt; Identity Natural)
-&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra)
forall era. AlonzoEraPParams era =&gt; Lens' (PParams era) Natural
Lens' (PParams ConwayEra) Natural
</span><span class="hs-identifier hs-var">ppMaxValSizeL</span></span><span> </span><span class="annot"><span class="annottext">((Natural -&gt; Identity Natural)
 -&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra))
-&gt; Natural -&gt; PParams ConwayEra -&gt; PParams ConwayEra
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Natural
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Quantity -&gt; Integer
</span><span class="hs-identifier hs-var">Blockfrost.unQuantity</span></span><span> </span><span class="annot"><span class="annottext">(Quantity -&gt; Integer) -&gt; Quantity -&gt; Integer
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams
</span><a href="#local-6989586621680608978"><span class="hs-identifier hs-var">pparams</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams
-&gt; Getting Quantity ProtocolParams Quantity -&gt; Quantity
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting Quantity ProtocolParams Quantity
forall s a. HasMaxValSize s a =&gt; Lens' s a
Lens' ProtocolParams Quantity
</span><span class="hs-identifier hs-var">Blockfrost.maxValSize</span></span><span class="hs-special">)</span><span>
</span><span id="line-184"></span><span>          </span><span class="annot"><span class="annottext">PParams ConwayEra
-&gt; (PParams ConwayEra -&gt; PParams ConwayEra) -&gt; PParams ConwayEra
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(Natural -&gt; Identity Natural)
-&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra)
forall era. AlonzoEraPParams era =&gt; Lens' (PParams era) Natural
Lens' (PParams ConwayEra) Natural
</span><span class="hs-identifier hs-var">ppCollateralPercentageL</span></span><span> </span><span class="annot"><span class="annottext">((Natural -&gt; Identity Natural)
 -&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra))
-&gt; Natural -&gt; PParams ConwayEra -&gt; PParams ConwayEra
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Natural
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ProtocolParams
</span><a href="#local-6989586621680608978"><span class="hs-identifier hs-var">pparams</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams -&gt; Getting Integer ProtocolParams Integer -&gt; Integer
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting Integer ProtocolParams Integer
forall s a. HasCollateralPercent s a =&gt; Lens' s a
Lens' ProtocolParams Integer
</span><span class="hs-identifier hs-var">Blockfrost.collateralPercent</span></span><span class="hs-special">)</span><span>
</span><span id="line-185"></span><span>          </span><span class="annot"><span class="annottext">PParams ConwayEra
-&gt; (PParams ConwayEra -&gt; PParams ConwayEra) -&gt; PParams ConwayEra
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(Natural -&gt; Identity Natural)
-&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra)
forall era. AlonzoEraPParams era =&gt; Lens' (PParams era) Natural
Lens' (PParams ConwayEra) Natural
</span><span class="hs-identifier hs-var">ppMaxCollateralInputsL</span></span><span> </span><span class="annot"><span class="annottext">((Natural -&gt; Identity Natural)
 -&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra))
-&gt; Natural -&gt; PParams ConwayEra -&gt; PParams ConwayEra
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Natural
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ProtocolParams
</span><a href="#local-6989586621680608978"><span class="hs-identifier hs-var">pparams</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParams -&gt; Getting Integer ProtocolParams Integer -&gt; Integer
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting Integer ProtocolParams Integer
forall s a. HasMaxCollateralInputs s a =&gt; Lens' s a
Lens' ProtocolParams Integer
</span><span class="hs-identifier hs-var">Blockfrost.maxCollateralInputs</span></span><span class="hs-special">)</span><span>
</span><span id="line-186"></span><span>          </span><span class="annot"><span class="annottext">PParams ConwayEra
-&gt; (PParams ConwayEra -&gt; PParams ConwayEra) -&gt; PParams ConwayEra
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(PoolVotingThresholds -&gt; Identity PoolVotingThresholds)
-&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra)
forall era.
ConwayEraPParams era =&gt;
Lens' (PParams era) PoolVotingThresholds
Lens' (PParams ConwayEra) PoolVotingThresholds
</span><span class="hs-identifier hs-var">ppPoolVotingThresholdsL</span></span><span> </span><span class="annot"><span class="annottext">((PoolVotingThresholds -&gt; Identity PoolVotingThresholds)
 -&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra))
-&gt; PoolVotingThresholds -&gt; PParams ConwayEra -&gt; PParams ConwayEra
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PoolVotingThresholds</span></span><span class="hs-special">{</span><span class="annot"><span class="annottext">UnitInterval
pvtMotionNoConfidence :: UnitInterval
pvtMotionNoConfidence :: UnitInterval
</span><a href="#local-6989586621680609074"><span class="hs-identifier hs-var hs-var">pvtMotionNoConfidence</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">UnitInterval
pvtCommitteeNormal :: UnitInterval
pvtCommitteeNormal :: UnitInterval
</span><a href="#local-6989586621680609075"><span class="hs-identifier hs-var hs-var">pvtCommitteeNormal</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">UnitInterval
pvtCommitteeNoConfidence :: UnitInterval
pvtCommitteeNoConfidence :: UnitInterval
</span><a href="#local-6989586621680609076"><span class="hs-identifier hs-var hs-var">pvtCommitteeNoConfidence</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">UnitInterval
pvtHardForkInitiation :: UnitInterval
pvtHardForkInitiation :: UnitInterval
</span><a href="#local-6989586621680609077"><span class="hs-identifier hs-var hs-var">pvtHardForkInitiation</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">UnitInterval
pvtPPSecurityGroup :: UnitInterval
pvtPPSecurityGroup :: UnitInterval
</span><a href="#local-6989586621680609078"><span class="hs-identifier hs-var hs-var">pvtPPSecurityGroup</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-187"></span><span>          </span><span class="annot"><span class="annottext">PParams ConwayEra
-&gt; (PParams ConwayEra -&gt; PParams ConwayEra) -&gt; PParams ConwayEra
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(DRepVotingThresholds -&gt; Identity DRepVotingThresholds)
-&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra)
forall era.
ConwayEraPParams era =&gt;
Lens' (PParams era) DRepVotingThresholds
Lens' (PParams ConwayEra) DRepVotingThresholds
</span><span class="hs-identifier hs-var">ppDRepVotingThresholdsL</span></span><span> </span><span class="annot"><span class="annottext">((DRepVotingThresholds -&gt; Identity DRepVotingThresholds)
 -&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra))
-&gt; DRepVotingThresholds -&gt; PParams ConwayEra -&gt; PParams ConwayEra
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">DRepVotingThresholds</span></span><span class="hs-special">{</span><span class="annot"><span class="annottext">UnitInterval
dvtMotionNoConfidence :: UnitInterval
dvtMotionNoConfidence :: UnitInterval
</span><a href="#local-6989586621680609079"><span class="hs-identifier hs-var hs-var">dvtMotionNoConfidence</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">UnitInterval
dvtCommitteeNormal :: UnitInterval
dvtCommitteeNormal :: UnitInterval
</span><a href="#local-6989586621680609080"><span class="hs-identifier hs-var hs-var">dvtCommitteeNormal</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">UnitInterval
dvtCommitteeNoConfidence :: UnitInterval
dvtCommitteeNoConfidence :: UnitInterval
</span><a href="#local-6989586621680609081"><span class="hs-identifier hs-var hs-var">dvtCommitteeNoConfidence</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">UnitInterval
dvtUpdateToConstitution :: UnitInterval
dvtUpdateToConstitution :: UnitInterval
</span><a href="#local-6989586621680609082"><span class="hs-identifier hs-var hs-var">dvtUpdateToConstitution</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">UnitInterval
dvtHardForkInitiation :: UnitInterval
dvtHardForkInitiation :: UnitInterval
</span><a href="#local-6989586621680609083"><span class="hs-identifier hs-var hs-var">dvtHardForkInitiation</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">UnitInterval
dvtPPNetworkGroup :: UnitInterval
dvtPPNetworkGroup :: UnitInterval
</span><a href="#local-6989586621680609084"><span class="hs-identifier hs-var hs-var">dvtPPNetworkGroup</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">UnitInterval
dvtPPEconomicGroup :: UnitInterval
dvtPPEconomicGroup :: UnitInterval
</span><a href="#local-6989586621680609085"><span class="hs-identifier hs-var hs-var">dvtPPEconomicGroup</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">UnitInterval
dvtPPTechnicalGroup :: UnitInterval
dvtPPTechnicalGroup :: UnitInterval
</span><a href="#local-6989586621680609086"><span class="hs-identifier hs-var hs-var">dvtPPTechnicalGroup</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">UnitInterval
dvtPPGovGroup :: UnitInterval
dvtPPGovGroup :: UnitInterval
</span><a href="#local-6989586621680609087"><span class="hs-identifier hs-var hs-var">dvtPPGovGroup</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">UnitInterval
dvtTreasuryWithdrawal :: UnitInterval
dvtTreasuryWithdrawal :: UnitInterval
</span><a href="#local-6989586621680609088"><span class="hs-identifier hs-var hs-var">dvtTreasuryWithdrawal</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-188"></span><span>          </span><span class="annot"><span class="annottext">PParams ConwayEra
-&gt; (PParams ConwayEra -&gt; PParams ConwayEra) -&gt; PParams ConwayEra
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(Natural -&gt; Identity Natural)
-&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra)
forall era. ConwayEraPParams era =&gt; Lens' (PParams era) Natural
Lens' (PParams ConwayEra) Natural
</span><span class="hs-identifier hs-var">ppCommitteeMinSizeL</span></span><span> </span><span class="annot"><span class="annottext">((Natural -&gt; Identity Natural)
 -&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra))
-&gt; Natural -&gt; PParams ConwayEra -&gt; PParams ConwayEra
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Natural
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Quantity -&gt; Integer
</span><span class="hs-identifier hs-var">Blockfrost.unQuantity</span></span><span> </span><span class="annot"><span class="annottext">Quantity
</span><a href="#local-6989586621680609089"><span class="hs-identifier hs-var">committeeMinSize</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-189"></span><span>          </span><span class="annot"><span class="annottext">PParams ConwayEra
-&gt; (PParams ConwayEra -&gt; PParams ConwayEra) -&gt; PParams ConwayEra
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(EpochInterval -&gt; Identity EpochInterval)
-&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra)
forall era.
ConwayEraPParams era =&gt;
Lens' (PParams era) EpochInterval
Lens' (PParams ConwayEra) EpochInterval
</span><span class="hs-identifier hs-var">ppCommitteeMaxTermLengthL</span></span><span> </span><span class="annot"><span class="annottext">((EpochInterval -&gt; Identity EpochInterval)
 -&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra))
-&gt; EpochInterval -&gt; PParams ConwayEra -&gt; PParams ConwayEra
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Word32 -&gt; EpochInterval
</span><span class="hs-identifier hs-var">EpochInterval</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Word32
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Word32) -&gt; Integer -&gt; Word32
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Quantity -&gt; Integer
</span><span class="hs-identifier hs-var">Blockfrost.unQuantity</span></span><span> </span><span class="annot"><span class="annottext">Quantity
</span><a href="#local-6989586621680609090"><span class="hs-identifier hs-var">committeeMaxTermLength</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-190"></span><span>          </span><span class="annot"><span class="annottext">PParams ConwayEra
-&gt; (PParams ConwayEra -&gt; PParams ConwayEra) -&gt; PParams ConwayEra
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(EpochInterval -&gt; Identity EpochInterval)
-&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra)
forall era.
ConwayEraPParams era =&gt;
Lens' (PParams era) EpochInterval
Lens' (PParams ConwayEra) EpochInterval
</span><span class="hs-identifier hs-var">ppGovActionLifetimeL</span></span><span> </span><span class="annot"><span class="annottext">((EpochInterval -&gt; Identity EpochInterval)
 -&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra))
-&gt; EpochInterval -&gt; PParams ConwayEra -&gt; PParams ConwayEra
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Word32 -&gt; EpochInterval
</span><span class="hs-identifier hs-var">EpochInterval</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Word32
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Word32) -&gt; Integer -&gt; Word32
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Quantity -&gt; Integer
</span><span class="hs-identifier hs-var">Blockfrost.unQuantity</span></span><span> </span><span class="annot"><span class="annottext">Quantity
</span><a href="#local-6989586621680609091"><span class="hs-identifier hs-var">govActionLifetime</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-191"></span><span>          </span><span class="annot"><span class="annottext">PParams ConwayEra
-&gt; (PParams ConwayEra -&gt; PParams ConwayEra) -&gt; PParams ConwayEra
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(Coin -&gt; Identity Coin)
-&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra)
forall era. ConwayEraPParams era =&gt; Lens' (PParams era) Coin
Lens' (PParams ConwayEra) Coin
</span><span class="hs-identifier hs-var">ppGovActionDepositL</span></span><span> </span><span class="annot"><span class="annottext">((Coin -&gt; Identity Coin)
 -&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra))
-&gt; Coin -&gt; PParams ConwayEra -&gt; PParams ConwayEra
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Coin
</span><a href="#local-6989586621680609092"><span class="hs-identifier hs-var">govActionDeposit</span></a></span><span>
</span><span id="line-192"></span><span>          </span><span class="annot"><span class="annottext">PParams ConwayEra
-&gt; (PParams ConwayEra -&gt; PParams ConwayEra) -&gt; PParams ConwayEra
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(Coin -&gt; Identity Coin)
-&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra)
forall era. ConwayEraPParams era =&gt; Lens' (PParams era) Coin
Lens' (PParams ConwayEra) Coin
</span><span class="hs-identifier hs-var">ppDRepDepositL</span></span><span> </span><span class="annot"><span class="annottext">((Coin -&gt; Identity Coin)
 -&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra))
-&gt; Coin -&gt; PParams ConwayEra -&gt; PParams ConwayEra
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Coin
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621680609093"><span class="hs-identifier hs-var">drepDeposit</span></a></span><span>
</span><span id="line-193"></span><span>          </span><span class="annot"><span class="annottext">PParams ConwayEra
-&gt; (PParams ConwayEra -&gt; PParams ConwayEra) -&gt; PParams ConwayEra
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(EpochInterval -&gt; Identity EpochInterval)
-&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra)
forall era.
ConwayEraPParams era =&gt;
Lens' (PParams era) EpochInterval
Lens' (PParams ConwayEra) EpochInterval
</span><span class="hs-identifier hs-var">ppDRepActivityL</span></span><span> </span><span class="annot"><span class="annottext">((EpochInterval -&gt; Identity EpochInterval)
 -&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra))
-&gt; EpochInterval -&gt; PParams ConwayEra -&gt; PParams ConwayEra
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Word32 -&gt; EpochInterval
</span><span class="hs-identifier hs-var">EpochInterval</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Word32
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Word32) -&gt; Integer -&gt; Word32
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Quantity -&gt; Integer
</span><span class="hs-identifier hs-var">Blockfrost.unQuantity</span></span><span> </span><span class="annot"><span class="annottext">Quantity
</span><a href="#local-6989586621680609094"><span class="hs-identifier hs-var">drepActivity</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-194"></span><span>          </span><span class="annot"><span class="annottext">PParams ConwayEra
-&gt; (PParams ConwayEra -&gt; PParams ConwayEra) -&gt; PParams ConwayEra
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(NonNegativeInterval -&gt; Identity NonNegativeInterval)
-&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra)
forall era.
ConwayEraPParams era =&gt;
Lens' (PParams era) NonNegativeInterval
Lens' (PParams ConwayEra) NonNegativeInterval
</span><span class="hs-identifier hs-var">ppMinFeeRefScriptCostPerByteL</span></span><span> </span><span class="annot"><span class="annottext">((NonNegativeInterval -&gt; Identity NonNegativeInterval)
 -&gt; PParams ConwayEra -&gt; Identity (PParams ConwayEra))
-&gt; NonNegativeInterval -&gt; PParams ConwayEra -&gt; PParams ConwayEra
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">NonNegativeInterval
</span><a href="#local-6989586621680609095"><span class="hs-identifier hs-var">minFeeRefScriptCostPerByte</span></a></span><span>
</span><span id="line-195"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-196"></span><span>  </span><span class="annot"><a href="#local-6989586621680609128"><span class="hs-identifier hs-type">convertCostModels</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Blockfrost.CostModelsRaw</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Cardano.Ledger.Plutus.CostModels.CostModels</span></span><span>
</span><span id="line-197"></span><span>  </span><span id="local-6989586621680609128"><span class="annot"><span class="annottext">convertCostModels :: CostModelsRaw -&gt; CostModels
</span><a href="#local-6989586621680609128"><span class="hs-identifier hs-var hs-var">convertCostModels</span></a></span></span><span> </span><span id="local-6989586621680609163"><span class="annot"><span class="annottext">CostModelsRaw
</span><a href="#local-6989586621680609163"><span class="hs-identifier hs-var">costModels</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-198"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680609164"><span class="annot"><span class="annottext">costModelsMap :: Map ScriptType [Integer]
</span><a href="#local-6989586621680609164"><span class="hs-identifier hs-var hs-var">costModelsMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CostModelsRaw -&gt; Map ScriptType [Integer]
</span><span class="hs-identifier hs-var">Blockfrost.unCostModelsRaw</span></span><span> </span><span class="annot"><span class="annottext">CostModelsRaw
</span><a href="#local-6989586621680609163"><span class="hs-identifier hs-var">costModels</span></a></span><span>
</span><span id="line-199"></span><span>     </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">((ScriptType, [Integer]) -&gt; CostModels)
-&gt; [(ScriptType, [Integer])] -&gt; CostModels
forall m a. Monoid m =&gt; (a -&gt; m) -&gt; [a] -&gt; m
forall (t :: * -&gt; *) m a.
(Foldable t, Monoid m) =&gt;
(a -&gt; m) -&gt; t a -&gt; m
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Foldable.html#foldMap"><span class="hs-identifier hs-var">foldMap</span></a></span><span>
</span><span id="line-200"></span><span>          </span><span class="hs-special">(</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CostModels
forall a. Monoid a =&gt; a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#mempty"><span class="hs-identifier hs-var">mempty</span></a></span><span> </span><span class="hs-operator">&lt;&gt;</span><span class="hs-special">)</span><span>
</span><span id="line-201"></span><span>              </span><span class="annot"><span class="annottext">(CostModels -&gt; CostModels)
-&gt; ((ScriptType, [Integer]) -&gt; CostModels)
-&gt; (ScriptType, [Integer])
-&gt; CostModels
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621680609168"><span class="annot"><span class="annottext">ScriptType
</span><a href="#local-6989586621680609168"><span class="hs-identifier hs-var">scriptType</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680609169"><span class="annot"><span class="annottext">[Integer]
</span><a href="#local-6989586621680609169"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-202"></span><span>                    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ScriptType -&gt; Maybe Language
</span><a href="Hydra.Chain.Blockfrost.Client.html#scriptTypeToPlutusVersion"><span class="hs-identifier hs-var">scriptTypeToPlutusVersion</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptType
</span><a href="#local-6989586621680609168"><span class="hs-identifier hs-var">scriptType</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-203"></span><span>                      </span><span class="annot"><span class="annottext">Maybe Language
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CostModels
forall a. Monoid a =&gt; a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#mempty"><span class="hs-identifier hs-var">mempty</span></a></span><span>
</span><span id="line-204"></span><span>                      </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680609171"><span class="annot"><span class="annottext">Language
</span><a href="#local-6989586621680609171"><span class="hs-identifier hs-var">plutusScript</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-205"></span><span>                        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Language -&gt; [Int64] -&gt; Either CostModelApplyError CostModel
</span><span class="hs-identifier hs-var">mkCostModel</span></span><span> </span><span class="annot"><span class="annottext">Language
</span><a href="#local-6989586621680609171"><span class="hs-identifier hs-var">plutusScript</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Int64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Int64) -&gt; [Integer] -&gt; [Int64]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[Integer]
</span><a href="#local-6989586621680609169"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-206"></span><span>                          </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span class="annot"><span class="annottext">CostModelApplyError
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CostModels
forall a. Monoid a =&gt; a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#mempty"><span class="hs-identifier hs-var">mempty</span></a></span><span>
</span><span id="line-207"></span><span>                          </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621680609172"><span class="annot"><span class="annottext">CostModel
</span><a href="#local-6989586621680609172"><span class="hs-identifier hs-var">costModel</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Map Language CostModel -&gt; CostModels
</span><span class="hs-identifier hs-var">mkCostModels</span></span><span> </span><span class="annot"><span class="annottext">(Map Language CostModel -&gt; CostModels)
-&gt; Map Language CostModel -&gt; CostModels
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Language -&gt; CostModel -&gt; Map Language CostModel
forall k a. k -&gt; a -&gt; Map k a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/containers-0.6.7/src/Data.Map.Strict.Internal.html#singleton"><span class="hs-identifier hs-var">Map.singleton</span></a></span><span> </span><span class="annot"><span class="annottext">Language
</span><a href="#local-6989586621680609171"><span class="hs-identifier hs-var">plutusScript</span></a></span><span> </span><span class="annot"><span class="annottext">CostModel
</span><a href="#local-6989586621680609172"><span class="hs-identifier hs-var">costModel</span></a></span><span>
</span><span id="line-208"></span><span>                </span><span class="hs-special">)</span><span>
</span><span id="line-209"></span><span>          </span><span class="hs-special">)</span><span>
</span><span id="line-210"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map ScriptType [Integer] -&gt; [(ScriptType, [Integer])]
forall k a. Map k a -&gt; [(k, a)]
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#toList"><span class="hs-identifier hs-var">Map.toList</span></a></span><span> </span><span class="annot"><span class="annottext">Map ScriptType [Integer]
</span><a href="#local-6989586621680609164"><span class="hs-identifier hs-var">costModelsMap</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-211"></span><span>
</span><span id="line-212"></span><span class="annot"><span class="hs-comment">-- ** Helpers</span></span><span>
</span><span id="line-213"></span><span>
</span><span id="line-214"></span><span class="annot"><a href="Hydra.Chain.Blockfrost.Client.html#toCardanoUTxO"><span class="hs-identifier hs-type">toCardanoUTxO</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NetworkId</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TxIn</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Blockfrost.Address</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Blockfrost.ScriptHash</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Blockfrost.DatumHash</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Blockfrost.Amount</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Blockfrost.InlineDatum</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">BlockfrostClientT</span></span><span> </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">UTxO</span></span><span>
</span><span id="line-215"></span><span id="toCardanoUTxO"><span class="annot"><span class="annottext">toCardanoUTxO :: NetworkId
-&gt; TxIn
-&gt; Address
-&gt; Maybe ScriptHash
-&gt; Maybe DatumHash
-&gt; [Amount]
-&gt; Maybe InlineDatum
-&gt; BlockfrostClientT IO UTxO
</span><a href="Hydra.Chain.Blockfrost.Client.html#toCardanoUTxO"><span class="hs-identifier hs-var hs-var">toCardanoUTxO</span></a></span></span><span> </span><span id="local-6989586621680609176"><span class="annot"><span class="annottext">NetworkId
</span><a href="#local-6989586621680609176"><span class="hs-identifier hs-var">networkId</span></a></span></span><span> </span><span id="local-6989586621680609177"><span class="annot"><span class="annottext">TxIn
</span><a href="#local-6989586621680609177"><span class="hs-identifier hs-var">txIn</span></a></span></span><span> </span><span id="local-6989586621680609178"><span class="annot"><span class="annottext">Address
</span><a href="#local-6989586621680609178"><span class="hs-identifier hs-var">address</span></a></span></span><span> </span><span id="local-6989586621680609179"><span class="annot"><span class="annottext">Maybe ScriptHash
</span><a href="#local-6989586621680609179"><span class="hs-identifier hs-var">scriptHash</span></a></span></span><span> </span><span id="local-6989586621680609180"><span class="annot"><span class="annottext">Maybe DatumHash
</span><a href="#local-6989586621680609180"><span class="hs-identifier hs-var">datumHash</span></a></span></span><span> </span><span id="local-6989586621680609181"><span class="annot"><span class="annottext">[Amount]
</span><a href="#local-6989586621680609181"><span class="hs-identifier hs-var">amount</span></a></span></span><span> </span><span id="local-6989586621680609182"><span class="annot"><span class="annottext">Maybe InlineDatum
</span><a href="#local-6989586621680609182"><span class="hs-identifier hs-var">inlineDatum</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-216"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680609183"><span class="annot"><span class="annottext">addrTxt :: Text
</span><a href="#local-6989586621680609183"><span class="hs-identifier hs-var hs-var">addrTxt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Address -&gt; Text
</span><span class="hs-identifier hs-var">Blockfrost.unAddress</span></span><span> </span><span class="annot"><span class="annottext">Address
</span><a href="#local-6989586621680609178"><span class="hs-identifier hs-var">address</span></a></span><span>
</span><span id="line-217"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680609185"><span class="annot"><span class="annottext">datumHash' :: Maybe Text
</span><a href="#local-6989586621680609185"><span class="hs-identifier hs-var hs-var">datumHash'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DatumHash -&gt; Text
</span><span class="hs-identifier hs-var">Blockfrost.unDatumHash</span></span><span> </span><span class="annot"><span class="annottext">(DatumHash -&gt; Text) -&gt; Maybe DatumHash -&gt; Maybe Text
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe DatumHash
</span><a href="#local-6989586621680609180"><span class="hs-identifier hs-var">datumHash</span></a></span><span>
</span><span id="line-218"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680609187"><span class="annot"><span class="annottext">inlineDatum' :: Maybe Text
</span><a href="#local-6989586621680609187"><span class="hs-identifier hs-var hs-var">inlineDatum'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ScriptDatumCBOR -&gt; Text
</span><span class="hs-identifier hs-var">Blockfrost._scriptDatumCborCbor</span></span><span> </span><span class="annot"><span class="annottext">(ScriptDatumCBOR -&gt; Text)
-&gt; (InlineDatum -&gt; ScriptDatumCBOR) -&gt; InlineDatum -&gt; Text
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">InlineDatum -&gt; ScriptDatumCBOR
</span><span class="hs-identifier hs-var">Blockfrost.unInlineDatum</span></span><span> </span><span class="annot"><span class="annottext">(InlineDatum -&gt; Text) -&gt; Maybe InlineDatum -&gt; Maybe Text
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe InlineDatum
</span><a href="#local-6989586621680609182"><span class="hs-identifier hs-var">inlineDatum</span></a></span><span>
</span><span id="line-219"></span><span>  </span><span id="local-6989586621680609190"><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621680609190"><span class="hs-identifier hs-var">val</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Amount] -&gt; BlockfrostClientT IO Value
</span><a href="Hydra.Chain.Blockfrost.Client.html#toCardanoValue"><span class="hs-identifier hs-var">toCardanoValue</span></a></span><span> </span><span class="annot"><span class="annottext">[Amount]
</span><a href="#local-6989586621680609181"><span class="hs-identifier hs-var">amount</span></a></span><span>
</span><span id="line-220"></span><span>  </span><span id="local-6989586621680609192"><span class="annot"><span class="annottext">Maybe PlutusScript
</span><a href="#local-6989586621680609192"><span class="hs-identifier hs-var">plutusScript</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">BlockfrostClientT IO (Maybe PlutusScript)
-&gt; (ScriptHash -&gt; BlockfrostClientT IO (Maybe PlutusScript))
-&gt; Maybe ScriptHash
-&gt; BlockfrostClientT IO (Maybe PlutusScript)
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Maybe.html#maybe"><span class="hs-identifier hs-var">maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe PlutusScript -&gt; BlockfrostClientT IO (Maybe PlutusScript)
forall a. a -&gt; BlockfrostClientT IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe PlutusScript
forall a. Maybe a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; BlockfrostClientT IO (Maybe PlutusScript)
</span><a href="Hydra.Chain.Blockfrost.Client.html#queryScript"><span class="hs-identifier hs-var">queryScript</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; BlockfrostClientT IO (Maybe PlutusScript))
-&gt; (ScriptHash -&gt; Text)
-&gt; ScriptHash
-&gt; BlockfrostClientT IO (Maybe PlutusScript)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptHash -&gt; Text
</span><span class="hs-identifier hs-var">Blockfrost.unScriptHash</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe ScriptHash
</span><a href="#local-6989586621680609179"><span class="hs-identifier hs-var">scriptHash</span></a></span><span>
</span><span id="line-221"></span><span>  </span><span id="local-6989586621680609196"><span class="annot"><span class="annottext">TxOut CtxUTxO
</span><a href="#local-6989586621680609196"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">NetworkId
-&gt; Text
-&gt; Value
-&gt; Maybe Text
-&gt; Maybe Text
-&gt; Maybe PlutusScript
-&gt; BlockfrostClientT IO (TxOut CtxUTxO)
forall ctx.
NetworkId
-&gt; Text
-&gt; Value
-&gt; Maybe Text
-&gt; Maybe Text
-&gt; Maybe PlutusScript
-&gt; BlockfrostClientT IO (TxOut ctx)
</span><a href="Hydra.Chain.Blockfrost.Client.html#toCardanoTxOut"><span class="hs-identifier hs-var">toCardanoTxOut</span></a></span><span> </span><span class="annot"><span class="annottext">NetworkId
</span><a href="#local-6989586621680609176"><span class="hs-identifier hs-var">networkId</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680609183"><span class="hs-identifier hs-var">addrTxt</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621680609190"><span class="hs-identifier hs-var">val</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Text
</span><a href="#local-6989586621680609185"><span class="hs-identifier hs-var">datumHash'</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Text
</span><a href="#local-6989586621680609187"><span class="hs-identifier hs-var">inlineDatum'</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe PlutusScript
</span><a href="#local-6989586621680609192"><span class="hs-identifier hs-var">plutusScript</span></a></span><span>
</span><span id="line-222"></span><span>  </span><span class="annot"><span class="annottext">UTxO -&gt; BlockfrostClientT IO UTxO
forall a. a -&gt; BlockfrostClientT IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(UTxO -&gt; BlockfrostClientT IO UTxO)
-&gt; UTxO -&gt; BlockfrostClientT IO UTxO
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TxIn -&gt; TxOut CtxUTxO -&gt; UTxO
forall era. TxIn -&gt; TxOut CtxUTxO era -&gt; UTxO era
</span><span class="hs-identifier hs-var">UTxO.singleton</span></span><span> </span><span class="annot"><span class="annottext">TxIn
</span><a href="#local-6989586621680609177"><span class="hs-identifier hs-var">txIn</span></a></span><span> </span><span class="annot"><span class="annottext">TxOut CtxUTxO
</span><a href="#local-6989586621680609196"><span class="hs-identifier hs-var">o</span></a></span><span>
</span><span id="line-223"></span><span>
</span><span id="line-224"></span><span class="annot"><a href="Hydra.Chain.Blockfrost.Client.html#scriptTypeToPlutusVersion"><span class="hs-identifier hs-type">scriptTypeToPlutusVersion</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Blockfrost.ScriptType</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Language</span></span><span>
</span><span id="line-225"></span><span id="scriptTypeToPlutusVersion"><span class="annot"><span class="annottext">scriptTypeToPlutusVersion :: ScriptType -&gt; Maybe Language
</span><a href="Hydra.Chain.Blockfrost.Client.html#scriptTypeToPlutusVersion"><span class="hs-identifier hs-var hs-var">scriptTypeToPlutusVersion</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-226"></span><span>  </span><span class="annot"><span class="annottext">ScriptType
</span><span class="hs-identifier hs-var">Blockfrost.PlutusV1</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Language -&gt; Maybe Language
forall a. a -&gt; Maybe a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Language
</span><span class="hs-identifier hs-var">PlutusV1</span></span><span>
</span><span id="line-227"></span><span>  </span><span class="annot"><span class="annottext">ScriptType
</span><span class="hs-identifier hs-var">Blockfrost.PlutusV2</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Language -&gt; Maybe Language
forall a. a -&gt; Maybe a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Language
</span><span class="hs-identifier hs-var">PlutusV2</span></span><span>
</span><span id="line-228"></span><span>  </span><span class="annot"><span class="annottext">ScriptType
</span><span class="hs-identifier hs-var">Blockfrost.PlutusV3</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Language -&gt; Maybe Language
forall a. a -&gt; Maybe a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Language
</span><span class="hs-identifier hs-var">PlutusV3</span></span><span>
</span><span id="line-229"></span><span>  </span><span class="annot"><span class="annottext">ScriptType
</span><span class="hs-identifier hs-var">Blockfrost.Timelock</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe Language
forall a. Maybe a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-230"></span><span>
</span><span id="line-231"></span><span class="annot"><a href="Hydra.Chain.Blockfrost.Client.html#toCardanoPoolId"><span class="hs-identifier hs-type">toCardanoPoolId</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Blockfrost.PoolId</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Hash</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">StakePoolKey</span></span><span>
</span><span id="line-232"></span><span id="toCardanoPoolId"><span class="annot"><span class="annottext">toCardanoPoolId :: PoolId -&gt; Hash StakePoolKey
</span><a href="Hydra.Chain.Blockfrost.Client.html#toCardanoPoolId"><span class="hs-identifier hs-var hs-var">toCardanoPoolId</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Blockfrost.PoolId</span></span><span> </span><span id="local-6989586621680609208"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680609208"><span class="hs-identifier hs-var">textPoolId</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-233"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Either RawBytesHexError (Hash StakePoolKey)
forall a.
SerialiseAsRawBytes a =&gt;
ByteString -&gt; Either RawBytesHexError a
</span><span class="hs-identifier hs-var">deserialiseFromRawBytesHex</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; ByteString
forall a b. ConvertUtf8 a b =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">encodeUtf8</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680609208"><span class="hs-identifier hs-var">textPoolId</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-234"></span><span>    </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621680609211"><span class="annot"><span class="annottext">RawBytesHexError
</span><a href="#local-6989586621680609211"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Hash StakePoolKey
forall a t. (HasCallStack, IsText t) =&gt; t -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RawBytesHexError -&gt; Text
forall b a. (Show a, IsString b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">RawBytesHexError
</span><a href="#local-6989586621680609211"><span class="hs-identifier hs-var">err</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-235"></span><span>    </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621680609213"><span class="annot"><span class="annottext">Hash StakePoolKey
</span><a href="#local-6989586621680609213"><span class="hs-identifier hs-var">pool</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Hash StakePoolKey
</span><a href="#local-6989586621680609213"><span class="hs-identifier hs-var">pool</span></a></span><span>
</span><span id="line-236"></span><span>
</span><span id="line-237"></span><span class="annot"><a href="Hydra.Chain.Blockfrost.Client.html#toCardanoTxIn"><span class="hs-identifier hs-type">toCardanoTxIn</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/text-2.0.2/src/Data.Text.Internal.html#Text"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/ghc-bignum-1.3/src/GHC.Num.Integer.html#Integer"><span class="hs-identifier hs-type">Integer</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TxIn</span></span><span>
</span><span id="line-238"></span><span id="toCardanoTxIn"><span class="annot"><span class="annottext">toCardanoTxIn :: Text -&gt; Integer -&gt; TxIn
</span><a href="Hydra.Chain.Blockfrost.Client.html#toCardanoTxIn"><span class="hs-identifier hs-var hs-var">toCardanoTxIn</span></a></span></span><span> </span><span id="local-6989586621680609215"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680609215"><span class="hs-identifier hs-var">txHash</span></a></span></span><span> </span><span id="local-6989586621680609216"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621680609216"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-239"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Either RawBytesHexError TxId
forall a.
SerialiseAsRawBytes a =&gt;
ByteString -&gt; Either RawBytesHexError a
</span><span class="hs-identifier hs-var">deserialiseFromRawBytesHex</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; ByteString
forall a b. ConvertUtf8 a b =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">encodeUtf8</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680609215"><span class="hs-identifier hs-var">txHash</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-240"></span><span>    </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621680609217"><span class="annot"><span class="annottext">RawBytesHexError
</span><a href="#local-6989586621680609217"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; TxIn
forall a t. (HasCallStack, IsText t) =&gt; t -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RawBytesHexError -&gt; Text
forall b a. (Show a, IsString b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">RawBytesHexError
</span><a href="#local-6989586621680609217"><span class="hs-identifier hs-var">err</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-241"></span><span>    </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621680609218"><span class="annot"><span class="annottext">TxId
</span><a href="#local-6989586621680609218"><span class="hs-identifier hs-var">txid</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TxId -&gt; TxIx -&gt; TxIn
</span><span class="hs-identifier hs-var">TxIn</span></span><span> </span><span class="annot"><span class="annottext">TxId
</span><a href="#local-6989586621680609218"><span class="hs-identifier hs-var">txid</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word -&gt; TxIx
</span><span class="hs-identifier hs-var">TxIx</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Word
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621680609216"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-242"></span><span>
</span><span id="line-243"></span><span id="local-6989586621680608016"><span class="annot"><a href="Hydra.Chain.Blockfrost.Client.html#toCardanoTxOut"><span class="hs-identifier hs-type">toCardanoTxOut</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NetworkId</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/text-2.0.2/src/Data.Text.Internal.html#Text"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Value</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/text-2.0.2/src/Data.Text.Internal.html#Text"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/text-2.0.2/src/Data.Text.Internal.html#Text"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PlutusScript</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">BlockfrostClientT</span></span><span> </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TxOut</span></span><span> </span><span class="annot"><a href="#local-6989586621680608016"><span class="hs-identifier hs-type">ctx</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-244"></span><span id="toCardanoTxOut"><span class="annot"><span class="annottext">toCardanoTxOut :: forall ctx.
NetworkId
-&gt; Text
-&gt; Value
-&gt; Maybe Text
-&gt; Maybe Text
-&gt; Maybe PlutusScript
-&gt; BlockfrostClientT IO (TxOut ctx)
</span><a href="Hydra.Chain.Blockfrost.Client.html#toCardanoTxOut"><span class="hs-identifier hs-var hs-var">toCardanoTxOut</span></a></span></span><span> </span><span id="local-6989586621680609234"><span class="annot"><span class="annottext">NetworkId
</span><a href="#local-6989586621680609234"><span class="hs-identifier hs-var">networkId</span></a></span></span><span> </span><span id="local-6989586621680609235"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680609235"><span class="hs-identifier hs-var">addrTxt</span></a></span></span><span> </span><span id="local-6989586621680609236"><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621680609236"><span class="hs-identifier hs-var">val</span></a></span></span><span> </span><span id="local-6989586621680609237"><span class="annot"><span class="annottext">Maybe Text
</span><a href="#local-6989586621680609237"><span class="hs-identifier hs-var">mDatumHash</span></a></span></span><span> </span><span id="local-6989586621680609238"><span class="annot"><span class="annottext">Maybe Text
</span><a href="#local-6989586621680609238"><span class="hs-identifier hs-var">mInlineDatum</span></a></span></span><span> </span><span id="local-6989586621680609239"><span class="annot"><span class="annottext">Maybe PlutusScript
</span><a href="#local-6989586621680609239"><span class="hs-identifier hs-var">plutusScript</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-245"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680609240"><span class="annot"><span class="annottext">datum :: TxOutDatum ctx
</span><a href="#local-6989586621680609240"><span class="hs-identifier hs-var hs-var">datum</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-246"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe Text
</span><a href="#local-6989586621680609238"><span class="hs-identifier hs-var">mInlineDatum</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-247"></span><span>          </span><span class="annot"><span class="annottext">Maybe Text
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-248"></span><span>            </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe Text
</span><a href="#local-6989586621680609237"><span class="hs-identifier hs-var">mDatumHash</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-249"></span><span>              </span><span class="annot"><span class="annottext">Maybe Text
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TxOutDatum ctx
forall ctx. TxOutDatum ctx
</span><span class="hs-identifier hs-var">TxOutDatumNone</span></span><span>
</span><span id="line-250"></span><span>              </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680609242"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680609242"><span class="hs-identifier hs-var">datumHash</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Hash ScriptData -&gt; TxOutDatum ctx
forall ctx. Hash ScriptData -&gt; TxOutDatum ctx
</span><span class="hs-identifier hs-var">TxOutDatumHash</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Hash ScriptData
forall a. IsString a =&gt; String -&gt; a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.String.html#fromString"><span class="hs-identifier hs-var">fromString</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Hash ScriptData) -&gt; String -&gt; Hash ScriptData
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; String
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/text-2.0.2/src/Data.Text.Show.html#unpack"><span class="hs-identifier hs-var">T.unpack</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680609242"><span class="hs-identifier hs-var">datumHash</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-251"></span><span>          </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680609245"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680609245"><span class="hs-identifier hs-var">cborDatum</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-252"></span><span>            </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">AsType HashableScriptData
-&gt; ByteString -&gt; Either DecoderError HashableScriptData
forall a.
SerialiseAsCBOR a =&gt;
AsType a -&gt; ByteString -&gt; Either DecoderError a
</span><span class="hs-identifier hs-var">deserialiseFromCBOR</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy HashableScriptData -&gt; AsType HashableScriptData
forall t. HasTypeProxy t =&gt; Proxy t -&gt; AsType t
</span><span class="hs-identifier hs-var">proxyToAsType</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall t. Proxy t
forall {k} (t :: k). Proxy t
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Proxy.html#Proxy"><span class="hs-identifier hs-var">Proxy</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">HashableScriptData</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; ByteString
forall a b. ConvertUtf8 a b =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">encodeUtf8</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680609245"><span class="hs-identifier hs-var">cborDatum</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-253"></span><span>              </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span class="annot"><span class="annottext">DecoderError
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TxOutDatum ctx
forall ctx. TxOutDatum ctx
</span><span class="hs-identifier hs-var">TxOutDatumNone</span></span><span>
</span><span id="line-254"></span><span>              </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621680609249"><span class="annot"><span class="annottext">HashableScriptData
</span><a href="#local-6989586621680609249"><span class="hs-identifier hs-var">hashableScriptData</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HashableScriptData -&gt; TxOutDatum ctx
forall ctx. HashableScriptData -&gt; TxOutDatum ctx
</span><span class="hs-identifier hs-var">TxOutDatumInline</span></span><span> </span><span class="annot"><span class="annottext">HashableScriptData
</span><a href="#local-6989586621680609249"><span class="hs-identifier hs-var">hashableScriptData</span></a></span><span>
</span><span id="line-255"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe PlutusScript
</span><a href="#local-6989586621680609239"><span class="hs-identifier hs-var">plutusScript</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-256"></span><span>    </span><span class="annot"><span class="annottext">Maybe PlutusScript
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-257"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Maybe AddressInEra
</span><a href="Hydra.Chain.Blockfrost.Client.html#toCardanoAddress"><span class="hs-identifier hs-var">toCardanoAddress</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680609235"><span class="hs-identifier hs-var">addrTxt</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-258"></span><span>        </span><span class="annot"><span class="annottext">Maybe AddressInEra
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IO (TxOut ctx) -&gt; BlockfrostClientT IO (TxOut ctx)
forall a. IO a -&gt; BlockfrostClientT IO a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (TxOut ctx) -&gt; BlockfrostClientT IO (TxOut ctx))
-&gt; IO (TxOut ctx) -&gt; BlockfrostClientT IO (TxOut ctx)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">APIBlockfrostError -&gt; IO (TxOut ctx)
forall e a. Exception e =&gt; e -&gt; IO a
forall (m :: * -&gt; *) e a. (MonadThrow m, Exception e) =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">throwIO</span></span><span> </span><span class="annot"><span class="annottext">(APIBlockfrostError -&gt; IO (TxOut ctx))
-&gt; APIBlockfrostError -&gt; IO (TxOut ctx)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">BlockfrostException -&gt; APIBlockfrostError
</span><a href="Hydra.Chain.Blockfrost.Client.html#BlockfrostError"><span class="hs-identifier hs-var">BlockfrostError</span></a></span><span> </span><span class="annot"><span class="annottext">(BlockfrostException -&gt; APIBlockfrostError)
-&gt; BlockfrostException -&gt; APIBlockfrostError
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; BlockfrostException
</span><a href="Hydra.Chain.Blockfrost.Client.html#FailedToDecodeAddress"><span class="hs-identifier hs-var">FailedToDecodeAddress</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680609235"><span class="hs-identifier hs-var">addrTxt</span></a></span><span>
</span><span id="line-259"></span><span>        </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680609252"><span class="annot"><span class="annottext">AddressInEra
</span><a href="#local-6989586621680609252"><span class="hs-identifier hs-var">addr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TxOut ctx -&gt; BlockfrostClientT IO (TxOut ctx)
forall a. a -&gt; BlockfrostClientT IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(TxOut ctx -&gt; BlockfrostClientT IO (TxOut ctx))
-&gt; TxOut ctx -&gt; BlockfrostClientT IO (TxOut ctx)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">AddressInEra
-&gt; Value -&gt; TxOutDatum ctx -&gt; ReferenceScript -&gt; TxOut ctx
forall ctx.
AddressInEra
-&gt; Value -&gt; TxOutDatum ctx -&gt; ReferenceScript -&gt; TxOut ctx
</span><span class="hs-identifier hs-var">TxOut</span></span><span> </span><span class="annot"><span class="annottext">AddressInEra
</span><a href="#local-6989586621680609252"><span class="hs-identifier hs-var">addr</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621680609236"><span class="hs-identifier hs-var">val</span></a></span><span> </span><span class="annot"><span class="annottext">TxOutDatum ctx
</span><a href="#local-6989586621680609240"><span class="hs-identifier hs-var">datum</span></a></span><span> </span><span class="annot"><span class="annottext">ReferenceScript
</span><span class="hs-identifier hs-var">ReferenceScriptNone</span></span><span>
</span><span id="line-260"></span><span>    </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680609255"><span class="annot"><span class="annottext">PlutusScript
</span><a href="#local-6989586621680609255"><span class="hs-identifier hs-var">script</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TxOut ctx -&gt; BlockfrostClientT IO (TxOut ctx)
forall a. a -&gt; BlockfrostClientT IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(TxOut ctx -&gt; BlockfrostClientT IO (TxOut ctx))
-&gt; TxOut ctx -&gt; BlockfrostClientT IO (TxOut ctx)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">AddressInEra
-&gt; Value -&gt; TxOutDatum ctx -&gt; ReferenceScript -&gt; TxOut ctx
forall ctx.
AddressInEra
-&gt; Value -&gt; TxOutDatum ctx -&gt; ReferenceScript -&gt; TxOut ctx
</span><span class="hs-identifier hs-var">TxOut</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PlutusScript -&gt; AddressInEra
</span><a href="#local-6989586621680609256"><span class="hs-identifier hs-var">scriptAddr</span></a></span><span> </span><span class="annot"><span class="annottext">PlutusScript
</span><a href="#local-6989586621680609255"><span class="hs-identifier hs-var">script</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621680609236"><span class="hs-identifier hs-var">val</span></a></span><span> </span><span class="annot"><span class="annottext">TxOutDatum ctx
</span><a href="#local-6989586621680609240"><span class="hs-identifier hs-var">datum</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PlutusScript -&gt; ReferenceScript
forall lang.
IsPlutusScriptLanguage lang =&gt;
PlutusScript lang -&gt; ReferenceScript
</span><span class="hs-identifier hs-var">mkScriptRef</span></span><span> </span><span class="annot"><span class="annottext">PlutusScript
</span><a href="#local-6989586621680609255"><span class="hs-identifier hs-var">script</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-261"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-262"></span><span>  </span><span id="local-6989586621680609256"><span class="annot"><span class="annottext">scriptAddr :: PlutusScript -&gt; AddressInEra
</span><a href="#local-6989586621680609256"><span class="hs-identifier hs-var hs-var">scriptAddr</span></a></span></span><span> </span><span id="local-6989586621680609258"><span class="annot"><span class="annottext">PlutusScript
</span><a href="#local-6989586621680609258"><span class="hs-identifier hs-var">script</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-263"></span><span>    </span><span class="annot"><span class="annottext">ShelleyBasedEra Era
-&gt; NetworkId
-&gt; PaymentCredential
-&gt; StakeAddressReference
-&gt; AddressInEra
forall era.
ShelleyBasedEra era
-&gt; NetworkId
-&gt; PaymentCredential
-&gt; StakeAddressReference
-&gt; AddressInEra era
</span><span class="hs-identifier hs-var">makeShelleyAddressInEra</span></span><span>
</span><span id="line-264"></span><span>      </span><span class="annot"><span class="annottext">ShelleyBasedEra Era
forall era. IsShelleyBasedEra era =&gt; ShelleyBasedEra era
</span><span class="hs-identifier hs-var">shelleyBasedEra</span></span><span>
</span><span id="line-265"></span><span>      </span><span class="annot"><span class="annottext">NetworkId
</span><a href="#local-6989586621680609234"><span class="hs-identifier hs-var">networkId</span></a></span><span>
</span><span id="line-266"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ScriptHash -&gt; PaymentCredential
</span><span class="hs-identifier hs-var">PaymentCredentialByScript</span></span><span> </span><span class="annot"><span class="annottext">(ScriptHash -&gt; PaymentCredential)
-&gt; ScriptHash -&gt; PaymentCredential
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Script PlutusScriptV3 -&gt; ScriptHash
forall lang. Script lang -&gt; ScriptHash
</span><span class="hs-identifier hs-var">hashScript</span></span><span> </span><span class="annot"><span class="annottext">(Script PlutusScriptV3 -&gt; ScriptHash)
-&gt; Script PlutusScriptV3 -&gt; ScriptHash
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PlutusScript -&gt; Script PlutusScriptV3
</span><span class="hs-identifier hs-var">PlutusScript</span></span><span> </span><span class="annot"><span class="annottext">PlutusScript
</span><a href="#local-6989586621680609258"><span class="hs-identifier hs-var">script</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-267"></span><span>      </span><span class="annot"><span class="annottext">StakeAddressReference
</span><span class="hs-identifier hs-var">NoStakeAddress</span></span><span>
</span><span id="line-268"></span><span>
</span><span id="line-269"></span><span class="annot"><a href="Hydra.Chain.Blockfrost.Client.html#toCardanoPolicyIdAndAssetName"><span class="hs-identifier hs-type">toCardanoPolicyIdAndAssetName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/text-2.0.2/src/Data.Text.Internal.html#Text"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">BlockfrostClientT</span></span><span> </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PolicyId</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">AssetName</span></span><span class="hs-special">)</span><span>
</span><span id="line-270"></span><span id="toCardanoPolicyIdAndAssetName"><span class="annot"><span class="annottext">toCardanoPolicyIdAndAssetName :: Text -&gt; BlockfrostClientT IO (PolicyId, AssetName)
</span><a href="Hydra.Chain.Blockfrost.Client.html#toCardanoPolicyIdAndAssetName"><span class="hs-identifier hs-var hs-var">toCardanoPolicyIdAndAssetName</span></a></span></span><span> </span><span id="local-6989586621680609266"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680609266"><span class="hs-identifier hs-var">pid</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-271"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Blockfrost.AssetDetails</span></span><span class="hs-special">{</span><span id="local-6989586621680609268"><span class="annot"><span class="annottext">PolicyId
_assetDetailsPolicyId :: PolicyId
$sel:_assetDetailsPolicyId:AssetDetails :: AssetDetails -&gt; PolicyId
</span><a href="#local-6989586621680609268"><span class="hs-identifier hs-var hs-var">_assetDetailsPolicyId</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680609270"><span class="annot"><span class="annottext">Maybe Text
_assetDetailsAssetName :: Maybe Text
$sel:_assetDetailsAssetName:AssetDetails :: AssetDetails -&gt; Maybe Text
</span><a href="#local-6989586621680609270"><span class="hs-identifier hs-var hs-var">_assetDetailsAssetName</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">AssetId -&gt; BlockfrostClientT IO AssetDetails
forall (m :: * -&gt; *).
MonadBlockfrost m =&gt;
AssetId -&gt; m AssetDetails
</span><span class="hs-identifier hs-var">Blockfrost.getAssetDetails</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; AssetId
</span><span class="hs-identifier hs-var">Blockfrost.mkAssetId</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680609266"><span class="hs-identifier hs-var">pid</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-272"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Either RawBytesHexError PolicyId
forall a.
SerialiseAsRawBytes a =&gt;
ByteString -&gt; Either RawBytesHexError a
</span><span class="hs-identifier hs-var">deserialiseFromRawBytesHex</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; ByteString
forall a b. ConvertUtf8 a b =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">encodeUtf8</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; ByteString) -&gt; Text -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PolicyId -&gt; Text
</span><span class="hs-identifier hs-var">Blockfrost.unPolicyId</span></span><span> </span><span class="annot"><span class="annottext">PolicyId
</span><a href="#local-6989586621680609268"><span class="hs-identifier hs-var">_assetDetailsPolicyId</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-273"></span><span>    </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621680609275"><span class="annot"><span class="annottext">RawBytesHexError
</span><a href="#local-6989586621680609275"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IO (PolicyId, AssetName)
-&gt; BlockfrostClientT IO (PolicyId, AssetName)
forall a. IO a -&gt; BlockfrostClientT IO a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (PolicyId, AssetName)
 -&gt; BlockfrostClientT IO (PolicyId, AssetName))
-&gt; IO (PolicyId, AssetName)
-&gt; BlockfrostClientT IO (PolicyId, AssetName)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">APIBlockfrostError -&gt; IO (PolicyId, AssetName)
forall e a. Exception e =&gt; e -&gt; IO a
forall (m :: * -&gt; *) e a. (MonadThrow m, Exception e) =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">throwIO</span></span><span> </span><span class="annot"><span class="annottext">(APIBlockfrostError -&gt; IO (PolicyId, AssetName))
-&gt; APIBlockfrostError -&gt; IO (PolicyId, AssetName)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">BlockfrostException -&gt; APIBlockfrostError
</span><a href="Hydra.Chain.Blockfrost.Client.html#BlockfrostError"><span class="hs-identifier hs-var">BlockfrostError</span></a></span><span> </span><span class="annot"><span class="annottext">(BlockfrostException -&gt; APIBlockfrostError)
-&gt; BlockfrostException -&gt; APIBlockfrostError
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; BlockfrostException
</span><a href="Hydra.Chain.Blockfrost.Client.html#DeserialiseError"><span class="hs-identifier hs-var">DeserialiseError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RawBytesHexError -&gt; Text
forall b a. (Show a, IsString b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">RawBytesHexError
</span><a href="#local-6989586621680609275"><span class="hs-identifier hs-var">err</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-274"></span><span>    </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621680609276"><span class="annot"><span class="annottext">PolicyId
</span><a href="#local-6989586621680609276"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-275"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe Text
</span><a href="#local-6989586621680609270"><span class="hs-identifier hs-var">_assetDetailsAssetName</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-276"></span><span>        </span><span class="annot"><span class="annottext">Maybe Text
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IO (PolicyId, AssetName)
-&gt; BlockfrostClientT IO (PolicyId, AssetName)
forall a. IO a -&gt; BlockfrostClientT IO a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (PolicyId, AssetName)
 -&gt; BlockfrostClientT IO (PolicyId, AssetName))
-&gt; IO (PolicyId, AssetName)
-&gt; BlockfrostClientT IO (PolicyId, AssetName)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">APIBlockfrostError -&gt; IO (PolicyId, AssetName)
forall e a. Exception e =&gt; e -&gt; IO a
forall (m :: * -&gt; *) e a. (MonadThrow m, Exception e) =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">throwIO</span></span><span> </span><span class="annot"><span class="annottext">(APIBlockfrostError -&gt; IO (PolicyId, AssetName))
-&gt; APIBlockfrostError -&gt; IO (PolicyId, AssetName)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">BlockfrostException -&gt; APIBlockfrostError
</span><a href="Hydra.Chain.Blockfrost.Client.html#BlockfrostError"><span class="hs-identifier hs-var">BlockfrostError</span></a></span><span> </span><span class="annot"><span class="annottext">BlockfrostException
</span><a href="Hydra.Chain.Blockfrost.Client.html#AssetNameMissing"><span class="hs-identifier hs-var">AssetNameMissing</span></a></span><span>
</span><span id="line-277"></span><span>        </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680609277"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680609277"><span class="hs-identifier hs-var">assetName</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-278"></span><span>          </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Either RawBytesHexError AssetName
forall a.
SerialiseAsRawBytes a =&gt;
ByteString -&gt; Either RawBytesHexError a
</span><span class="hs-identifier hs-var">deserialiseFromRawBytesHex</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; ByteString
forall a b. ConvertUtf8 a b =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">encodeUtf8</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680609277"><span class="hs-identifier hs-var">assetName</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-279"></span><span>            </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621680609278"><span class="annot"><span class="annottext">RawBytesHexError
</span><a href="#local-6989586621680609278"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IO (PolicyId, AssetName)
-&gt; BlockfrostClientT IO (PolicyId, AssetName)
forall a. IO a -&gt; BlockfrostClientT IO a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (PolicyId, AssetName)
 -&gt; BlockfrostClientT IO (PolicyId, AssetName))
-&gt; IO (PolicyId, AssetName)
-&gt; BlockfrostClientT IO (PolicyId, AssetName)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">APIBlockfrostError -&gt; IO (PolicyId, AssetName)
forall e a. Exception e =&gt; e -&gt; IO a
forall (m :: * -&gt; *) e a. (MonadThrow m, Exception e) =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">throwIO</span></span><span> </span><span class="annot"><span class="annottext">(APIBlockfrostError -&gt; IO (PolicyId, AssetName))
-&gt; APIBlockfrostError -&gt; IO (PolicyId, AssetName)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">BlockfrostException -&gt; APIBlockfrostError
</span><a href="Hydra.Chain.Blockfrost.Client.html#BlockfrostError"><span class="hs-identifier hs-var">BlockfrostError</span></a></span><span> </span><span class="annot"><span class="annottext">(BlockfrostException -&gt; APIBlockfrostError)
-&gt; BlockfrostException -&gt; APIBlockfrostError
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; BlockfrostException
</span><a href="Hydra.Chain.Blockfrost.Client.html#DeserialiseError"><span class="hs-identifier hs-var">DeserialiseError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RawBytesHexError -&gt; Text
forall b a. (Show a, IsString b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">RawBytesHexError
</span><a href="#local-6989586621680609278"><span class="hs-identifier hs-var">err</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-280"></span><span>            </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621680609279"><span class="annot"><span class="annottext">AssetName
</span><a href="#local-6989586621680609279"><span class="hs-identifier hs-var">asset</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(PolicyId, AssetName) -&gt; BlockfrostClientT IO (PolicyId, AssetName)
forall a. a -&gt; BlockfrostClientT IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PolicyId
</span><a href="#local-6989586621680609276"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">AssetName
</span><a href="#local-6989586621680609279"><span class="hs-identifier hs-var">asset</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-281"></span><span>
</span><span id="line-282"></span><span class="annot"><a href="Hydra.Chain.Blockfrost.Client.html#toCardanoValue"><span class="hs-identifier hs-type">toCardanoValue</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Blockfrost.Amount</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">BlockfrostClientT</span></span><span> </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Value</span></span><span>
</span><span id="line-283"></span><span id="toCardanoValue"><span class="annot"><span class="annottext">toCardanoValue :: [Amount] -&gt; BlockfrostClientT IO Value
</span><a href="Hydra.Chain.Blockfrost.Client.html#toCardanoValue"><span class="hs-identifier hs-var hs-var">toCardanoValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Amount -&gt; BlockfrostClientT IO Value)
-&gt; [Amount] -&gt; BlockfrostClientT IO Value
forall b (m :: * -&gt; *) (f :: * -&gt; *) a.
(Monoid b, Monad m, Foldable f) =&gt;
(a -&gt; m b) -&gt; f a -&gt; m b
</span><span class="hs-identifier hs-var">foldMapM</span></span><span> </span><span class="annot"><span class="annottext">Amount -&gt; BlockfrostClientT IO Value
</span><a href="#local-6989586621680609281"><span class="hs-identifier hs-var">convertAmount</span></a></span><span>
</span><span id="line-284"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-285"></span><span>  </span><span class="annot"><a href="#local-6989586621680609281"><span class="hs-identifier hs-type">convertAmount</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Blockfrost.Amount</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">BlockfrostClientT</span></span><span> </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Value</span></span><span>
</span><span id="line-286"></span><span>  </span><span id="local-6989586621680609281"><span class="annot"><span class="annottext">convertAmount :: Amount -&gt; BlockfrostClientT IO Value
</span><a href="#local-6989586621680609281"><span class="hs-identifier hs-var hs-var">convertAmount</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Blockfrost.AdaAmount</span></span><span> </span><span id="local-6989586621680609283"><span class="annot"><span class="annottext">Lovelaces
</span><a href="#local-6989586621680609283"><span class="hs-identifier hs-var">lovelaces</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-287"></span><span>    </span><span class="annot"><span class="annottext">Value -&gt; BlockfrostClientT IO Value
forall a. a -&gt; BlockfrostClientT IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Value -&gt; BlockfrostClientT IO Value)
-&gt; Value -&gt; BlockfrostClientT IO Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-288"></span><span>      </span><span class="annot"><span class="annottext">[Item Value] -&gt; Value
forall l. IsList l =&gt; [Item l] -&gt; l
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.IsList.html#fromList"><span class="hs-identifier hs-var">fromList</span></a></span><span>
</span><span id="line-289"></span><span>        </span><span class="hs-special">[</span><span>
</span><span id="line-290"></span><span>          </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">AssetId
</span><span class="hs-identifier hs-var">AdaAssetId</span></span><span>
</span><span id="line-291"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Quantity
</span><span class="hs-identifier hs-var">Quantity</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Discrete' &quot;ADA&quot; '(1000000, 1) -&gt; Integer
forall a. Integral a =&gt; a -&gt; Integer
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Real.html#toInteger"><span class="hs-identifier hs-var">toInteger</span></a></span><span> </span><span class="annot"><span class="annottext">Discrete' &quot;ADA&quot; '(1000000, 1)
Lovelaces
</span><a href="#local-6989586621680609283"><span class="hs-identifier hs-var">lovelaces</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-292"></span><span>          </span><span class="hs-special">)</span><span>
</span><span id="line-293"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-294"></span><span>  </span><span class="annot"><a href="#local-6989586621680609281"><span class="hs-identifier hs-var">convertAmount</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Blockfrost.AssetAmount</span></span><span> </span><span id="local-6989586621680609287"><span class="annot"><span class="annottext">SomeDiscrete
</span><a href="#local-6989586621680609287"><span class="hs-identifier hs-var">money</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-295"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680609288"><span class="annot"><span class="annottext">currency :: Text
</span><a href="#local-6989586621680609288"><span class="hs-identifier hs-var hs-var">currency</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SomeDiscrete -&gt; Text
</span><span class="hs-identifier hs-var">Money.someDiscreteCurrency</span></span><span> </span><span class="annot"><span class="annottext">SomeDiscrete
</span><a href="#local-6989586621680609287"><span class="hs-identifier hs-var">money</span></a></span><span>
</span><span id="line-296"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621680609290"><span class="annot"><span class="annottext">PolicyId
</span><a href="#local-6989586621680609290"><span class="hs-identifier hs-var">cardanoPolicyId</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680609291"><span class="annot"><span class="annottext">AssetName
</span><a href="#local-6989586621680609291"><span class="hs-identifier hs-var">assetName</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Text -&gt; BlockfrostClientT IO (PolicyId, AssetName)
</span><a href="Hydra.Chain.Blockfrost.Client.html#toCardanoPolicyIdAndAssetName"><span class="hs-identifier hs-var">toCardanoPolicyIdAndAssetName</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680609288"><span class="hs-identifier hs-var">currency</span></a></span><span>
</span><span id="line-297"></span><span>    </span><span class="annot"><span class="annottext">Value -&gt; BlockfrostClientT IO Value
forall a. a -&gt; BlockfrostClientT IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Value -&gt; BlockfrostClientT IO Value)
-&gt; Value -&gt; BlockfrostClientT IO Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-298"></span><span>      </span><span class="annot"><span class="annottext">[Item Value] -&gt; Value
forall l. IsList l =&gt; [Item l] -&gt; l
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.IsList.html#fromList"><span class="hs-identifier hs-var">fromList</span></a></span><span>
</span><span id="line-299"></span><span>        </span><span class="hs-special">[</span><span>
</span><span id="line-300"></span><span>          </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">PolicyId -&gt; AssetName -&gt; AssetId
</span><span class="hs-identifier hs-var">AssetId</span></span><span>
</span><span id="line-301"></span><span>              </span><span class="annot"><span class="annottext">PolicyId
</span><a href="#local-6989586621680609290"><span class="hs-identifier hs-var">cardanoPolicyId</span></a></span><span>
</span><span id="line-302"></span><span>              </span><span class="annot"><span class="annottext">AssetName
</span><a href="#local-6989586621680609291"><span class="hs-identifier hs-var">assetName</span></a></span><span>
</span><span id="line-303"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Quantity
</span><span class="hs-identifier hs-var">Quantity</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SomeDiscrete -&gt; Integer
</span><span class="hs-identifier hs-var">Money.someDiscreteAmount</span></span><span> </span><span class="annot"><span class="annottext">SomeDiscrete
</span><a href="#local-6989586621680609287"><span class="hs-identifier hs-var">money</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-304"></span><span>          </span><span class="hs-special">)</span><span>
</span><span id="line-305"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-306"></span><span>
</span><span id="line-307"></span><span class="annot"><a href="Hydra.Chain.Blockfrost.Client.html#toCardanoAddress"><span class="hs-identifier hs-type">toCardanoAddress</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/text-2.0.2/src/Data.Text.Internal.html#Text"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">AddressInEra</span></span><span>
</span><span id="line-308"></span><span id="toCardanoAddress"><span class="annot"><span class="annottext">toCardanoAddress :: Text -&gt; Maybe AddressInEra
</span><a href="Hydra.Chain.Blockfrost.Client.html#toCardanoAddress"><span class="hs-identifier hs-var hs-var">toCardanoAddress</span></a></span></span><span> </span><span id="local-6989586621680609294"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680609294"><span class="hs-identifier hs-var">addrTxt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-309"></span><span>  </span><span class="annot"><span class="annottext">Address ShelleyAddr -&gt; AddressInEra
</span><span class="hs-identifier hs-var">ShelleyAddressInEra</span></span><span> </span><span class="annot"><span class="annottext">(Address ShelleyAddr -&gt; AddressInEra)
-&gt; Maybe (Address ShelleyAddr) -&gt; Maybe AddressInEra
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">AsType (Address ShelleyAddr) -&gt; Text -&gt; Maybe (Address ShelleyAddr)
forall addr.
SerialiseAddress addr =&gt;
AsType addr -&gt; Text -&gt; Maybe addr
</span><span class="hs-identifier hs-var">deserialiseAddress</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AsType ShelleyAddr -&gt; AsType (Address ShelleyAddr)
forall addrtype. AsType addrtype -&gt; AsType (Address addrtype)
</span><span class="hs-identifier hs-var">AsAddress</span></span><span> </span><span class="annot"><span class="annottext">AsType ShelleyAddr
</span><span class="hs-identifier hs-var">AsShelleyAddr</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680609294"><span class="hs-identifier hs-var">addrTxt</span></a></span><span>
</span><span id="line-310"></span><span>
</span><span id="line-311"></span><span class="annot"><a href="Hydra.Chain.Blockfrost.Client.html#toCardanoNetworkId"><span class="hs-identifier hs-type">toCardanoNetworkId</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/ghc-bignum-1.3/src/GHC.Num.Integer.html#Integer"><span class="hs-identifier hs-type">Integer</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NetworkId</span></span><span>
</span><span id="line-312"></span><span id="toCardanoNetworkId"><span class="annot"><span class="annottext">toCardanoNetworkId :: Integer -&gt; NetworkId
</span><a href="Hydra.Chain.Blockfrost.Client.html#toCardanoNetworkId"><span class="hs-identifier hs-var hs-var">toCardanoNetworkId</span></a></span></span><span> </span><span id="local-6989586621680609299"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621680609299"><span class="hs-identifier hs-var">magic</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-313"></span><span>  </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Word32
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621680609299"><span class="hs-identifier hs-var">magic</span></a></span><span> </span><span class="annot"><span class="annottext">Word32 -&gt; Word32 -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolMagicId -&gt; Word32
</span><span class="hs-identifier hs-var">unProtocolMagicId</span></span><span> </span><span class="annot"><span class="annottext">ProtocolMagicId
</span><span class="hs-identifier hs-var">mainnetProtocolMagicId</span></span><span>
</span><span id="line-314"></span><span>    </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">NetworkId
</span><span class="hs-identifier hs-var">Mainnet</span></span><span>
</span><span id="line-315"></span><span>    </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">NetworkMagic -&gt; NetworkId
</span><span class="hs-identifier hs-var">Testnet</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word32 -&gt; NetworkMagic
</span><span class="hs-identifier hs-var">NetworkMagic</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Word32
forall a. Num a =&gt; Integer -&gt; a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Num.html#fromInteger"><span class="hs-identifier hs-var">fromInteger</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621680609299"><span class="hs-identifier hs-var">magic</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-316"></span><span>
</span><span id="line-317"></span><span class="hs-keyword">data</span><span> </span><span id="BlockfrostConversion"><span class="annot"><a href="Hydra.Chain.Blockfrost.Client.html#BlockfrostConversion"><span class="hs-identifier hs-var">BlockfrostConversion</span></a></span></span><span>
</span><span id="line-318"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="BlockfrostConversion"><span class="annot"><a href="Hydra.Chain.Blockfrost.Client.html#BlockfrostConversion"><span class="hs-identifier hs-var">BlockfrostConversion</span></a></span></span><span>
</span><span id="line-319"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="%24sel%3Aa0%3ABlockfrostConversion"><span class="annot"><span class="annottext">BlockfrostConversion -&gt; NonNegativeInterval
</span><a href="Hydra.Chain.Blockfrost.Client.html#%24sel%3Aa0%3ABlockfrostConversion"><span class="hs-identifier hs-var hs-var">a0</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NonNegativeInterval</span></span><span>
</span><span id="line-320"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="%24sel%3Arho%3ABlockfrostConversion"><span class="annot"><span class="annottext">BlockfrostConversion -&gt; UnitInterval
</span><a href="Hydra.Chain.Blockfrost.Client.html#%24sel%3Arho%3ABlockfrostConversion"><span class="hs-identifier hs-var hs-var">rho</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">UnitInterval</span></span><span>
</span><span id="line-321"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="%24sel%3Atau%3ABlockfrostConversion"><span class="annot"><span class="annottext">BlockfrostConversion -&gt; UnitInterval
</span><a href="Hydra.Chain.Blockfrost.Client.html#%24sel%3Atau%3ABlockfrostConversion"><span class="hs-identifier hs-var hs-var">tau</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">UnitInterval</span></span><span>
</span><span id="line-322"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="%24sel%3ApriceMemory%3ABlockfrostConversion"><span class="annot"><span class="annottext">BlockfrostConversion -&gt; NonNegativeInterval
</span><a href="Hydra.Chain.Blockfrost.Client.html#%24sel%3ApriceMemory%3ABlockfrostConversion"><span class="hs-identifier hs-var hs-var">priceMemory</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NonNegativeInterval</span></span><span>
</span><span id="line-323"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="%24sel%3ApriceSteps%3ABlockfrostConversion"><span class="annot"><span class="annottext">BlockfrostConversion -&gt; NonNegativeInterval
</span><a href="Hydra.Chain.Blockfrost.Client.html#%24sel%3ApriceSteps%3ABlockfrostConversion"><span class="hs-identifier hs-var hs-var">priceSteps</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NonNegativeInterval</span></span><span>
</span><span id="line-324"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="%24sel%3ApvtMotionNoConfidence%3ABlockfrostConversion"><span class="annot"><span class="annottext">BlockfrostConversion -&gt; UnitInterval
</span><a href="Hydra.Chain.Blockfrost.Client.html#%24sel%3ApvtMotionNoConfidence%3ABlockfrostConversion"><span class="hs-identifier hs-var hs-var">pvtMotionNoConfidence</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">UnitInterval</span></span><span>
</span><span id="line-325"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="%24sel%3ApvtCommitteeNormal%3ABlockfrostConversion"><span class="annot"><span class="annottext">BlockfrostConversion -&gt; UnitInterval
</span><a href="Hydra.Chain.Blockfrost.Client.html#%24sel%3ApvtCommitteeNormal%3ABlockfrostConversion"><span class="hs-identifier hs-var hs-var">pvtCommitteeNormal</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">UnitInterval</span></span><span>
</span><span id="line-326"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="%24sel%3ApvtCommitteeNoConfidence%3ABlockfrostConversion"><span class="annot"><span class="annottext">BlockfrostConversion -&gt; UnitInterval
</span><a href="Hydra.Chain.Blockfrost.Client.html#%24sel%3ApvtCommitteeNoConfidence%3ABlockfrostConversion"><span class="hs-identifier hs-var hs-var">pvtCommitteeNoConfidence</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">UnitInterval</span></span><span>
</span><span id="line-327"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="%24sel%3ApvtHardForkInitiation%3ABlockfrostConversion"><span class="annot"><span class="annottext">BlockfrostConversion -&gt; UnitInterval
</span><a href="Hydra.Chain.Blockfrost.Client.html#%24sel%3ApvtHardForkInitiation%3ABlockfrostConversion"><span class="hs-identifier hs-var hs-var">pvtHardForkInitiation</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">UnitInterval</span></span><span>
</span><span id="line-328"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="%24sel%3ApvtPPSecurityGroup%3ABlockfrostConversion"><span class="annot"><span class="annottext">BlockfrostConversion -&gt; UnitInterval
</span><a href="Hydra.Chain.Blockfrost.Client.html#%24sel%3ApvtPPSecurityGroup%3ABlockfrostConversion"><span class="hs-identifier hs-var hs-var">pvtPPSecurityGroup</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">UnitInterval</span></span><span>
</span><span id="line-329"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AdvtMotionNoConfidence%3ABlockfrostConversion"><span class="annot"><span class="annottext">BlockfrostConversion -&gt; UnitInterval
</span><a href="Hydra.Chain.Blockfrost.Client.html#%24sel%3AdvtMotionNoConfidence%3ABlockfrostConversion"><span class="hs-identifier hs-var hs-var">dvtMotionNoConfidence</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">UnitInterval</span></span><span>
</span><span id="line-330"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AdvtCommitteeNormal%3ABlockfrostConversion"><span class="annot"><span class="annottext">BlockfrostConversion -&gt; UnitInterval
</span><a href="Hydra.Chain.Blockfrost.Client.html#%24sel%3AdvtCommitteeNormal%3ABlockfrostConversion"><span class="hs-identifier hs-var hs-var">dvtCommitteeNormal</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">UnitInterval</span></span><span>
</span><span id="line-331"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AdvtCommitteeNoConfidence%3ABlockfrostConversion"><span class="annot"><span class="annottext">BlockfrostConversion -&gt; UnitInterval
</span><a href="Hydra.Chain.Blockfrost.Client.html#%24sel%3AdvtCommitteeNoConfidence%3ABlockfrostConversion"><span class="hs-identifier hs-var hs-var">dvtCommitteeNoConfidence</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">UnitInterval</span></span><span>
</span><span id="line-332"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AdvtUpdateToConstitution%3ABlockfrostConversion"><span class="annot"><span class="annottext">BlockfrostConversion -&gt; UnitInterval
</span><a href="Hydra.Chain.Blockfrost.Client.html#%24sel%3AdvtUpdateToConstitution%3ABlockfrostConversion"><span class="hs-identifier hs-var hs-var">dvtUpdateToConstitution</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">UnitInterval</span></span><span>
</span><span id="line-333"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AdvtHardForkInitiation%3ABlockfrostConversion"><span class="annot"><span class="annottext">BlockfrostConversion -&gt; UnitInterval
</span><a href="Hydra.Chain.Blockfrost.Client.html#%24sel%3AdvtHardForkInitiation%3ABlockfrostConversion"><span class="hs-identifier hs-var hs-var">dvtHardForkInitiation</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">UnitInterval</span></span><span>
</span><span id="line-334"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AdvtPPNetworkGroup%3ABlockfrostConversion"><span class="annot"><span class="annottext">BlockfrostConversion -&gt; UnitInterval
</span><a href="Hydra.Chain.Blockfrost.Client.html#%24sel%3AdvtPPNetworkGroup%3ABlockfrostConversion"><span class="hs-identifier hs-var hs-var">dvtPPNetworkGroup</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">UnitInterval</span></span><span>
</span><span id="line-335"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AdvtPPEconomicGroup%3ABlockfrostConversion"><span class="annot"><span class="annottext">BlockfrostConversion -&gt; UnitInterval
</span><a href="Hydra.Chain.Blockfrost.Client.html#%24sel%3AdvtPPEconomicGroup%3ABlockfrostConversion"><span class="hs-identifier hs-var hs-var">dvtPPEconomicGroup</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">UnitInterval</span></span><span>
</span><span id="line-336"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AdvtPPTechnicalGroup%3ABlockfrostConversion"><span class="annot"><span class="annottext">BlockfrostConversion -&gt; UnitInterval
</span><a href="Hydra.Chain.Blockfrost.Client.html#%24sel%3AdvtPPTechnicalGroup%3ABlockfrostConversion"><span class="hs-identifier hs-var hs-var">dvtPPTechnicalGroup</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">UnitInterval</span></span><span>
</span><span id="line-337"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AdvtPPGovGroup%3ABlockfrostConversion"><span class="annot"><span class="annottext">BlockfrostConversion -&gt; UnitInterval
</span><a href="Hydra.Chain.Blockfrost.Client.html#%24sel%3AdvtPPGovGroup%3ABlockfrostConversion"><span class="hs-identifier hs-var hs-var">dvtPPGovGroup</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">UnitInterval</span></span><span>
</span><span id="line-338"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AdvtTreasuryWithdrawal%3ABlockfrostConversion"><span class="annot"><span class="annottext">BlockfrostConversion -&gt; UnitInterval
</span><a href="Hydra.Chain.Blockfrost.Client.html#%24sel%3AdvtTreasuryWithdrawal%3ABlockfrostConversion"><span class="hs-identifier hs-var hs-var">dvtTreasuryWithdrawal</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">UnitInterval</span></span><span>
</span><span id="line-339"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AcommitteeMinSize%3ABlockfrostConversion"><span class="annot"><span class="annottext">BlockfrostConversion -&gt; Quantity
</span><a href="Hydra.Chain.Blockfrost.Client.html#%24sel%3AcommitteeMinSize%3ABlockfrostConversion"><span class="hs-identifier hs-var hs-var">committeeMinSize</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Blockfrost.Quantity</span></span><span>
</span><span id="line-340"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AcommitteeMaxTermLength%3ABlockfrostConversion"><span class="annot"><span class="annottext">BlockfrostConversion -&gt; Quantity
</span><a href="Hydra.Chain.Blockfrost.Client.html#%24sel%3AcommitteeMaxTermLength%3ABlockfrostConversion"><span class="hs-identifier hs-var hs-var">committeeMaxTermLength</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Blockfrost.Quantity</span></span><span>
</span><span id="line-341"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AgovActionLifetime%3ABlockfrostConversion"><span class="annot"><span class="annottext">BlockfrostConversion -&gt; Quantity
</span><a href="Hydra.Chain.Blockfrost.Client.html#%24sel%3AgovActionLifetime%3ABlockfrostConversion"><span class="hs-identifier hs-var hs-var">govActionLifetime</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Blockfrost.Quantity</span></span><span>
</span><span id="line-342"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AgovActionDeposit%3ABlockfrostConversion"><span class="annot"><span class="annottext">BlockfrostConversion -&gt; Coin
</span><a href="Hydra.Chain.Blockfrost.Client.html#%24sel%3AgovActionDeposit%3ABlockfrostConversion"><span class="hs-identifier hs-var hs-var">govActionDeposit</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Coin</span></span><span>
</span><span id="line-343"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AdrepDeposit%3ABlockfrostConversion"><span class="annot"><span class="annottext">BlockfrostConversion -&gt; Integer
</span><a href="Hydra.Chain.Blockfrost.Client.html#%24sel%3AdrepDeposit%3ABlockfrostConversion"><span class="hs-identifier hs-var hs-var">drepDeposit</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/ghc-bignum-1.3/src/GHC.Num.Integer.html#Integer"><span class="hs-identifier hs-type">Integer</span></a></span><span>
</span><span id="line-344"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AdrepActivity%3ABlockfrostConversion"><span class="annot"><span class="annottext">BlockfrostConversion -&gt; Quantity
</span><a href="Hydra.Chain.Blockfrost.Client.html#%24sel%3AdrepActivity%3ABlockfrostConversion"><span class="hs-identifier hs-var hs-var">drepActivity</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Blockfrost.Quantity</span></span><span>
</span><span id="line-345"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AminFeeRefScriptCostPerByte%3ABlockfrostConversion"><span class="annot"><span class="annottext">BlockfrostConversion -&gt; NonNegativeInterval
</span><a href="Hydra.Chain.Blockfrost.Client.html#%24sel%3AminFeeRefScriptCostPerByte%3ABlockfrostConversion"><span class="hs-identifier hs-var hs-var">minFeeRefScriptCostPerByte</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NonNegativeInterval</span></span><span>
</span><span id="line-346"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-347"></span><span>
</span><span id="line-348"></span><span class="annot"><a href="Hydra.Chain.Blockfrost.Client.html#toCardanoGenesisParameters"><span class="hs-identifier hs-type">toCardanoGenesisParameters</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Blockfrost.Genesis</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">GenesisParameters</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ShelleyEra</span></span><span>
</span><span id="line-349"></span><span id="toCardanoGenesisParameters"><span class="annot"><span class="annottext">toCardanoGenesisParameters :: Genesis -&gt; GenesisParameters ShelleyEra
</span><a href="Hydra.Chain.Blockfrost.Client.html#toCardanoGenesisParameters"><span class="hs-identifier hs-var hs-var">toCardanoGenesisParameters</span></a></span></span><span> </span><span id="local-6989586621680609305"><span class="annot"><span class="annottext">Genesis
</span><a href="#local-6989586621680609305"><span class="hs-identifier hs-var">bfGenesis</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-350"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">GenesisParameters</span></span><span>
</span><span id="line-351"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">protocolParamSlotsPerKESPeriod :: Int
</span><span class="hs-identifier hs-var">protocolParamSlotsPerKESPeriod</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Int
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621680609308"><span class="hs-identifier hs-var">_genesisSlotsPerKesPeriod</span></a></span><span>
</span><span id="line-352"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">protocolParamUpdateQuorum :: Int
</span><span class="hs-identifier hs-var">protocolParamUpdateQuorum</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Int
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621680609310"><span class="hs-identifier hs-var">_genesisUpdateQuorum</span></a></span><span>
</span><span id="line-353"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">protocolParamMaxLovelaceSupply :: Coin
</span><span class="hs-identifier hs-var">protocolParamMaxLovelaceSupply</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Discrete' &quot;ADA&quot; '(1000000, 1) -&gt; Coin
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Discrete' &quot;ADA&quot; '(1000000, 1)
Lovelaces
</span><a href="#local-6989586621680609312"><span class="hs-identifier hs-var">_genesisMaxLovelaceSupply</span></a></span><span>
</span><span id="line-354"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">protocolParamSecurity :: NonZero Word64
</span><span class="hs-identifier hs-var">protocolParamSecurity</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; NonZero Word64
forall a. a -&gt; NonZero a
</span><span class="hs-identifier hs-var">unsafeNonZero</span></span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; NonZero Word64) -&gt; Word64 -&gt; NonZero Word64
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Word64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621680609314"><span class="hs-identifier hs-var">_genesisSecurityParam</span></a></span><span>
</span><span id="line-355"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">protocolParamActiveSlotsCoefficient :: Rational
</span><span class="hs-identifier hs-var">protocolParamActiveSlotsCoefficient</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621680609316"><span class="hs-identifier hs-var">_genesisActiveSlotsCoefficient</span></a></span><span>
</span><span id="line-356"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">protocolParamSystemStart :: UTCTime
</span><span class="hs-identifier hs-var">protocolParamSystemStart</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NominalDiffTime -&gt; UTCTime
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/time-1.12.2/src/Data.Time.Clock.POSIX.html#posixSecondsToUTCTime"><span class="hs-identifier hs-var">posixSecondsToUTCTime</span></a></span><span> </span><span class="annot"><span class="annottext">NominalDiffTime
</span><a href="#local-6989586621680609319"><span class="hs-identifier hs-var">_genesisSystemStart</span></a></span><span>
</span><span id="line-357"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">protocolParamNetworkId :: NetworkId
</span><span class="hs-identifier hs-var">protocolParamNetworkId</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NetworkMagic -&gt; NetworkId
</span><span class="hs-identifier hs-var">fromNetworkMagic</span></span><span> </span><span class="annot"><span class="annottext">(NetworkMagic -&gt; NetworkId) -&gt; NetworkMagic -&gt; NetworkId
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Word32 -&gt; NetworkMagic
</span><span class="hs-identifier hs-var">NetworkMagic</span></span><span> </span><span class="annot"><span class="annottext">(Word32 -&gt; NetworkMagic) -&gt; Word32 -&gt; NetworkMagic
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Word32
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621680609321"><span class="hs-identifier hs-var">_genesisNetworkMagic</span></a></span><span>
</span><span id="line-358"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">protocolParamMaxKESEvolutions :: Int
</span><span class="hs-identifier hs-var">protocolParamMaxKESEvolutions</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Int
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621680609323"><span class="hs-identifier hs-var">_genesisMaxKesEvolutions</span></a></span><span>
</span><span id="line-359"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">protocolParamEpochLength :: EpochSize
</span><span class="hs-identifier hs-var">protocolParamEpochLength</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; EpochSize
</span><span class="hs-identifier hs-var">EpochSize</span></span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; EpochSize) -&gt; Word64 -&gt; EpochSize
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Word64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621680609326"><span class="hs-identifier hs-var">_genesisEpochLength</span></a></span><span>
</span><span id="line-360"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">protocolParamSlotLength :: NominalDiffTime
</span><span class="hs-identifier hs-var">protocolParamSlotLength</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; NominalDiffTime
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621680609328"><span class="hs-identifier hs-var">_genesisSlotLength</span></a></span><span>
</span><span id="line-361"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">protocolInitialUpdateableProtocolParameters :: PParams (ShelleyLedgerEra ShelleyEra)
</span><span class="hs-identifier hs-var">protocolInitialUpdateableProtocolParameters</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PParams ShelleyEra
PParams (ShelleyLedgerEra ShelleyEra)
forall a. Default a =&gt; a
</span><span class="hs-identifier hs-var">def</span></span><span>
</span><span id="line-362"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-363"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-364"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Blockfrost.Genesis</span></span><span>
</span><span id="line-365"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="local-6989586621680609316"><span class="annot"><span class="annottext">Rational
_genesisActiveSlotsCoefficient :: Rational
$sel:_genesisActiveSlotsCoefficient:Genesis :: Genesis -&gt; Rational
</span><a href="#local-6989586621680609316"><span class="hs-identifier hs-var hs-var">_genesisActiveSlotsCoefficient</span></a></span></span><span>
</span><span id="line-366"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621680609310"><span class="annot"><span class="annottext">Integer
_genesisUpdateQuorum :: Integer
$sel:_genesisUpdateQuorum:Genesis :: Genesis -&gt; Integer
</span><a href="#local-6989586621680609310"><span class="hs-identifier hs-var hs-var">_genesisUpdateQuorum</span></a></span></span><span>
</span><span id="line-367"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621680609312"><span class="annot"><span class="annottext">Lovelaces
_genesisMaxLovelaceSupply :: Lovelaces
$sel:_genesisMaxLovelaceSupply:Genesis :: Genesis -&gt; Lovelaces
</span><a href="#local-6989586621680609312"><span class="hs-identifier hs-var hs-var">_genesisMaxLovelaceSupply</span></a></span></span><span>
</span><span id="line-368"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621680609321"><span class="annot"><span class="annottext">Integer
$sel:_genesisNetworkMagic:Genesis :: Genesis -&gt; Integer
_genesisNetworkMagic :: Integer
</span><span class="hs-identifier hs-var hs-var">_genesisNetworkMagic</span></span></span><span>
</span><span id="line-369"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621680609326"><span class="annot"><span class="annottext">Integer
_genesisEpochLength :: Integer
$sel:_genesisEpochLength:Genesis :: Genesis -&gt; Integer
</span><a href="#local-6989586621680609326"><span class="hs-identifier hs-var hs-var">_genesisEpochLength</span></a></span></span><span>
</span><span id="line-370"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621680609319"><span class="annot"><span class="annottext">NominalDiffTime
$sel:_genesisSystemStart:Genesis :: Genesis -&gt; NominalDiffTime
_genesisSystemStart :: NominalDiffTime
</span><span class="hs-identifier hs-var hs-var">_genesisSystemStart</span></span></span><span>
</span><span id="line-371"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621680609308"><span class="annot"><span class="annottext">Integer
_genesisSlotsPerKesPeriod :: Integer
$sel:_genesisSlotsPerKesPeriod:Genesis :: Genesis -&gt; Integer
</span><a href="#local-6989586621680609308"><span class="hs-identifier hs-var hs-var">_genesisSlotsPerKesPeriod</span></a></span></span><span>
</span><span id="line-372"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621680609328"><span class="annot"><span class="annottext">Integer
_genesisSlotLength :: Integer
$sel:_genesisSlotLength:Genesis :: Genesis -&gt; Integer
</span><a href="#local-6989586621680609328"><span class="hs-identifier hs-var hs-var">_genesisSlotLength</span></a></span></span><span>
</span><span id="line-373"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621680609323"><span class="annot"><span class="annottext">Integer
_genesisMaxKesEvolutions :: Integer
$sel:_genesisMaxKesEvolutions:Genesis :: Genesis -&gt; Integer
</span><a href="#local-6989586621680609323"><span class="hs-identifier hs-var hs-var">_genesisMaxKesEvolutions</span></a></span></span><span>
</span><span id="line-374"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621680609314"><span class="annot"><span class="annottext">Integer
_genesisSecurityParam :: Integer
$sel:_genesisSecurityParam:Genesis :: Genesis -&gt; Integer
</span><a href="#local-6989586621680609314"><span class="hs-identifier hs-var hs-var">_genesisSecurityParam</span></a></span></span><span>
</span><span id="line-375"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Genesis
</span><a href="#local-6989586621680609305"><span class="hs-identifier hs-var">bfGenesis</span></a></span><span>
</span><span id="line-376"></span><span>
</span><span id="line-377"></span><span id="local-6989586621680608084"><span class="annot"><a href="Hydra.Chain.Blockfrost.Client.html#submitTransaction"><span class="hs-identifier hs-type">submitTransaction</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Control.Monad.IO.Class.html#MonadIO"><span class="hs-identifier hs-type">MonadIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680608084"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Tx</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">BlockfrostClientT</span></span><span> </span><span class="annot"><a href="#local-6989586621680608084"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Blockfrost.TxHash</span></span></span><span>
</span><span id="line-378"></span><span id="submitTransaction"><span class="annot"><span class="annottext">submitTransaction :: forall (m :: * -&gt; *). MonadIO m =&gt; Tx -&gt; BlockfrostClientT m TxHash
</span><a href="Hydra.Chain.Blockfrost.Client.html#submitTransaction"><span class="hs-identifier hs-var hs-var">submitTransaction</span></a></span></span><span> </span><span id="local-6989586621680609345"><span class="annot"><span class="annottext">Tx
</span><a href="#local-6989586621680609345"><span class="hs-identifier hs-var">tx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CBORString -&gt; BlockfrostClientT m TxHash
forall (m :: * -&gt; *). MonadBlockfrost m =&gt; CBORString -&gt; m TxHash
</span><span class="hs-identifier hs-var">Blockfrost.submitTx</span></span><span> </span><span class="annot"><span class="annottext">(CBORString -&gt; BlockfrostClientT m TxHash)
-&gt; CBORString -&gt; BlockfrostClientT m TxHash
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; CBORString
</span><span class="hs-identifier hs-var">Blockfrost.CBORString</span></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; CBORString) -&gt; ByteString -&gt; CBORString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString
forall l s. LazyStrict l s =&gt; s -&gt; l
</span><span class="hs-identifier hs-var">fromStrict</span></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; ByteString) -&gt; ByteString -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Tx -&gt; ByteString
forall a. SerialiseAsCBOR a =&gt; a -&gt; ByteString
</span><span class="hs-identifier hs-var">serialiseToCBOR</span></span><span> </span><span class="annot"><span class="annottext">Tx
</span><a href="#local-6989586621680609345"><span class="hs-identifier hs-var">tx</span></a></span><span>
</span><span id="line-379"></span><span>
</span><span id="line-380"></span><span class="hs-comment">----------------</span><span>
</span><span id="line-381"></span><span class="hs-comment">-- Queries --</span><span>
</span><span id="line-382"></span><span class="hs-comment">----------------</span><span>
</span><span id="line-383"></span><span>
</span><span id="line-384"></span><span class="annot"><a href="Hydra.Chain.Blockfrost.Client.html#queryEraHistory"><span class="hs-identifier hs-type">queryEraHistory</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">BlockfrostClientT</span></span><span> </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">EraHistory</span></span><span>
</span><span id="line-385"></span><span id="queryEraHistory"><span class="annot"><span class="annottext">queryEraHistory :: BlockfrostClientT IO EraHistory
</span><a href="Hydra.Chain.Blockfrost.Client.html#queryEraHistory"><span class="hs-identifier hs-var hs-var">queryEraHistory</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-386"></span><span>  </span><span id="local-6989586621680609351"><span class="annot"><span class="annottext">[NetworkEraSummary]
</span><a href="#local-6989586621680609351"><span class="hs-identifier hs-var">eras'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">BlockfrostClientT IO [NetworkEraSummary]
forall (m :: * -&gt; *). MonadBlockfrost m =&gt; m [NetworkEraSummary]
</span><span class="hs-identifier hs-var">Blockfrost.getNetworkEras</span></span><span>
</span><span id="line-387"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680609353"><span class="annot"><span class="annottext">eras :: [NetworkEraSummary]
</span><a href="#local-6989586621680609353"><span class="hs-identifier hs-var hs-var">eras</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(NetworkEraSummary -&gt; Bool)
-&gt; [NetworkEraSummary] -&gt; [NetworkEraSummary]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.List.html#filter"><span class="hs-identifier hs-var">filter</span></a></span><span> </span><span class="annot"><span class="annottext">NetworkEraSummary -&gt; Bool
</span><a href="#local-6989586621680609354"><span class="hs-identifier hs-var">isEmptyEra</span></a></span><span> </span><span class="annot"><span class="annottext">[NetworkEraSummary]
</span><a href="#local-6989586621680609351"><span class="hs-identifier hs-var">eras'</span></a></span><span>
</span><span id="line-388"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680609355"><span class="annot"><span class="annottext">summary :: [EraSummary]
</span><a href="#local-6989586621680609355"><span class="hs-identifier hs-var hs-var">summary</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NetworkEraSummary -&gt; EraSummary
</span><a href="#local-6989586621680609356"><span class="hs-identifier hs-var">mkEra</span></a></span><span> </span><span class="annot"><span class="annottext">(NetworkEraSummary -&gt; EraSummary)
-&gt; [NetworkEraSummary] -&gt; [EraSummary]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[NetworkEraSummary]
</span><a href="#local-6989586621680609353"><span class="hs-identifier hs-var">eras</span></a></span><span>
</span><span id="line-389"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[EraSummary]
-&gt; Maybe (NonEmpty (CardanoEras StandardCrypto) EraSummary)
forall (xs :: [*]) a. SListI xs =&gt; [a] -&gt; Maybe (NonEmpty xs a)
</span><span class="hs-identifier hs-var">nonEmptyFromList</span></span><span> </span><span class="annot"><span class="annottext">[EraSummary]
</span><a href="#local-6989586621680609355"><span class="hs-identifier hs-var">summary</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-390"></span><span>    </span><span class="annot"><span class="annottext">Maybe (NonEmpty (CardanoEras StandardCrypto) EraSummary)
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-391"></span><span>      </span><span class="annot"><span class="annottext">IO EraHistory -&gt; BlockfrostClientT IO EraHistory
forall a. IO a -&gt; BlockfrostClientT IO a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO EraHistory -&gt; BlockfrostClientT IO EraHistory)
-&gt; IO EraHistory -&gt; BlockfrostClientT IO EraHistory
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">APIBlockfrostError -&gt; IO EraHistory
forall e a. Exception e =&gt; e -&gt; IO a
forall (m :: * -&gt; *) e a. (MonadThrow m, Exception e) =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">throwIO</span></span><span> </span><span class="annot"><span class="annottext">(APIBlockfrostError -&gt; IO EraHistory)
-&gt; APIBlockfrostError -&gt; IO EraHistory
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">BlockfrostException -&gt; APIBlockfrostError
</span><a href="Hydra.Chain.Blockfrost.Client.html#BlockfrostError"><span class="hs-identifier hs-var">BlockfrostError</span></a></span><span> </span><span class="annot"><span class="annottext">BlockfrostException
</span><a href="Hydra.Chain.Blockfrost.Client.html#FailedEraHistory"><span class="hs-identifier hs-var">FailedEraHistory</span></a></span><span>
</span><span id="line-392"></span><span>    </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680609357"><span class="annot"><span class="annottext">NonEmpty (CardanoEras StandardCrypto) EraSummary
</span><a href="#local-6989586621680609357"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">EraHistory -&gt; BlockfrostClientT IO EraHistory
forall a. a -&gt; BlockfrostClientT IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(EraHistory -&gt; BlockfrostClientT IO EraHistory)
-&gt; EraHistory -&gt; BlockfrostClientT IO EraHistory
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Interpreter (CardanoEras StandardCrypto) -&gt; EraHistory
forall (xs :: [*]).
(CardanoBlock StandardCrypto ~ HardForkBlock xs) =&gt;
Interpreter xs -&gt; EraHistory
</span><span class="hs-identifier hs-var">EraHistory</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Summary (CardanoEras StandardCrypto)
-&gt; Interpreter (CardanoEras StandardCrypto)
forall (xs :: [*]). Summary xs -&gt; Interpreter xs
</span><span class="hs-identifier hs-var">mkInterpreter</span></span><span> </span><span class="annot"><span class="annottext">(Summary (CardanoEras StandardCrypto)
 -&gt; Interpreter (CardanoEras StandardCrypto))
-&gt; Summary (CardanoEras StandardCrypto)
-&gt; Interpreter (CardanoEras StandardCrypto)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty (CardanoEras StandardCrypto) EraSummary
-&gt; Summary (CardanoEras StandardCrypto)
forall (xs :: [*]). NonEmpty xs EraSummary -&gt; Summary xs
</span><span class="hs-identifier hs-var">Summary</span></span><span> </span><span class="annot"><span class="annottext">NonEmpty (CardanoEras StandardCrypto) EraSummary
</span><a href="#local-6989586621680609357"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-393"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-394"></span><span>  </span><span id="local-6989586621680609366"><span class="annot"><span class="annottext">mkBound :: NetworkEraBound -&gt; Bound
</span><a href="#local-6989586621680609366"><span class="hs-identifier hs-var hs-var">mkBound</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Blockfrost.NetworkEraBound</span></span><span class="hs-special">{</span><span id="local-6989586621680609368"><span class="annot"><span class="annottext">Epoch
_boundEpoch :: Epoch
$sel:_boundEpoch:NetworkEraBound :: NetworkEraBound -&gt; Epoch
</span><a href="#local-6989586621680609368"><span class="hs-identifier hs-var hs-var">_boundEpoch</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680609370"><span class="annot"><span class="annottext">Slot
_boundSlot :: Slot
$sel:_boundSlot:NetworkEraBound :: NetworkEraBound -&gt; Slot
</span><a href="#local-6989586621680609370"><span class="hs-identifier hs-var hs-var">_boundSlot</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680609372"><span class="annot"><span class="annottext">NominalDiffTime
_boundTime :: NominalDiffTime
$sel:_boundTime:NetworkEraBound :: NetworkEraBound -&gt; NominalDiffTime
</span><a href="#local-6989586621680609372"><span class="hs-identifier hs-var hs-var">_boundTime</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-395"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Bound</span></span><span>
</span><span id="line-396"></span><span>      </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">boundTime :: RelativeTime
</span><span class="hs-identifier hs-var">boundTime</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NominalDiffTime -&gt; RelativeTime
</span><span class="hs-identifier hs-var">RelativeTime</span></span><span> </span><span class="annot"><span class="annottext">NominalDiffTime
</span><a href="#local-6989586621680609372"><span class="hs-identifier hs-var">_boundTime</span></a></span><span>
</span><span id="line-397"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">boundSlot :: SlotNo
</span><span class="hs-identifier hs-var">boundSlot</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; SlotNo
</span><span class="hs-identifier hs-var">SlotNo</span></span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; SlotNo) -&gt; Word64 -&gt; SlotNo
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Slot -&gt; Word64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Slot
</span><a href="#local-6989586621680609370"><span class="hs-identifier hs-var">_boundSlot</span></a></span><span>
</span><span id="line-398"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">boundEpoch :: EpochNo
</span><span class="hs-identifier hs-var">boundEpoch</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; EpochNo
</span><span class="hs-identifier hs-var">EpochNo</span></span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; EpochNo) -&gt; Word64 -&gt; EpochNo
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Epoch -&gt; Word64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Epoch
</span><a href="#local-6989586621680609368"><span class="hs-identifier hs-var">_boundEpoch</span></a></span><span>
</span><span id="line-399"></span><span>      </span><span class="hs-special">}</span><span>
</span><span id="line-400"></span><span>  </span><span id="local-6989586621680609384"><span class="annot"><span class="annottext">mkEraParams :: NetworkEraParameters -&gt; EraParams
</span><a href="#local-6989586621680609384"><span class="hs-identifier hs-var hs-var">mkEraParams</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Blockfrost.NetworkEraParameters</span></span><span class="hs-special">{</span><span id="local-6989586621680609386"><span class="annot"><span class="annottext">EpochLength
_parametersEpochLength :: EpochLength
$sel:_parametersEpochLength:NetworkEraParameters :: NetworkEraParameters -&gt; EpochLength
</span><a href="#local-6989586621680609386"><span class="hs-identifier hs-var hs-var">_parametersEpochLength</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680609388"><span class="annot"><span class="annottext">NominalDiffTime
_parametersSlotLength :: NominalDiffTime
$sel:_parametersSlotLength:NetworkEraParameters :: NetworkEraParameters -&gt; NominalDiffTime
</span><a href="#local-6989586621680609388"><span class="hs-identifier hs-var hs-var">_parametersSlotLength</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680609390"><span class="annot"><span class="annottext">Word64
_parametersSafeZone :: Word64
$sel:_parametersSafeZone:NetworkEraParameters :: NetworkEraParameters -&gt; Word64
</span><a href="#local-6989586621680609390"><span class="hs-identifier hs-var hs-var">_parametersSafeZone</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-401"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">EraParams</span></span><span>
</span><span id="line-402"></span><span>      </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">eraEpochSize :: EpochSize
</span><span class="hs-identifier hs-var">eraEpochSize</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; EpochSize
</span><span class="hs-identifier hs-var">EpochSize</span></span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; EpochSize) -&gt; Word64 -&gt; EpochSize
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">EpochLength -&gt; Word64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">EpochLength
</span><a href="#local-6989586621680609386"><span class="hs-identifier hs-var">_parametersEpochLength</span></a></span><span>
</span><span id="line-403"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">eraSlotLength :: SlotLength
</span><span class="hs-identifier hs-var">eraSlotLength</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NominalDiffTime -&gt; SlotLength
</span><span class="hs-identifier hs-var">mkSlotLength</span></span><span> </span><span class="annot"><span class="annottext">NominalDiffTime
</span><a href="#local-6989586621680609388"><span class="hs-identifier hs-var">_parametersSlotLength</span></a></span><span>
</span><span id="line-404"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">eraSafeZone :: SafeZone
</span><span class="hs-identifier hs-var">eraSafeZone</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; SafeZone
</span><span class="hs-identifier hs-var">StandardSafeZone</span></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621680609390"><span class="hs-identifier hs-var">_parametersSafeZone</span></a></span><span>
</span><span id="line-405"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">eraGenesisWin :: GenesisWindow
</span><span class="hs-identifier hs-var">eraGenesisWin</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; GenesisWindow
</span><span class="hs-identifier hs-var">GenesisWindow</span></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621680609390"><span class="hs-identifier hs-var">_parametersSafeZone</span></a></span><span>
</span><span id="line-406"></span><span>      </span><span class="hs-special">}</span><span>
</span><span id="line-407"></span><span>  </span><span id="local-6989586621680609356"><span class="annot"><span class="annottext">mkEra :: NetworkEraSummary -&gt; EraSummary
</span><a href="#local-6989586621680609356"><span class="hs-identifier hs-var hs-var">mkEra</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Blockfrost.NetworkEraSummary</span></span><span class="hs-special">{</span><span id="local-6989586621680609400"><span class="annot"><span class="annottext">NetworkEraBound
_networkEraStart :: NetworkEraBound
$sel:_networkEraStart:NetworkEraSummary :: NetworkEraSummary -&gt; NetworkEraBound
</span><a href="#local-6989586621680609400"><span class="hs-identifier hs-var hs-var">_networkEraStart</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680609402"><span class="annot"><span class="annottext">NetworkEraBound
_networkEraEnd :: NetworkEraBound
$sel:_networkEraEnd:NetworkEraSummary :: NetworkEraSummary -&gt; NetworkEraBound
</span><a href="#local-6989586621680609402"><span class="hs-identifier hs-var hs-var">_networkEraEnd</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680609404"><span class="annot"><span class="annottext">NetworkEraParameters
_networkEraParameters :: NetworkEraParameters
$sel:_networkEraParameters:NetworkEraSummary :: NetworkEraSummary -&gt; NetworkEraParameters
</span><a href="#local-6989586621680609404"><span class="hs-identifier hs-var hs-var">_networkEraParameters</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-408"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">EraSummary</span></span><span>
</span><span id="line-409"></span><span>      </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">eraStart :: Bound
</span><span class="hs-identifier hs-var">eraStart</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NetworkEraBound -&gt; Bound
</span><a href="#local-6989586621680609366"><span class="hs-identifier hs-var">mkBound</span></a></span><span> </span><span class="annot"><span class="annottext">NetworkEraBound
</span><a href="#local-6989586621680609400"><span class="hs-identifier hs-var">_networkEraStart</span></a></span><span>
</span><span id="line-410"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">eraEnd :: EraEnd
</span><span class="hs-identifier hs-var">eraEnd</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bound -&gt; EraEnd
</span><span class="hs-identifier hs-var">EraEnd</span></span><span> </span><span class="annot"><span class="annottext">(Bound -&gt; EraEnd) -&gt; Bound -&gt; EraEnd
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">NetworkEraBound -&gt; Bound
</span><a href="#local-6989586621680609366"><span class="hs-identifier hs-var">mkBound</span></a></span><span> </span><span class="annot"><span class="annottext">NetworkEraBound
</span><a href="#local-6989586621680609402"><span class="hs-identifier hs-var">_networkEraEnd</span></a></span><span>
</span><span id="line-411"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">eraParams :: EraParams
</span><span class="hs-identifier hs-var">eraParams</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NetworkEraParameters -&gt; EraParams
</span><a href="#local-6989586621680609384"><span class="hs-identifier hs-var">mkEraParams</span></a></span><span> </span><span class="annot"><span class="annottext">NetworkEraParameters
</span><a href="#local-6989586621680609404"><span class="hs-identifier hs-var">_networkEraParameters</span></a></span><span>
</span><span id="line-412"></span><span>      </span><span class="hs-special">}</span><span>
</span><span id="line-413"></span><span>  </span><span id="local-6989586621680609354"><span class="annot"><span class="annottext">isEmptyEra :: NetworkEraSummary -&gt; Bool
</span><a href="#local-6989586621680609354"><span class="hs-identifier hs-var hs-var">isEmptyEra</span></a></span></span><span>
</span><span id="line-414"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Blockfrost.NetworkEraSummary</span></span><span>
</span><span id="line-415"></span><span>      </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">$sel:_networkEraStart:NetworkEraSummary :: NetworkEraSummary -&gt; NetworkEraBound
</span><span class="hs-identifier hs-var">_networkEraStart</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Blockfrost.NetworkEraBound</span></span><span class="hs-special">{</span><span class="annot"><span class="annottext">$sel:_boundTime:NetworkEraBound :: NetworkEraBound -&gt; NominalDiffTime
</span><span class="hs-identifier hs-var">_boundTime</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680609416"><span class="annot"><span class="annottext">NominalDiffTime
</span><a href="#local-6989586621680609416"><span class="hs-identifier hs-var">boundStart</span></a></span></span><span class="hs-special">}</span><span>
</span><span id="line-416"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">$sel:_networkEraEnd:NetworkEraSummary :: NetworkEraSummary -&gt; NetworkEraBound
</span><span class="hs-identifier hs-var">_networkEraEnd</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Blockfrost.NetworkEraBound</span></span><span class="hs-special">{</span><span class="annot"><span class="annottext">$sel:_boundTime:NetworkEraBound :: NetworkEraBound -&gt; NominalDiffTime
</span><span class="hs-identifier hs-var">_boundTime</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680609417"><span class="annot"><span class="annottext">NominalDiffTime
</span><a href="#local-6989586621680609417"><span class="hs-identifier hs-var">boundEnd</span></a></span></span><span class="hs-special">}</span><span>
</span><span id="line-417"></span><span>      </span><span class="hs-special">,</span><span> </span><span id="local-6989586621680609418"><span class="annot"><span class="annottext">NetworkEraParameters
$sel:_networkEraParameters:NetworkEraSummary :: NetworkEraSummary -&gt; NetworkEraParameters
_networkEraParameters :: NetworkEraParameters
</span><span class="hs-identifier hs-var hs-var">_networkEraParameters</span></span></span><span>
</span><span id="line-418"></span><span>      </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NominalDiffTime
</span><a href="#local-6989586621680609416"><span class="hs-identifier hs-var">boundStart</span></a></span><span> </span><span class="annot"><span class="annottext">NominalDiffTime -&gt; NominalDiffTime -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%2F%3D"><span class="hs-operator hs-var">/=</span></a></span><span> </span><span class="annot"><span class="annottext">NominalDiffTime
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%26%26"><span class="hs-operator hs-var">&amp;&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">NominalDiffTime
</span><a href="#local-6989586621680609417"><span class="hs-identifier hs-var">boundEnd</span></a></span><span> </span><span class="annot"><span class="annottext">NominalDiffTime -&gt; NominalDiffTime -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%2F%3D"><span class="hs-operator hs-var">/=</span></a></span><span> </span><span class="annot"><span class="annottext">NominalDiffTime
</span><span class="hs-number">0</span></span><span>
</span><span id="line-419"></span><span>
</span><span id="line-420"></span><span class="hs-comment">-- | Query the Blockfrost API to get the 'UTxO' for 'TxIn' and convert to cardano 'UTxO'.</span><span>
</span><span id="line-421"></span><span class="hs-comment">-- FIXME: make blockfrost wait times configurable.</span><span>
</span><span id="line-422"></span><span class="annot"><a href="Hydra.Chain.Blockfrost.Client.html#queryUTxOByTxIn"><span class="hs-identifier hs-type">queryUTxOByTxIn</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hydra.Options.html#BlockfrostOptions"><span class="hs-identifier hs-type">BlockfrostOptions</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NetworkId</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">TxIn</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">BlockfrostClientT</span></span><span> </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">UTxO</span></span><span>
</span><span id="line-423"></span><span id="queryUTxOByTxIn"><span class="annot"><span class="annottext">queryUTxOByTxIn :: BlockfrostOptions
-&gt; NetworkId -&gt; [TxIn] -&gt; BlockfrostClientT IO UTxO
</span><a href="Hydra.Chain.Blockfrost.Client.html#queryUTxOByTxIn"><span class="hs-identifier hs-var hs-var">queryUTxOByTxIn</span></a></span></span><span> </span><span class="annot"><a href="Hydra.Options.html#BlockfrostOptions"><span class="hs-identifier hs-type">BlockfrostOptions</span></a></span><span class="hs-special">{</span><span id="local-6989586621680609423"><span class="annot"><span class="annottext">Int
retryTimeout :: Int
$sel:retryTimeout:BlockfrostOptions :: BlockfrostOptions -&gt; Int
</span><a href="#local-6989586621680609423"><span class="hs-identifier hs-var hs-var">retryTimeout</span></a></span></span><span class="hs-special">}</span><span> </span><span id="local-6989586621680609425"><span class="annot"><span class="annottext">NetworkId
</span><a href="#local-6989586621680609425"><span class="hs-identifier hs-var">networkId</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-424"></span><span>  </span><span class="annot"><span class="annottext">(TxIn -&gt; BlockfrostClientT IO UTxO)
-&gt; [TxIn] -&gt; BlockfrostClientT IO UTxO
forall b (m :: * -&gt; *) (f :: * -&gt; *) a.
(Monoid b, Monad m, Foldable f) =&gt;
(a -&gt; m b) -&gt; f a -&gt; m b
</span><span class="hs-identifier hs-var">foldMapM</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TxIn</span></span><span> </span><span id="local-6989586621680609426"><span class="annot"><span class="annottext">TxId
</span><a href="#local-6989586621680609426"><span class="hs-identifier hs-var">txid</span></a></span></span><span> </span><span class="annot"><span class="annottext">TxIx
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Text -&gt; BlockfrostClientT IO UTxO
</span><a href="#local-6989586621680609427"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680609423"><span class="hs-identifier hs-var">retryTimeout</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxId -&gt; Text
forall a. SerialiseAsRawBytes a =&gt; a -&gt; Text
</span><span class="hs-identifier hs-var">serialiseToRawBytesHexText</span></span><span> </span><span class="annot"><span class="annottext">TxId
</span><a href="#local-6989586621680609426"><span class="hs-identifier hs-var">txid</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-425"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-426"></span><span>  </span><span id="local-6989586621680609427"><span class="annot"><span class="annottext">go :: Int -&gt; Text -&gt; BlockfrostClientT IO UTxO
</span><a href="#local-6989586621680609427"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span id="local-6989586621680609429"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680609429"><span class="hs-identifier hs-var">txHash</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IO UTxO -&gt; BlockfrostClientT IO UTxO
forall a. IO a -&gt; BlockfrostClientT IO a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO UTxO -&gt; BlockfrostClientT IO UTxO)
-&gt; IO UTxO -&gt; BlockfrostClientT IO UTxO
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">APIBlockfrostError -&gt; IO UTxO
forall e a. Exception e =&gt; e -&gt; IO a
forall (m :: * -&gt; *) e a. (MonadThrow m, Exception e) =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">throwIO</span></span><span> </span><span class="annot"><span class="annottext">(APIBlockfrostError -&gt; IO UTxO) -&gt; APIBlockfrostError -&gt; IO UTxO
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">BlockfrostException -&gt; APIBlockfrostError
</span><a href="Hydra.Chain.Blockfrost.Client.html#BlockfrostError"><span class="hs-identifier hs-var">BlockfrostError</span></a></span><span> </span><span class="annot"><span class="annottext">(BlockfrostException -&gt; APIBlockfrostError)
-&gt; BlockfrostException -&gt; APIBlockfrostError
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; BlockfrostException
</span><a href="Hydra.Chain.Blockfrost.Client.html#FailedUTxOForHash"><span class="hs-identifier hs-var">FailedUTxOForHash</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680609429"><span class="hs-identifier hs-var">txHash</span></a></span><span>
</span><span id="line-427"></span><span>  </span><span class="annot"><a href="#local-6989586621680609427"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621680609430"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680609430"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621680609431"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680609431"><span class="hs-identifier hs-var">txHash</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-428"></span><span>    </span><span id="local-6989586621680609432"><span class="annot"><span class="annottext">Either BlockfrostError TransactionUtxos
</span><a href="#local-6989586621680609432"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">BlockfrostClientT IO TransactionUtxos
-&gt; BlockfrostClientT IO (Either BlockfrostError TransactionUtxos)
forall e (m :: * -&gt; *) a. MonadError e m =&gt; m a -&gt; m (Either e a)
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/mtl-2.3.1/src/Control.Monad.Error.Class.html#tryError"><span class="hs-identifier hs-var">Blockfrost.tryError</span></a></span><span> </span><span class="annot"><span class="annottext">(BlockfrostClientT IO TransactionUtxos
 -&gt; BlockfrostClientT IO (Either BlockfrostError TransactionUtxos))
-&gt; BlockfrostClientT IO TransactionUtxos
-&gt; BlockfrostClientT IO (Either BlockfrostError TransactionUtxos)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TxHash -&gt; BlockfrostClientT IO TransactionUtxos
forall (m :: * -&gt; *).
MonadBlockfrost m =&gt;
TxHash -&gt; m TransactionUtxos
</span><span class="hs-identifier hs-var">Blockfrost.getTxUtxos</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; TxHash
</span><span class="hs-identifier hs-var">Blockfrost.TxHash</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680609431"><span class="hs-identifier hs-var">txHash</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-429"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Either BlockfrostError TransactionUtxos
</span><a href="#local-6989586621680609432"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-430"></span><span>      </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621680609435"><span class="annot"><span class="annottext">BlockfrostError
</span><a href="#local-6989586621680609435"><span class="hs-identifier hs-var">_e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IO () -&gt; BlockfrostClientT IO ()
forall a. IO a -&gt; BlockfrostClientT IO a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DiffTime -&gt; IO ()
forall (m :: * -&gt; *). MonadDelay m =&gt; DiffTime -&gt; m ()
</span><span class="hs-identifier hs-var">threadDelay</span></span><span> </span><span class="annot"><span class="annottext">DiffTime
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">BlockfrostClientT IO ()
-&gt; BlockfrostClientT IO UTxO -&gt; BlockfrostClientT IO UTxO
forall a b.
BlockfrostClientT IO a
-&gt; BlockfrostClientT IO b -&gt; BlockfrostClientT IO b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%3E%3E"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Text -&gt; BlockfrostClientT IO UTxO
</span><a href="#local-6989586621680609427"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680609430"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Num.html#-"><span class="hs-glyph hs-var">-</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680609431"><span class="hs-identifier hs-var">txHash</span></a></span><span>
</span><span id="line-431"></span><span>      </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Blockfrost.TransactionUtxos</span></span><span class="hs-special">{</span><span id="local-6989586621680609438"><span class="annot"><span class="annottext">[UtxoInput]
_transactionUtxosInputs :: [UtxoInput]
$sel:_transactionUtxosInputs:TransactionUtxos :: TransactionUtxos -&gt; [UtxoInput]
</span><a href="#local-6989586621680609438"><span class="hs-identifier hs-var hs-var">_transactionUtxosInputs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680609440"><span class="annot"><span class="annottext">[UtxoOutput]
_transactionUtxosOutputs :: [UtxoOutput]
$sel:_transactionUtxosOutputs:TransactionUtxos :: TransactionUtxos -&gt; [UtxoOutput]
</span><a href="#local-6989586621680609440"><span class="hs-identifier hs-var hs-var">_transactionUtxosOutputs</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-432"></span><span>        </span><span class="annot"><span class="annottext">(UtxoOutput -&gt; BlockfrostClientT IO UTxO)
-&gt; [UtxoOutput] -&gt; BlockfrostClientT IO UTxO
forall b (m :: * -&gt; *) (f :: * -&gt; *) a.
(Monoid b, Monad m, Foldable f) =&gt;
(a -&gt; m b) -&gt; f a -&gt; m b
</span><span class="hs-identifier hs-var">foldMapM</span></span><span>
</span><span id="line-433"></span><span>          </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="hs-identifier hs-type">Blockfrost.UtxoOutput</span></span><span class="hs-special">{</span><span id="local-6989586621680609443"><span class="annot"><span class="annottext">Integer
_utxoOutputOutputIndex :: Integer
$sel:_utxoOutputOutputIndex:UtxoOutput :: UtxoOutput -&gt; Integer
</span><a href="#local-6989586621680609443"><span class="hs-identifier hs-var hs-var">_utxoOutputOutputIndex</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680609445"><span class="annot"><span class="annottext">Address
_utxoOutputAddress :: Address
$sel:_utxoOutputAddress:UtxoOutput :: UtxoOutput -&gt; Address
</span><a href="#local-6989586621680609445"><span class="hs-identifier hs-var hs-var">_utxoOutputAddress</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680609447"><span class="annot"><span class="annottext">[Amount]
_utxoOutputAmount :: [Amount]
$sel:_utxoOutputAmount:UtxoOutput :: UtxoOutput -&gt; [Amount]
</span><a href="#local-6989586621680609447"><span class="hs-identifier hs-var hs-var">_utxoOutputAmount</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680609449"><span class="annot"><span class="annottext">Maybe DatumHash
_utxoOutputDataHash :: Maybe DatumHash
$sel:_utxoOutputDataHash:UtxoOutput :: UtxoOutput -&gt; Maybe DatumHash
</span><a href="#local-6989586621680609449"><span class="hs-identifier hs-var hs-var">_utxoOutputDataHash</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680609451"><span class="annot"><span class="annottext">Maybe InlineDatum
_utxoOutputInlineDatum :: Maybe InlineDatum
$sel:_utxoOutputInlineDatum:UtxoOutput :: UtxoOutput -&gt; Maybe InlineDatum
</span><a href="#local-6989586621680609451"><span class="hs-identifier hs-var hs-var">_utxoOutputInlineDatum</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680609453"><span class="annot"><span class="annottext">Maybe ScriptHash
_utxoOutputReferenceScriptHash :: Maybe ScriptHash
$sel:_utxoOutputReferenceScriptHash:UtxoOutput :: UtxoOutput -&gt; Maybe ScriptHash
</span><a href="#local-6989586621680609453"><span class="hs-identifier hs-var hs-var">_utxoOutputReferenceScriptHash</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-434"></span><span>              </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680609455"><span class="annot"><span class="annottext">txIn :: TxIn
</span><a href="#local-6989586621680609455"><span class="hs-identifier hs-var hs-var">txIn</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Integer -&gt; TxIn
</span><a href="Hydra.Chain.Blockfrost.Client.html#toCardanoTxIn"><span class="hs-identifier hs-var">toCardanoTxIn</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680609431"><span class="hs-identifier hs-var">txHash</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621680609443"><span class="hs-identifier hs-var">_utxoOutputOutputIndex</span></a></span><span>
</span><span id="line-435"></span><span>               </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">NetworkId
-&gt; TxIn
-&gt; Address
-&gt; Maybe ScriptHash
-&gt; Maybe DatumHash
-&gt; [Amount]
-&gt; Maybe InlineDatum
-&gt; BlockfrostClientT IO UTxO
</span><a href="Hydra.Chain.Blockfrost.Client.html#toCardanoUTxO"><span class="hs-identifier hs-var">toCardanoUTxO</span></a></span><span> </span><span class="annot"><span class="annottext">NetworkId
</span><a href="#local-6989586621680609425"><span class="hs-identifier hs-var">networkId</span></a></span><span> </span><span class="annot"><span class="annottext">TxIn
</span><a href="#local-6989586621680609455"><span class="hs-identifier hs-var">txIn</span></a></span><span> </span><span class="annot"><span class="annottext">Address
</span><a href="#local-6989586621680609445"><span class="hs-identifier hs-var">_utxoOutputAddress</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ScriptHash
</span><a href="#local-6989586621680609453"><span class="hs-identifier hs-var">_utxoOutputReferenceScriptHash</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe DatumHash
</span><a href="#local-6989586621680609449"><span class="hs-identifier hs-var">_utxoOutputDataHash</span></a></span><span> </span><span class="annot"><span class="annottext">[Amount]
</span><a href="#local-6989586621680609447"><span class="hs-identifier hs-var">_utxoOutputAmount</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe InlineDatum
</span><a href="#local-6989586621680609451"><span class="hs-identifier hs-var">_utxoOutputInlineDatum</span></a></span><span>
</span><span id="line-436"></span><span>          </span><span class="hs-special">)</span><span>
</span><span id="line-437"></span><span>          </span><span class="annot"><span class="annottext">[UtxoOutput]
</span><a href="#local-6989586621680609440"><span class="hs-identifier hs-var">_transactionUtxosOutputs</span></a></span><span>
</span><span id="line-438"></span><span>
</span><span id="line-439"></span><span class="annot"><a href="Hydra.Chain.Blockfrost.Client.html#queryScript"><span class="hs-identifier hs-type">queryScript</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/text-2.0.2/src/Data.Text.Internal.html#Text"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">BlockfrostClientT</span></span><span> </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PlutusScript</span></span><span class="hs-special">)</span><span>
</span><span id="line-440"></span><span id="queryScript"><span class="annot"><span class="annottext">queryScript :: Text -&gt; BlockfrostClientT IO (Maybe PlutusScript)
</span><a href="Hydra.Chain.Blockfrost.Client.html#queryScript"><span class="hs-identifier hs-var hs-var">queryScript</span></a></span></span><span> </span><span id="local-6989586621680609456"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680609456"><span class="hs-identifier hs-var">scriptHashTxt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-441"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Blockfrost.ScriptCBOR</span></span><span class="hs-special">{</span><span id="local-6989586621680609458"><span class="annot"><span class="annottext">Maybe Text
_scriptCborCbor :: Maybe Text
$sel:_scriptCborCbor:ScriptCBOR :: ScriptCBOR -&gt; Maybe Text
</span><a href="#local-6989586621680609458"><span class="hs-identifier hs-var hs-var">_scriptCborCbor</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ScriptHash -&gt; BlockfrostClientT IO ScriptCBOR
forall (m :: * -&gt; *).
MonadBlockfrost m =&gt;
ScriptHash -&gt; m ScriptCBOR
</span><span class="hs-identifier hs-var">Blockfrost.getScriptCBOR</span></span><span> </span><span class="annot"><span class="annottext">(ScriptHash -&gt; BlockfrostClientT IO ScriptCBOR)
-&gt; ScriptHash -&gt; BlockfrostClientT IO ScriptCBOR
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; ScriptHash
</span><span class="hs-identifier hs-var">Blockfrost.ScriptHash</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680609456"><span class="hs-identifier hs-var">scriptHashTxt</span></a></span><span>
</span><span id="line-442"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe Text
</span><a href="#local-6989586621680609458"><span class="hs-identifier hs-var">_scriptCborCbor</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-443"></span><span>    </span><span class="annot"><span class="annottext">Maybe Text
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe PlutusScript -&gt; BlockfrostClientT IO (Maybe PlutusScript)
forall a. a -&gt; BlockfrostClientT IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe PlutusScript
forall a. Maybe a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-444"></span><span>    </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680609462"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680609462"><span class="hs-identifier hs-var">fullScriptCBOR</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-445"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either String ByteString
forall (f :: * -&gt; *). MonadFail f =&gt; Text -&gt; f ByteString
</span><span class="hs-identifier hs-var">decodeBase16</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680609462"><span class="hs-identifier hs-var">fullScriptCBOR</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Either.html#Either"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/bytestring-0.11.5.4/src/Data.ByteString.Internal.Type.html#ByteString"><span class="hs-identifier hs-type">ByteString</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-446"></span><span>        </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe PlutusScript -&gt; BlockfrostClientT IO (Maybe PlutusScript)
forall a. a -&gt; BlockfrostClientT IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe PlutusScript
forall a. Maybe a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-447"></span><span>        </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621680609464"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621680609464"><span class="hs-identifier hs-var">bytes</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-448"></span><span>          </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">AsType PlutusScript
-&gt; ByteString -&gt; Either DecoderError PlutusScript
forall a.
SerialiseAsCBOR a =&gt;
AsType a -&gt; ByteString -&gt; Either DecoderError a
</span><span class="hs-identifier hs-var">deserialiseFromCBOR</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy PlutusScript -&gt; AsType PlutusScript
forall t. HasTypeProxy t =&gt; Proxy t -&gt; AsType t
</span><span class="hs-identifier hs-var">proxyToAsType</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall t. Proxy t
forall {k} (t :: k). Proxy t
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Proxy.html#Proxy"><span class="hs-identifier hs-var">Proxy</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">PlutusScript</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621680609464"><span class="hs-identifier hs-var">bytes</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-449"></span><span>            </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span class="annot"><span class="annottext">DecoderError
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe PlutusScript -&gt; BlockfrostClientT IO (Maybe PlutusScript)
forall a. a -&gt; BlockfrostClientT IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe PlutusScript
forall a. Maybe a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-450"></span><span>            </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621680609465"><span class="annot"><span class="annottext">PlutusScript
</span><a href="#local-6989586621680609465"><span class="hs-identifier hs-var">plutusScript</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe PlutusScript -&gt; BlockfrostClientT IO (Maybe PlutusScript)
forall a. a -&gt; BlockfrostClientT IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe PlutusScript -&gt; BlockfrostClientT IO (Maybe PlutusScript))
-&gt; Maybe PlutusScript -&gt; BlockfrostClientT IO (Maybe PlutusScript)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PlutusScript -&gt; Maybe PlutusScript
forall a. a -&gt; Maybe a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">PlutusScript
</span><a href="#local-6989586621680609465"><span class="hs-identifier hs-var">plutusScript</span></a></span><span>
</span><span id="line-451"></span><span>
</span><span id="line-452"></span><span class="hs-comment">-- | Query the Blockfrost API for address UTxO and convert to cardano 'UTxO'.</span><span>
</span><span id="line-453"></span><span class="hs-comment">-- NOTE: We accept the address list here to be compatible with cardano-api but in</span><span>
</span><span id="line-454"></span><span class="hs-comment">-- fact this is a single address query always.</span><span>
</span><span id="line-455"></span><span class="annot"><a href="Hydra.Chain.Blockfrost.Client.html#queryUTxO"><span class="hs-identifier hs-type">queryUTxO</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hydra.Options.html#BlockfrostOptions"><span class="hs-identifier hs-type">BlockfrostOptions</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NetworkId</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Address</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ShelleyAddr</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">BlockfrostClientT</span></span><span> </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">UTxO</span></span><span>
</span><span id="line-456"></span><span id="queryUTxO"><span class="annot"><span class="annottext">queryUTxO :: BlockfrostOptions
-&gt; NetworkId -&gt; [Address ShelleyAddr] -&gt; BlockfrostClientT IO UTxO
</span><a href="Hydra.Chain.Blockfrost.Client.html#queryUTxO"><span class="hs-identifier hs-var hs-var">queryUTxO</span></a></span></span><span> </span><span class="annot"><a href="Hydra.Options.html#BlockfrostOptions"><span class="hs-identifier hs-type">BlockfrostOptions</span></a></span><span class="hs-special">{</span><span id="local-6989586621680609467"><span class="annot"><span class="annottext">Int
queryTimeout :: Int
$sel:queryTimeout:BlockfrostOptions :: BlockfrostOptions -&gt; Int
</span><a href="#local-6989586621680609467"><span class="hs-identifier hs-var hs-var">queryTimeout</span></a></span></span><span class="hs-special">}</span><span> </span><span id="local-6989586621680609469"><span class="annot"><span class="annottext">NetworkId
</span><a href="#local-6989586621680609469"><span class="hs-identifier hs-var">networkId</span></a></span></span><span> </span><span id="local-6989586621680609470"><span class="annot"><span class="annottext">[Address ShelleyAddr]
</span><a href="#local-6989586621680609470"><span class="hs-identifier hs-var">addresses</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-457"></span><span>  </span><span class="hs-comment">-- NOTE: We can't know at the time of doing a query if the information on specific address UTxO is _fresh_ or not</span><span>
</span><span id="line-458"></span><span>  </span><span class="hs-comment">-- so we try to wait for sufficient period of time and hope for best.</span><span>
</span><span id="line-459"></span><span>  </span><span class="annot"><span class="annottext">IO () -&gt; BlockfrostClientT IO ()
forall a. IO a -&gt; BlockfrostClientT IO a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; BlockfrostClientT IO ())
-&gt; IO () -&gt; BlockfrostClientT IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">DiffTime -&gt; IO ()
forall (m :: * -&gt; *). MonadDelay m =&gt; DiffTime -&gt; m ()
</span><span class="hs-identifier hs-var">threadDelay</span></span><span> </span><span class="annot"><span class="annottext">(DiffTime -&gt; IO ()) -&gt; DiffTime -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; DiffTime
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680609467"><span class="hs-identifier hs-var">queryTimeout</span></a></span><span>
</span><span id="line-460"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680609471"><span class="annot"><span class="annottext">address :: Address ShelleyAddr
</span><a href="#local-6989586621680609471"><span class="hs-identifier hs-var hs-var">address</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Address ShelleyAddr] -&gt; Address ShelleyAddr
forall a. HasCallStack =&gt; [a] -&gt; a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.List.html#head"><span class="hs-identifier hs-var">List.head</span></a></span><span> </span><span class="annot"><span class="annottext">[Address ShelleyAddr]
</span><a href="#local-6989586621680609470"><span class="hs-identifier hs-var">addresses</span></a></span><span>
</span><span id="line-461"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680609473"><span class="annot"><span class="annottext">address' :: Address
</span><a href="#local-6989586621680609473"><span class="hs-identifier hs-var hs-var">address'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Address
</span><span class="hs-identifier hs-var">Blockfrost.Address</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Address)
-&gt; (Address ShelleyAddr -&gt; Text) -&gt; Address ShelleyAddr -&gt; Address
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Address ShelleyAddr -&gt; Text
forall addr. SerialiseAddress addr =&gt; addr -&gt; Text
</span><span class="hs-identifier hs-var">serialiseAddress</span></span><span> </span><span class="annot"><span class="annottext">(Address ShelleyAddr -&gt; Address) -&gt; Address ShelleyAddr -&gt; Address
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Address ShelleyAddr] -&gt; Address ShelleyAddr
forall a. HasCallStack =&gt; [a] -&gt; a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.List.html#head"><span class="hs-identifier hs-var">List.head</span></a></span><span> </span><span class="annot"><span class="annottext">[Address ShelleyAddr]
</span><a href="#local-6989586621680609470"><span class="hs-identifier hs-var">addresses</span></a></span><span>
</span><span id="line-462"></span><span>  </span><span id="local-6989586621680609476"><span class="annot"><span class="annottext">[AddressUtxo]
</span><a href="#local-6989586621680609476"><span class="hs-identifier hs-var">utxoWithAddresses</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-463"></span><span>    </span><span class="annot"><span class="annottext">Address -&gt; BlockfrostClientT IO [AddressUtxo]
forall (m :: * -&gt; *).
MonadBlockfrost m =&gt;
Address -&gt; m [AddressUtxo]
</span><span class="hs-identifier hs-var">Blockfrost.getAddressUtxos</span></span><span> </span><span class="annot"><span class="annottext">Address
</span><a href="#local-6989586621680609473"><span class="hs-identifier hs-var">address'</span></a></span><span>
</span><span id="line-464"></span><span>      </span><span class="annot"><span class="annottext">BlockfrostClientT IO [AddressUtxo]
-&gt; (BlockfrostError -&gt; BlockfrostClientT IO [AddressUtxo])
-&gt; BlockfrostClientT IO [AddressUtxo]
forall a.
BlockfrostClientT IO a
-&gt; (BlockfrostError -&gt; BlockfrostClientT IO a)
-&gt; BlockfrostClientT IO a
forall e (m :: * -&gt; *) a.
MonadError e m =&gt;
m a -&gt; (e -&gt; m a) -&gt; m a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/mtl-2.3.1/src/Control.Monad.Error.Class.html#catchError"><span class="hs-operator hs-var">`catchError`</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-465"></span><span>        </span><span class="annot"><span class="annottext">BlockfrostError
</span><span class="hs-identifier hs-var">Blockfrost.BlockfrostNotFound</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-466"></span><span>          </span><span class="annot"><span class="annottext">IO [AddressUtxo] -&gt; BlockfrostClientT IO [AddressUtxo]
forall a. IO a -&gt; BlockfrostClientT IO a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">APIBlockfrostError -&gt; IO [AddressUtxo]
forall e a. Exception e =&gt; e -&gt; IO a
forall (m :: * -&gt; *) e a. (MonadThrow m, Exception e) =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">throwIO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BlockfrostException -&gt; APIBlockfrostError
</span><a href="Hydra.Chain.Blockfrost.Client.html#BlockfrostError"><span class="hs-identifier hs-var">BlockfrostError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Address ShelleyAddr -&gt; BlockfrostException
</span><a href="Hydra.Chain.Blockfrost.Client.html#NoUTxOFound"><span class="hs-identifier hs-var">NoUTxOFound</span></a></span><span> </span><span class="annot"><span class="annottext">Address ShelleyAddr
</span><a href="#local-6989586621680609471"><span class="hs-identifier hs-var">address</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-467"></span><span>        </span><span id="local-6989586621680609480"><span class="annot"><span class="annottext">BlockfrostError
</span><a href="#local-6989586621680609480"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-468"></span><span>          </span><span class="annot"><span class="annottext">BlockfrostError -&gt; BlockfrostClientT IO [AddressUtxo]
forall a. BlockfrostError -&gt; BlockfrostClientT IO a
forall e (m :: * -&gt; *) a. MonadError e m =&gt; e -&gt; m a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/mtl-2.3.1/src/Control.Monad.Error.Class.html#throwError"><span class="hs-identifier hs-var">throwError</span></a></span><span> </span><span class="annot"><span class="annottext">BlockfrostError
</span><a href="#local-6989586621680609480"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-469"></span><span>
</span><span id="line-470"></span><span>  </span><span class="annot"><span class="annottext">(AddressUtxo -&gt; BlockfrostClientT IO UTxO)
-&gt; [AddressUtxo] -&gt; BlockfrostClientT IO UTxO
forall b (m :: * -&gt; *) (f :: * -&gt; *) a.
(Monoid b, Monad m, Foldable f) =&gt;
(a -&gt; m b) -&gt; f a -&gt; m b
</span><span class="hs-identifier hs-var">foldMapM</span></span><span>
</span><span id="line-471"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="hs-identifier hs-type">Blockfrost.AddressUtxo</span></span><span>
</span><span id="line-472"></span><span>        </span><span class="hs-special">{</span><span> </span><span id="local-6989586621680609483"><span class="annot"><span class="annottext">Address
_addressUtxoAddress :: Address
$sel:_addressUtxoAddress:AddressUtxo :: AddressUtxo -&gt; Address
</span><a href="#local-6989586621680609483"><span class="hs-identifier hs-var hs-var">Blockfrost._addressUtxoAddress</span></a></span></span><span>
</span><span id="line-473"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">$sel:_addressUtxoTxHash:AddressUtxo :: AddressUtxo -&gt; TxHash
</span><span class="hs-identifier hs-var">Blockfrost._addressUtxoTxHash</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Blockfrost.TxHash</span></span><span class="hs-special">{</span><span id="local-6989586621680609486"><span class="annot"><span class="annottext">Text
unTxHash :: Text
$sel:unTxHash:TxHash :: TxHash -&gt; Text
</span><a href="#local-6989586621680609486"><span class="hs-identifier hs-var hs-var">unTxHash</span></a></span></span><span class="hs-special">}</span><span>
</span><span id="line-474"></span><span>        </span><span class="hs-special">,</span><span> </span><span id="local-6989586621680609488"><span class="annot"><span class="annottext">Integer
_addressUtxoOutputIndex :: Integer
$sel:_addressUtxoOutputIndex:AddressUtxo :: AddressUtxo -&gt; Integer
</span><a href="#local-6989586621680609488"><span class="hs-identifier hs-var hs-var">Blockfrost._addressUtxoOutputIndex</span></a></span></span><span>
</span><span id="line-475"></span><span>        </span><span class="hs-special">,</span><span> </span><span id="local-6989586621680609490"><span class="annot"><span class="annottext">[Amount]
_addressUtxoAmount :: [Amount]
$sel:_addressUtxoAmount:AddressUtxo :: AddressUtxo -&gt; [Amount]
</span><a href="#local-6989586621680609490"><span class="hs-identifier hs-var hs-var">Blockfrost._addressUtxoAmount</span></a></span></span><span>
</span><span id="line-476"></span><span>        </span><span class="hs-special">,</span><span> </span><span id="local-6989586621680609492"><span class="annot"><span class="annottext">BlockHash
_addressUtxoBlock :: BlockHash
$sel:_addressUtxoBlock:AddressUtxo :: AddressUtxo -&gt; BlockHash
</span><a href="#local-6989586621680609492"><span class="hs-identifier hs-var hs-var">Blockfrost._addressUtxoBlock</span></a></span></span><span>
</span><span id="line-477"></span><span>        </span><span class="hs-special">,</span><span> </span><span id="local-6989586621680609494"><span class="annot"><span class="annottext">Maybe DatumHash
_addressUtxoDataHash :: Maybe DatumHash
$sel:_addressUtxoDataHash:AddressUtxo :: AddressUtxo -&gt; Maybe DatumHash
</span><a href="#local-6989586621680609494"><span class="hs-identifier hs-var hs-var">Blockfrost._addressUtxoDataHash</span></a></span></span><span>
</span><span id="line-478"></span><span>        </span><span class="hs-special">,</span><span> </span><span id="local-6989586621680609496"><span class="annot"><span class="annottext">Maybe InlineDatum
_addressUtxoInlineDatum :: Maybe InlineDatum
$sel:_addressUtxoInlineDatum:AddressUtxo :: AddressUtxo -&gt; Maybe InlineDatum
</span><a href="#local-6989586621680609496"><span class="hs-identifier hs-var hs-var">Blockfrost._addressUtxoInlineDatum</span></a></span></span><span>
</span><span id="line-479"></span><span>        </span><span class="hs-special">,</span><span> </span><span id="local-6989586621680609498"><span class="annot"><span class="annottext">Maybe ScriptHash
_addressUtxoReferenceScriptHash :: Maybe ScriptHash
$sel:_addressUtxoReferenceScriptHash:AddressUtxo :: AddressUtxo -&gt; Maybe ScriptHash
</span><a href="#local-6989586621680609498"><span class="hs-identifier hs-var hs-var">Blockfrost._addressUtxoReferenceScriptHash</span></a></span></span><span>
</span><span id="line-480"></span><span>        </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-481"></span><span>          </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680609500"><span class="annot"><span class="annottext">txin :: TxIn
</span><a href="#local-6989586621680609500"><span class="hs-identifier hs-var hs-var">txin</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Integer -&gt; TxIn
</span><a href="Hydra.Chain.Blockfrost.Client.html#toCardanoTxIn"><span class="hs-identifier hs-var">toCardanoTxIn</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680609486"><span class="hs-identifier hs-var">unTxHash</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621680609488"><span class="hs-identifier hs-var">_addressUtxoOutputIndex</span></a></span><span>
</span><span id="line-482"></span><span>           </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">NetworkId
-&gt; TxIn
-&gt; Address
-&gt; Maybe ScriptHash
-&gt; Maybe DatumHash
-&gt; [Amount]
-&gt; Maybe InlineDatum
-&gt; BlockfrostClientT IO UTxO
</span><a href="Hydra.Chain.Blockfrost.Client.html#toCardanoUTxO"><span class="hs-identifier hs-var">toCardanoUTxO</span></a></span><span> </span><span class="annot"><span class="annottext">NetworkId
</span><a href="#local-6989586621680609469"><span class="hs-identifier hs-var">networkId</span></a></span><span> </span><span class="annot"><span class="annottext">TxIn
</span><a href="#local-6989586621680609500"><span class="hs-identifier hs-var">txin</span></a></span><span> </span><span class="annot"><span class="annottext">Address
</span><a href="#local-6989586621680609483"><span class="hs-identifier hs-var">_addressUtxoAddress</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ScriptHash
</span><a href="#local-6989586621680609498"><span class="hs-identifier hs-var">_addressUtxoReferenceScriptHash</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe DatumHash
</span><a href="#local-6989586621680609494"><span class="hs-identifier hs-var">_addressUtxoDataHash</span></a></span><span> </span><span class="annot"><span class="annottext">[Amount]
</span><a href="#local-6989586621680609490"><span class="hs-identifier hs-var">_addressUtxoAmount</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe InlineDatum
</span><a href="#local-6989586621680609496"><span class="hs-identifier hs-var">_addressUtxoInlineDatum</span></a></span><span>
</span><span id="line-483"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-484"></span><span>    </span><span class="annot"><span class="annottext">[AddressUtxo]
</span><a href="#local-6989586621680609476"><span class="hs-identifier hs-var">utxoWithAddresses</span></a></span><span>
</span><span id="line-485"></span><span>
</span><span id="line-486"></span><span class="annot"><a href="Hydra.Chain.Blockfrost.Client.html#queryUTxOFor"><span class="hs-identifier hs-type">queryUTxOFor</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hydra.Options.html#BlockfrostOptions"><span class="hs-identifier hs-type">BlockfrostOptions</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">VerificationKey</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PaymentKey</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">BlockfrostClientT</span></span><span> </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">UTxO</span></span><span>
</span><span id="line-487"></span><span id="queryUTxOFor"><span class="annot"><span class="annottext">queryUTxOFor :: BlockfrostOptions
-&gt; VerificationKey PaymentKey -&gt; BlockfrostClientT IO UTxO
</span><a href="Hydra.Chain.Blockfrost.Client.html#queryUTxOFor"><span class="hs-identifier hs-var hs-var">queryUTxOFor</span></a></span></span><span> </span><span id="local-6989586621680609502"><span class="annot"><span class="annottext">BlockfrostOptions
</span><a href="#local-6989586621680609502"><span class="hs-identifier hs-var">cfg</span></a></span></span><span> </span><span id="local-6989586621680609503"><span class="annot"><span class="annottext">VerificationKey PaymentKey
</span><a href="#local-6989586621680609503"><span class="hs-identifier hs-var">vk</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-488"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Blockfrost.Genesis</span></span><span>
</span><span id="line-489"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">$sel:_genesisNetworkMagic:Genesis :: Genesis -&gt; Integer
</span><span class="hs-identifier hs-var">_genesisNetworkMagic</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680609504"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621680609504"><span class="hs-identifier hs-var">networkMagic</span></a></span></span><span>
</span><span id="line-490"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-491"></span><span>    </span><span class="annot"><span class="annottext">BlockfrostClientT IO Genesis
</span><a href="Hydra.Chain.Blockfrost.Client.html#queryGenesisParameters"><span class="hs-identifier hs-var">queryGenesisParameters</span></a></span><span>
</span><span id="line-492"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680609505"><span class="annot"><span class="annottext">networkId :: NetworkId
</span><a href="#local-6989586621680609505"><span class="hs-identifier hs-var hs-var">networkId</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; NetworkId
</span><a href="Hydra.Chain.Blockfrost.Client.html#toCardanoNetworkId"><span class="hs-identifier hs-var">toCardanoNetworkId</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621680609504"><span class="hs-identifier hs-var">networkMagic</span></a></span><span>
</span><span id="line-493"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">NetworkId -&gt; VerificationKey PaymentKey -&gt; AddressInEra
forall era.
IsShelleyBasedEra era =&gt;
NetworkId -&gt; VerificationKey PaymentKey -&gt; AddressInEra era
</span><span class="hs-identifier hs-var">mkVkAddress</span></span><span> </span><span class="annot"><span class="annottext">NetworkId
</span><a href="#local-6989586621680609505"><span class="hs-identifier hs-var">networkId</span></a></span><span> </span><span class="annot"><span class="annottext">VerificationKey PaymentKey
</span><a href="#local-6989586621680609503"><span class="hs-identifier hs-var">vk</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-494"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">ShelleyAddressInEra</span></span><span> </span><span id="local-6989586621680609507"><span class="annot"><span class="annottext">Address ShelleyAddr
</span><a href="#local-6989586621680609507"><span class="hs-identifier hs-var">addr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-495"></span><span>      </span><span class="annot"><span class="annottext">BlockfrostOptions
-&gt; NetworkId -&gt; [Address ShelleyAddr] -&gt; BlockfrostClientT IO UTxO
</span><a href="Hydra.Chain.Blockfrost.Client.html#queryUTxO"><span class="hs-identifier hs-var">queryUTxO</span></a></span><span> </span><span class="annot"><span class="annottext">BlockfrostOptions
</span><a href="#local-6989586621680609502"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">NetworkId
</span><a href="#local-6989586621680609505"><span class="hs-identifier hs-var">networkId</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Address ShelleyAddr
</span><a href="#local-6989586621680609507"><span class="hs-identifier hs-var">addr</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-496"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">ByronAddressInEra</span></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-497"></span><span>      </span><span class="annot"><span class="annottext">IO UTxO -&gt; BlockfrostClientT IO UTxO
forall a. IO a -&gt; BlockfrostClientT IO a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO UTxO -&gt; BlockfrostClientT IO UTxO)
-&gt; IO UTxO -&gt; BlockfrostClientT IO UTxO
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">APIBlockfrostError -&gt; IO UTxO
forall e a. Exception e =&gt; e -&gt; IO a
forall (m :: * -&gt; *) e a. (MonadThrow m, Exception e) =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">throwIO</span></span><span> </span><span class="annot"><span class="annottext">(APIBlockfrostError -&gt; IO UTxO) -&gt; APIBlockfrostError -&gt; IO UTxO
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">BlockfrostException -&gt; APIBlockfrostError
</span><a href="Hydra.Chain.Blockfrost.Client.html#BlockfrostError"><span class="hs-identifier hs-var">BlockfrostError</span></a></span><span> </span><span class="annot"><span class="annottext">BlockfrostException
</span><a href="Hydra.Chain.Blockfrost.Client.html#ByronAddressNotSupported"><span class="hs-identifier hs-var">ByronAddressNotSupported</span></a></span><span>
</span><span id="line-498"></span><span>
</span><span id="line-499"></span><span class="annot"><span class="hs-comment">-- | Query the Blockfrost API for 'Genesis'</span></span><span>
</span><span id="line-500"></span><span class="annot"><a href="Hydra.Chain.Blockfrost.Client.html#queryGenesisParameters"><span class="hs-identifier hs-type">queryGenesisParameters</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">BlockfrostClientT</span></span><span> </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Blockfrost.Genesis</span></span><span>
</span><span id="line-501"></span><span id="queryGenesisParameters"><span class="annot"><span class="annottext">queryGenesisParameters :: BlockfrostClientT IO Genesis
</span><a href="Hydra.Chain.Blockfrost.Client.html#queryGenesisParameters"><span class="hs-identifier hs-var hs-var">queryGenesisParameters</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BlockfrostClientT IO Genesis
forall (m :: * -&gt; *). MonadBlockfrost m =&gt; m Genesis
</span><span class="hs-identifier hs-var">Blockfrost.getLedgerGenesis</span></span><span>
</span><span id="line-502"></span><span>
</span><span id="line-503"></span><span class="annot"><a href="Hydra.Chain.Blockfrost.Client.html#querySystemStart"><span class="hs-identifier hs-type">querySystemStart</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">BlockfrostClientT</span></span><span> </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">SystemStart</span></span><span>
</span><span id="line-504"></span><span id="querySystemStart"><span class="annot"><span class="annottext">querySystemStart :: BlockfrostClientT IO SystemStart
</span><a href="Hydra.Chain.Blockfrost.Client.html#querySystemStart"><span class="hs-identifier hs-var hs-var">querySystemStart</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-505"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Blockfrost.Genesis</span></span><span class="hs-special">{</span><span id="local-6989586621680609510"><span class="annot"><span class="annottext">NominalDiffTime
$sel:_genesisSystemStart:Genesis :: Genesis -&gt; NominalDiffTime
_genesisSystemStart :: NominalDiffTime
</span><span class="hs-identifier hs-var hs-var">_genesisSystemStart</span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">BlockfrostClientT IO Genesis
</span><a href="Hydra.Chain.Blockfrost.Client.html#queryGenesisParameters"><span class="hs-identifier hs-var">queryGenesisParameters</span></a></span><span>
</span><span id="line-506"></span><span>  </span><span class="annot"><span class="annottext">SystemStart -&gt; BlockfrostClientT IO SystemStart
forall a. a -&gt; BlockfrostClientT IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(SystemStart -&gt; BlockfrostClientT IO SystemStart)
-&gt; SystemStart -&gt; BlockfrostClientT IO SystemStart
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">UTCTime -&gt; SystemStart
</span><span class="hs-identifier hs-var">SystemStart</span></span><span> </span><span class="annot"><span class="annottext">(UTCTime -&gt; SystemStart) -&gt; UTCTime -&gt; SystemStart
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">NominalDiffTime -&gt; UTCTime
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/time-1.12.2/src/Data.Time.Clock.POSIX.html#posixSecondsToUTCTime"><span class="hs-identifier hs-var">posixSecondsToUTCTime</span></a></span><span> </span><span class="annot"><span class="annottext">NominalDiffTime
</span><a href="#local-6989586621680609510"><span class="hs-identifier hs-var">_genesisSystemStart</span></a></span><span>
</span><span id="line-507"></span><span>
</span><span id="line-508"></span><span class="annot"><span class="hs-comment">-- | Query the Blockfrost API for 'Genesis' and convert to cardano 'ChainPoint'.</span></span><span>
</span><span id="line-509"></span><span class="annot"><a href="Hydra.Chain.Blockfrost.Client.html#queryTip"><span class="hs-identifier hs-type">queryTip</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">BlockfrostClientT</span></span><span> </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ChainPoint</span></span><span>
</span><span id="line-510"></span><span id="queryTip"><span class="annot"><span class="annottext">queryTip :: BlockfrostClientT IO ChainPoint
</span><a href="Hydra.Chain.Blockfrost.Client.html#queryTip"><span class="hs-identifier hs-var hs-var">queryTip</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-511"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Blockfrost.Block</span></span><span>
</span><span id="line-512"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="local-6989586621680609515"><span class="annot"><span class="annottext">Maybe Integer
_blockHeight :: Maybe Integer
$sel:_blockHeight:Block :: Block -&gt; Maybe Integer
</span><a href="#local-6989586621680609515"><span class="hs-identifier hs-var hs-var">_blockHeight</span></a></span></span><span>
</span><span id="line-513"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621680609517"><span class="annot"><span class="annottext">BlockHash
_blockHash :: BlockHash
$sel:_blockHash:Block :: Block -&gt; BlockHash
</span><a href="#local-6989586621680609517"><span class="hs-identifier hs-var hs-var">_blockHash</span></a></span></span><span>
</span><span id="line-514"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621680609519"><span class="annot"><span class="annottext">Maybe Slot
_blockSlot :: Maybe Slot
$sel:_blockSlot:Block :: Block -&gt; Maybe Slot
</span><a href="#local-6989586621680609519"><span class="hs-identifier hs-var hs-var">_blockSlot</span></a></span></span><span>
</span><span id="line-515"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-516"></span><span>    </span><span class="annot"><span class="annottext">BlockfrostClientT IO Block
forall (m :: * -&gt; *). MonadBlockfrost m =&gt; m Block
</span><span class="hs-identifier hs-var">Blockfrost.getLatestBlock</span></span><span>
</span><span id="line-517"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680609522"><span class="annot"><span class="annottext">slotAndBlockNumber :: Maybe (Slot, Integer)
</span><a href="#local-6989586621680609522"><span class="hs-identifier hs-var hs-var">slotAndBlockNumber</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-518"></span><span>        </span><span id="local-6989586621680609523"><span class="annot"><span class="annottext">Slot
</span><a href="#local-6989586621680609523"><span class="hs-identifier hs-var">blockSlot</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe Slot
</span><a href="#local-6989586621680609519"><span class="hs-identifier hs-var">_blockSlot</span></a></span><span>
</span><span id="line-519"></span><span>        </span><span id="local-6989586621680609524"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621680609524"><span class="hs-identifier hs-var">blockNumber</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe Integer
</span><a href="#local-6989586621680609515"><span class="hs-identifier hs-var">_blockHeight</span></a></span><span>
</span><span id="line-520"></span><span>        </span><span class="annot"><span class="annottext">(Slot, Integer) -&gt; Maybe (Slot, Integer)
forall a. a -&gt; Maybe a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Slot
</span><a href="#local-6989586621680609523"><span class="hs-identifier hs-var">blockSlot</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621680609524"><span class="hs-identifier hs-var">blockNumber</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-521"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe (Slot, Integer)
</span><a href="#local-6989586621680609522"><span class="hs-identifier hs-var">slotAndBlockNumber</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-522"></span><span>    </span><span class="annot"><span class="annottext">Maybe (Slot, Integer)
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ChainPoint -&gt; BlockfrostClientT IO ChainPoint
forall a. a -&gt; BlockfrostClientT IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(ChainPoint -&gt; BlockfrostClientT IO ChainPoint)
-&gt; ChainPoint -&gt; BlockfrostClientT IO ChainPoint
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ChainTip -&gt; ChainPoint
</span><span class="hs-identifier hs-var">chainTipToChainPoint</span></span><span> </span><span class="annot"><span class="annottext">ChainTip
</span><span class="hs-identifier hs-var">ChainTipAtGenesis</span></span><span>
</span><span id="line-523"></span><span>    </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680609527"><span class="annot"><span class="annottext">Slot
</span><a href="#local-6989586621680609527"><span class="hs-identifier hs-var">blockSlot</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680609528"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621680609528"><span class="hs-identifier hs-var">blockNo</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-524"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Blockfrost.BlockHash</span></span><span> </span><span id="local-6989586621680609530"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680609530"><span class="hs-identifier hs-var">blockHash</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BlockHash
</span><a href="#local-6989586621680609517"><span class="hs-identifier hs-var">_blockHash</span></a></span><span>
</span><span id="line-525"></span><span>      </span><span class="annot"><span class="annottext">ChainPoint -&gt; BlockfrostClientT IO ChainPoint
forall a. a -&gt; BlockfrostClientT IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(ChainPoint -&gt; BlockfrostClientT IO ChainPoint)
-&gt; ChainPoint -&gt; BlockfrostClientT IO ChainPoint
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-526"></span><span>        </span><span class="annot"><span class="annottext">ChainTip -&gt; ChainPoint
</span><span class="hs-identifier hs-var">chainTipToChainPoint</span></span><span> </span><span class="annot"><span class="annottext">(ChainTip -&gt; ChainPoint) -&gt; ChainTip -&gt; ChainPoint
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-527"></span><span>          </span><span class="annot"><span class="annottext">SlotNo -&gt; Hash BlockHeader -&gt; BlockNo -&gt; ChainTip
</span><span class="hs-identifier hs-var">ChainTip</span></span><span>
</span><span id="line-528"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; SlotNo
</span><span class="hs-identifier hs-var">SlotNo</span></span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; SlotNo) -&gt; Word64 -&gt; SlotNo
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Word64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Word64) -&gt; Integer -&gt; Word64
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Slot -&gt; Integer
</span><span class="hs-identifier hs-var">Blockfrost.unSlot</span></span><span> </span><span class="annot"><span class="annottext">Slot
</span><a href="#local-6989586621680609527"><span class="hs-identifier hs-var">blockSlot</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-529"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Hash BlockHeader
forall a. IsString a =&gt; String -&gt; a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.String.html#fromString"><span class="hs-identifier hs-var">fromString</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Hash BlockHeader) -&gt; String -&gt; Hash BlockHeader
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; String
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/text-2.0.2/src/Data.Text.Show.html#unpack"><span class="hs-identifier hs-var">T.unpack</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680609530"><span class="hs-identifier hs-var">blockHash</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-530"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; BlockNo
</span><span class="hs-identifier hs-var">BlockNo</span></span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; BlockNo) -&gt; Word64 -&gt; BlockNo
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Word64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621680609528"><span class="hs-identifier hs-var">blockNo</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-531"></span><span>
</span><span id="line-532"></span><span class="annot"><a href="Hydra.Chain.Blockfrost.Client.html#queryStakePools"><span class="hs-identifier hs-type">queryStakePools</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-533"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">BlockfrostClientT</span></span><span> </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#Set"><span class="hs-identifier hs-type">Set</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PoolId</span></span><span class="hs-special">)</span><span>
</span><span id="line-534"></span><span id="queryStakePools"><span class="annot"><span class="annottext">queryStakePools :: BlockfrostClientT IO (Set (Hash StakePoolKey))
</span><a href="Hydra.Chain.Blockfrost.Client.html#queryStakePools"><span class="hs-identifier hs-var hs-var">queryStakePools</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-535"></span><span>  </span><span id="local-6989586621680609535"><span class="annot"><span class="annottext">[PoolId]
</span><a href="#local-6989586621680609535"><span class="hs-identifier hs-var">stakePools'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">BlockfrostClientT IO [PoolId]
forall (m :: * -&gt; *). MonadBlockfrost m =&gt; m [PoolId]
</span><span class="hs-identifier hs-var">Blockfrost.listPools</span></span><span>
</span><span id="line-536"></span><span>  </span><span class="annot"><span class="annottext">Set (Hash StakePoolKey)
-&gt; BlockfrostClientT IO (Set (Hash StakePoolKey))
forall a. a -&gt; BlockfrostClientT IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Set (Hash StakePoolKey)
 -&gt; BlockfrostClientT IO (Set (Hash StakePoolKey)))
-&gt; Set (Hash StakePoolKey)
-&gt; BlockfrostClientT IO (Set (Hash StakePoolKey))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Hash StakePoolKey] -&gt; Set (Hash StakePoolKey)
forall a. Ord a =&gt; [a] -&gt; Set a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#fromList"><span class="hs-identifier hs-var">Set.fromList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PoolId -&gt; Hash StakePoolKey
</span><a href="Hydra.Chain.Blockfrost.Client.html#toCardanoPoolId"><span class="hs-identifier hs-var">toCardanoPoolId</span></a></span><span> </span><span class="annot"><span class="annottext">(PoolId -&gt; Hash StakePoolKey) -&gt; [PoolId] -&gt; [Hash StakePoolKey]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[PoolId]
</span><a href="#local-6989586621680609535"><span class="hs-identifier hs-var">stakePools'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-537"></span><span>
</span><span id="line-538"></span><span class="annot"><a href="Hydra.Chain.Blockfrost.Client.html#awaitTransaction"><span class="hs-identifier hs-type">awaitTransaction</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hydra.Options.html#BlockfrostOptions"><span class="hs-identifier hs-type">BlockfrostOptions</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Tx</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">VerificationKey</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PaymentKey</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">BlockfrostClientT</span></span><span> </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">UTxO</span></span><span>
</span><span id="line-539"></span><span id="awaitTransaction"><span class="annot"><span class="annottext">awaitTransaction :: BlockfrostOptions
-&gt; Tx -&gt; VerificationKey PaymentKey -&gt; BlockfrostClientT IO UTxO
</span><a href="Hydra.Chain.Blockfrost.Client.html#awaitTransaction"><span class="hs-identifier hs-var hs-var">awaitTransaction</span></a></span></span><span> </span><span id="local-6989586621680609538"><span class="annot"><span class="annottext">BlockfrostOptions
</span><a href="#local-6989586621680609538"><span class="hs-identifier hs-var">cfg</span></a></span></span><span> </span><span id="local-6989586621680609539"><span class="annot"><span class="annottext">Tx
</span><a href="#local-6989586621680609539"><span class="hs-identifier hs-var">tx</span></a></span></span><span> </span><span id="local-6989586621680609540"><span class="annot"><span class="annottext">VerificationKey PaymentKey
</span><a href="#local-6989586621680609540"><span class="hs-identifier hs-var">vk</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-540"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Blockfrost.Genesis</span></span><span class="hs-special">{</span><span id="local-6989586621680609541"><span class="annot"><span class="annottext">Integer
$sel:_genesisNetworkMagic:Genesis :: Genesis -&gt; Integer
_genesisNetworkMagic :: Integer
</span><span class="hs-identifier hs-var hs-var">_genesisNetworkMagic</span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">BlockfrostClientT IO Genesis
</span><a href="Hydra.Chain.Blockfrost.Client.html#queryGenesisParameters"><span class="hs-identifier hs-var">queryGenesisParameters</span></a></span><span>
</span><span id="line-541"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680609542"><span class="annot"><span class="annottext">networkId :: NetworkId
</span><a href="#local-6989586621680609542"><span class="hs-identifier hs-var hs-var">networkId</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; NetworkId
</span><a href="Hydra.Chain.Blockfrost.Client.html#toCardanoNetworkId"><span class="hs-identifier hs-var">toCardanoNetworkId</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621680609541"><span class="hs-identifier hs-var">_genesisNetworkMagic</span></a></span><span>
</span><span id="line-542"></span><span>  </span><span class="annot"><span class="annottext">NetworkId
-&gt; [Address ShelleyAddr]
-&gt; TxId
-&gt; BlockfrostOptions
-&gt; BlockfrostClientT IO UTxO
</span><a href="Hydra.Chain.Blockfrost.Client.html#awaitUTxO"><span class="hs-identifier hs-var">awaitUTxO</span></a></span><span> </span><span class="annot"><span class="annottext">NetworkId
</span><a href="#local-6989586621680609542"><span class="hs-identifier hs-var">networkId</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">NetworkId
-&gt; PaymentCredential
-&gt; StakeAddressReference
-&gt; Address ShelleyAddr
</span><span class="hs-identifier hs-var">makeShelleyAddress</span></span><span> </span><span class="annot"><span class="annottext">NetworkId
</span><a href="#local-6989586621680609542"><span class="hs-identifier hs-var">networkId</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Hash PaymentKey -&gt; PaymentCredential
</span><span class="hs-identifier hs-var">PaymentCredentialByKey</span></span><span> </span><span class="annot"><span class="annottext">(Hash PaymentKey -&gt; PaymentCredential)
-&gt; Hash PaymentKey -&gt; PaymentCredential
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">VerificationKey PaymentKey -&gt; Hash PaymentKey
forall keyrole.
Key keyrole =&gt;
VerificationKey keyrole -&gt; Hash keyrole
</span><span class="hs-identifier hs-var">verificationKeyHash</span></span><span> </span><span class="annot"><span class="annottext">VerificationKey PaymentKey
</span><a href="#local-6989586621680609540"><span class="hs-identifier hs-var">vk</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">StakeAddressReference
</span><span class="hs-identifier hs-var">NoStakeAddress</span></span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxBody Era -&gt; TxId
forall era. TxBody era -&gt; TxId
</span><span class="hs-identifier hs-var">getTxId</span></span><span> </span><span class="annot"><span class="annottext">(TxBody Era -&gt; TxId) -&gt; TxBody Era -&gt; TxId
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Tx -&gt; TxBody Era
forall era. Tx era -&gt; TxBody era
</span><span class="hs-identifier hs-var">getTxBody</span></span><span> </span><span class="annot"><span class="annottext">Tx
</span><a href="#local-6989586621680609539"><span class="hs-identifier hs-var">tx</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">BlockfrostOptions
</span><a href="#local-6989586621680609538"><span class="hs-identifier hs-var">cfg</span></a></span><span>
</span><span id="line-543"></span><span>
</span><span id="line-544"></span><span class="annot"><span class="hs-comment">-- | Await for specific UTxO at address - the one that is produced by the given 'TxId'.</span></span><span>
</span><span id="line-545"></span><span class="annot"><a href="Hydra.Chain.Blockfrost.Client.html#awaitUTxO"><span class="hs-identifier hs-type">awaitUTxO</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-546"></span><span>  </span><span class="annot"><span class="hs-comment">-- | Network id</span></span><span>
</span><span id="line-547"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">NetworkId</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-548"></span><span>  </span><span class="annot"><span class="hs-comment">-- | Address we are interested in</span></span><span>
</span><span id="line-549"></span><span>  </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Address</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ShelleyAddr</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-550"></span><span>  </span><span class="annot"><span class="hs-comment">-- | Last transaction ID to await</span></span><span>
</span><span id="line-551"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">TxId</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-552"></span><span>  </span><span class="annot"><a href="Hydra.Options.html#BlockfrostOptions"><span class="hs-identifier hs-type">BlockfrostOptions</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-553"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">BlockfrostClientT</span></span><span> </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">UTxO</span></span><span>
</span><span id="line-554"></span><span id="awaitUTxO"><span class="annot"><span class="annottext">awaitUTxO :: NetworkId
-&gt; [Address ShelleyAddr]
-&gt; TxId
-&gt; BlockfrostOptions
-&gt; BlockfrostClientT IO UTxO
</span><a href="Hydra.Chain.Blockfrost.Client.html#awaitUTxO"><span class="hs-identifier hs-var hs-var">awaitUTxO</span></a></span></span><span> </span><span id="local-6989586621680609550"><span class="annot"><span class="annottext">NetworkId
</span><a href="#local-6989586621680609550"><span class="hs-identifier hs-var">networkId</span></a></span></span><span> </span><span id="local-6989586621680609551"><span class="annot"><span class="annottext">[Address ShelleyAddr]
</span><a href="#local-6989586621680609551"><span class="hs-identifier hs-var">addresses</span></a></span></span><span> </span><span id="local-6989586621680609552"><span class="annot"><span class="annottext">TxId
</span><a href="#local-6989586621680609552"><span class="hs-identifier hs-var">txid</span></a></span></span><span> </span><span id="local-6989586621680609553"><span class="annot"><span class="annottext">cfg :: BlockfrostOptions
</span><a href="#local-6989586621680609553"><span class="hs-identifier hs-var">cfg</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="Hydra.Options.html#BlockfrostOptions"><span class="hs-identifier hs-type">BlockfrostOptions</span></a></span><span class="hs-special">{</span><span id="local-6989586621680609554"><span class="annot"><span class="annottext">Int
$sel:retryTimeout:BlockfrostOptions :: BlockfrostOptions -&gt; Int
retryTimeout :: Int
</span><a href="Hydra.Options.html#%24sel%3AretryTimeout%3ABlockfrostOptions"><span class="hs-identifier hs-var hs-var">retryTimeout</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-555"></span><span>  </span><span class="annot"><span class="annottext">Int -&gt; BlockfrostClientT IO UTxO
</span><a href="#local-6989586621680609555"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680609554"><span class="hs-identifier hs-var">retryTimeout</span></a></span><span>
</span><span id="line-556"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-557"></span><span>  </span><span id="local-6989586621680609555"><span class="annot"><span class="annottext">go :: Int -&gt; BlockfrostClientT IO UTxO
</span><a href="#local-6989586621680609555"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IO UTxO -&gt; BlockfrostClientT IO UTxO
forall a. IO a -&gt; BlockfrostClientT IO a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO UTxO -&gt; BlockfrostClientT IO UTxO)
-&gt; IO UTxO -&gt; BlockfrostClientT IO UTxO
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">APIBlockfrostError -&gt; IO UTxO
forall e a. Exception e =&gt; e -&gt; IO a
forall (m :: * -&gt; *) e a. (MonadThrow m, Exception e) =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">throwIO</span></span><span> </span><span class="annot"><span class="annottext">(APIBlockfrostError -&gt; IO UTxO) -&gt; APIBlockfrostError -&gt; IO UTxO
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">BlockfrostException -&gt; APIBlockfrostError
</span><a href="Hydra.Chain.Blockfrost.Client.html#BlockfrostError"><span class="hs-identifier hs-var">BlockfrostError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxId -&gt; BlockfrostException
</span><a href="Hydra.Chain.Blockfrost.Client.html#TimeoutOnUTxO"><span class="hs-identifier hs-var">TimeoutOnUTxO</span></a></span><span> </span><span class="annot"><span class="annottext">TxId
</span><a href="#local-6989586621680609552"><span class="hs-identifier hs-var">txid</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-558"></span><span>  </span><span class="annot"><a href="#local-6989586621680609555"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621680609556"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680609556"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-559"></span><span>    </span><span id="local-6989586621680609557"><span class="annot"><span class="annottext">Either BlockfrostError UTxO
</span><a href="#local-6989586621680609557"><span class="hs-identifier hs-var">utxo</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">BlockfrostClientT IO UTxO
-&gt; BlockfrostClientT IO (Either BlockfrostError UTxO)
forall e (m :: * -&gt; *) a. MonadError e m =&gt; m a -&gt; m (Either e a)
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/mtl-2.3.1/src/Control.Monad.Error.Class.html#tryError"><span class="hs-identifier hs-var">Blockfrost.tryError</span></a></span><span> </span><span class="annot"><span class="annottext">(BlockfrostClientT IO UTxO
 -&gt; BlockfrostClientT IO (Either BlockfrostError UTxO))
-&gt; BlockfrostClientT IO UTxO
-&gt; BlockfrostClientT IO (Either BlockfrostError UTxO)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">BlockfrostOptions
-&gt; NetworkId -&gt; [Address ShelleyAddr] -&gt; BlockfrostClientT IO UTxO
</span><a href="Hydra.Chain.Blockfrost.Client.html#queryUTxO"><span class="hs-identifier hs-var">queryUTxO</span></a></span><span> </span><span class="annot"><span class="annottext">BlockfrostOptions
</span><a href="#local-6989586621680609553"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">NetworkId
</span><a href="#local-6989586621680609550"><span class="hs-identifier hs-var">networkId</span></a></span><span> </span><span class="annot"><span class="annottext">[Address ShelleyAddr]
</span><a href="#local-6989586621680609551"><span class="hs-identifier hs-var">addresses</span></a></span><span>
</span><span id="line-560"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Either BlockfrostError UTxO
</span><a href="#local-6989586621680609557"><span class="hs-identifier hs-var">utxo</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-561"></span><span>      </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621680609558"><span class="annot"><span class="annottext">BlockfrostError
</span><a href="#local-6989586621680609558"><span class="hs-identifier hs-var">_e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IO () -&gt; BlockfrostClientT IO ()
forall a. IO a -&gt; BlockfrostClientT IO a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DiffTime -&gt; IO ()
forall (m :: * -&gt; *). MonadDelay m =&gt; DiffTime -&gt; m ()
</span><span class="hs-identifier hs-var">threadDelay</span></span><span> </span><span class="annot"><span class="annottext">DiffTime
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">BlockfrostClientT IO ()
-&gt; BlockfrostClientT IO UTxO -&gt; BlockfrostClientT IO UTxO
forall a b.
BlockfrostClientT IO a
-&gt; BlockfrostClientT IO b -&gt; BlockfrostClientT IO b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%3E%3E"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; BlockfrostClientT IO UTxO
</span><a href="#local-6989586621680609555"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680609556"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Num.html#-"><span class="hs-glyph hs-var">-</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-562"></span><span>      </span><span class="annot"><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621680609559"><span class="annot"><span class="annottext">UTxO
</span><a href="#local-6989586621680609559"><span class="hs-identifier hs-var">utxo'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-563"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680609560"><span class="annot"><span class="annottext">wantedUTxO :: UTxO
</span><a href="#local-6989586621680609560"><span class="hs-identifier hs-var hs-var">wantedUTxO</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(TxIn, TxOut CtxUTxO)] -&gt; UTxO
forall era. [(TxIn, TxOut CtxUTxO era)] -&gt; UTxO era
</span><span class="hs-identifier hs-var">UTxO.fromList</span></span><span> </span><span class="annot"><span class="annottext">([(TxIn, TxOut CtxUTxO)] -&gt; UTxO)
-&gt; [(TxIn, TxOut CtxUTxO)] -&gt; UTxO
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">((TxIn, TxOut CtxUTxO) -&gt; Bool)
-&gt; [(TxIn, TxOut CtxUTxO)] -&gt; [(TxIn, TxOut CtxUTxO)]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.List.html#filter"><span class="hs-identifier hs-var">List.filter</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TxIn</span></span><span> </span><span id="local-6989586621680609562"><span class="annot"><span class="annottext">TxId
</span><a href="#local-6989586621680609562"><span class="hs-identifier hs-var">txid'</span></a></span></span><span> </span><span class="annot"><span class="annottext">TxIx
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TxOut CtxUTxO
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TxId
</span><a href="#local-6989586621680609562"><span class="hs-identifier hs-var">txid'</span></a></span><span> </span><span class="annot"><span class="annottext">TxId -&gt; TxId -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">TxId
</span><a href="#local-6989586621680609552"><span class="hs-identifier hs-var">txid</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UTxO -&gt; [(TxIn, TxOut CtxUTxO)]
forall era. UTxO era -&gt; [(TxIn, TxOut CtxUTxO era)]
</span><span class="hs-identifier hs-var">UTxO.toList</span></span><span> </span><span class="annot"><span class="annottext">UTxO
</span><a href="#local-6989586621680609559"><span class="hs-identifier hs-var">utxo'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-564"></span><span>         </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">UTxO -&gt; Bool
forall era. UTxO era -&gt; Bool
</span><span class="hs-identifier hs-var">UTxO.null</span></span><span> </span><span class="annot"><span class="annottext">UTxO
</span><a href="#local-6989586621680609560"><span class="hs-identifier hs-var">wantedUTxO</span></a></span><span>
</span><span id="line-565"></span><span>              </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">IO () -&gt; BlockfrostClientT IO ()
forall a. IO a -&gt; BlockfrostClientT IO a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DiffTime -&gt; IO ()
forall (m :: * -&gt; *). MonadDelay m =&gt; DiffTime -&gt; m ()
</span><span class="hs-identifier hs-var">threadDelay</span></span><span> </span><span class="annot"><span class="annottext">DiffTime
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">BlockfrostClientT IO ()
-&gt; BlockfrostClientT IO UTxO -&gt; BlockfrostClientT IO UTxO
forall a b.
BlockfrostClientT IO a
-&gt; BlockfrostClientT IO b -&gt; BlockfrostClientT IO b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%3E%3E"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; BlockfrostClientT IO UTxO
</span><a href="#local-6989586621680609555"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680609556"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Num.html#-"><span class="hs-glyph hs-var">-</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-566"></span><span>              </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">UTxO -&gt; BlockfrostClientT IO UTxO
forall a. a -&gt; BlockfrostClientT IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">UTxO
</span><a href="#local-6989586621680609559"><span class="hs-identifier hs-var">utxo'</span></a></span><span>
</span><span id="line-567"></span></pre></body></html>