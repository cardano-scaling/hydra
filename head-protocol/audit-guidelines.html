<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-standalone docs-version-current docs-doc-page docs-doc-id-audit-guidelines" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.6.3">
<title data-rh="true">Audit guidelines | Hydra Head protocol documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://hydra.family/head-protocol/audit-guidelines"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-standalone-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-standalone-current"><meta data-rh="true" property="og:title" content="Audit guidelines | Hydra Head protocol documentation"><meta data-rh="true" name="description" content="This document contains guidelines for anyone who decides to perform an assessment on the security of the Hydra Head protocol specification and implementation released from this repository."><meta data-rh="true" property="og:description" content="This document contains guidelines for anyone who decides to perform an assessment on the security of the Hydra Head protocol specification and implementation released from this repository."><link data-rh="true" rel="icon" href="/head-protocol/img/hydra.png"><link data-rh="true" rel="canonical" href="https://hydra.family/head-protocol/audit-guidelines"><link data-rh="true" rel="alternate" href="https://hydra.family/head-protocol/audit-guidelines" hreflang="en"><link data-rh="true" rel="alternate" href="https://hydra.family/head-protocol/audit-guidelines" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/head-protocol/adr/rss.xml" title="Hydra Head protocol documentation RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/head-protocol/adr/atom.xml" title="Hydra Head protocol documentation Atom Feed">










<script src="https://plausible.io/js/script.js" defer="defer" data-domain="hydra.family"></script><link rel="stylesheet" href="/head-protocol/assets/css/styles.3afba21b.css">
<script src="/head-protocol/assets/js/runtime~main.bdeb4020.js" defer="defer"></script>
<script src="/head-protocol/assets/js/main.bfef28a3.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><header aria-label="Main" class="flex navbar tablet:py-[30px] !px-0 shadow-none z-50 border-b border-[#EAEAEB] pt-3 pb-4 tablet:px-2 navbar--fixed-top"><div class="w-full px-6"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/head-protocol/"><div class="navbar__logo"><img src="/head-protocol/img/hydra.png" alt="Hydra Head logo" class="themedComponent_mlkZ themedComponent--light_NVdE" style="height:27px;margin-top:2.5px"><img src="/head-protocol/img/hydra-white.png" alt="Hydra Head logo" class="themedComponent_mlkZ themedComponent--dark_xIcU" style="height:27px;margin-top:2.5px"></div></a><a class="hover:text-primary-light navbar__item navbar__link" href="/head-protocol/docs">User manual</a><a class="hover:text-primary-light navbar__item navbar__link" href="/head-protocol/docs/dev">Developer documentation</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item"><span class="navbar-version">1.1.0</span></div><a class="hover:text-primary-light navbar__item navbar__link" href="/head-protocol/topologies">Topologies</a><a class="hover:text-primary-light navbar__item navbar__link" href="/head-protocol/use-cases">Use cases</a><a class="hover:text-primary-light navbar__item navbar__link" href="/head-protocol/docs/faqs">FAQs</a><div class="navColorModeToggle"><div class="toggle_vylO colorModeToggle_x44X"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button><a href="https://github.com/cardano-scaling/hydra" target="_blank" rel="noopener noreferrer" class="hover:text-primary-light mx-3 py-1" aria-label="Github link"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="24" viewBox="0 0 25 24" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.279 0C5.48905 0 0 5.49998 0 12.3042C0 17.7432 3.51702 22.3472 8.39607 23.9767C9.00607 24.0991 9.22952 23.7119 9.22952 23.3862C9.22952 23.1009 9.20941 22.1232 9.20941 21.1044C5.79368 21.8379 5.08238 19.6377 5.08238 19.6377C4.53345 18.2117 3.72011 17.8452 3.72011 17.8452C2.60214 17.0914 3.80154 17.0914 3.80154 17.0914C5.04166 17.1729 5.69239 18.3544 5.69239 18.3544C6.78999 20.2284 8.55869 19.6989 9.27023 19.3729C9.37178 18.5784 9.69726 18.0284 10.0429 17.7229C7.31857 17.4377 4.45227 16.3784 4.45227 11.6522C4.45227 10.3077 4.93987 9.20771 5.71249 8.35222C5.59059 8.04672 5.16356 6.78347 5.83464 5.09273C5.83464 5.09273 6.87143 4.76673 9.20916 6.35572C10.21 6.08639 11.2422 5.94938 12.279 5.94823C13.3158 5.94823 14.3727 6.09097 15.3487 6.35572C17.6867 4.76673 18.7234 5.09273 18.7234 5.09273C19.3945 6.78347 18.9672 8.04672 18.8453 8.35222C19.6383 9.20771 20.1058 10.3077 20.1058 11.6522C20.1058 16.3784 17.2395 17.4172 14.4949 17.7229C14.9423 18.1099 15.3283 18.8432 15.3283 20.0044C15.3283 21.6544 15.3082 22.9787 15.3082 23.3859C15.3082 23.7119 15.5319 24.0991 16.1417 23.9769C21.0207 22.3469 24.5377 17.7432 24.5377 12.3042C24.5578 5.49998 19.0487 0 12.279 0Z" fill="currentColor"></path></svg></a><a href="https://discord.com/invite/Qq5vNTg9PT" target="_blank" rel="noopener noreferrer" class="hover:text-primary-light mx-3 py-1" aria-label="Discord link"><svg xmlns="http://www.w3.org/2000/svg" width="23" height="18" viewBox="0 0 23 18"><path d="M19.4778 1.49632C18.0074 0.806713 16.4357 0.286253 14.7879 0C14.7626 0 14.7246 0 14.7119 0.0390345C14.5091 0.403356 14.2809 0.884782 14.1288 1.27513C12.3543 1.00189 10.6051 1.00189 8.8686 1.27513C8.71649 0.884782 8.47566 0.416368 8.27286 0.0390345C8.26019 0.0130115 8.22216 0 8.19681 0C6.54903 0.286253 4.9773 0.793701 3.51965 1.49632C3.50697 1.49632 3.4943 1.50933 3.4943 1.52234C0.50294 6.08938 -0.308275 10.5523 0.0973328 14.9632C0.0973328 14.9892 0.110008 15.0023 0.122683 15.0153C2.08734 16.4986 4.00131 17.3964 5.86457 17.9949C5.88992 17.9949 5.92794 17.9949 5.94062 17.9689C6.38425 17.3443 6.77718 16.6937 7.11941 16.0041C7.14476 15.9651 7.11941 15.9131 7.08139 15.9C6.4603 15.6528 5.86457 15.3536 5.2815 15.0283C5.2308 15.0023 5.2308 14.9372 5.2815 14.8982C5.40826 14.8071 5.52233 14.703 5.63641 14.6119C5.66176 14.5989 5.68711 14.5859 5.71246 14.6119C9.47701 16.3815 13.5584 16.3815 17.2723 14.6119C17.2976 14.6119 17.323 14.6119 17.3483 14.6119C17.4624 14.703 17.5892 14.8071 17.7032 14.8982C17.7413 14.9242 17.7413 15.0023 17.7032 15.0283C17.1328 15.3666 16.5371 15.6658 15.9034 15.9C15.8653 15.9131 15.84 15.9651 15.8653 16.0041C16.2076 16.6937 16.6005 17.3443 17.0441 17.9689C17.0568 17.9949 17.0948 18.0079 17.1202 17.9949C18.9961 17.3964 20.9101 16.4986 22.8747 15.0153C22.8874 15.0023 22.9001 14.9762 22.9001 14.9632C23.3817 9.86271 22.1015 5.4388 19.5031 1.52234C19.5031 1.50933 19.4904 1.49632 19.4778 1.49632ZM7.6898 12.2828C6.5617 12.2828 5.62374 11.2159 5.62374 9.90175C5.62374 8.58759 6.53635 7.52064 7.6898 7.52064C8.84325 7.52064 9.78121 8.6006 9.75586 9.90175C9.75586 11.2159 8.84325 12.2828 7.6898 12.2828ZM15.333 12.2828C14.2049 12.2828 13.2669 11.2159 13.2669 9.90175C13.2669 8.58759 14.1795 7.52064 15.333 7.52064C16.4864 7.52064 17.4244 8.6006 17.399 9.90175C17.399 11.2159 16.4864 12.2828 15.333 12.2828Z" fill="currentColor"></path></svg></a><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></header><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><main class="docMainContainer_TBSr docMainContainerEnhanced_lQrH"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Audit guidelines</h1></header>
<p>This document contains guidelines for anyone who decides to perform an assessment on the security of the Hydra Head protocol specification and implementation released from this repository.</p>
<p>Hydra is an open-source project and, as such, can be freely used, reviewed and audited. Shall you want to perform a
security audit, the hydra team would suggest to apply static and dynamic analysis, focused, but not limited to, the areas of concern below.</p>
<p>Shall you decide to share your findings with us, please consider the following, as Per <a href="https://github.com/cardano-foundation/CIPs/tree/master/CIP-0052" target="_blank" rel="noopener noreferrer">CIP-52</a>:</p>
<ol>
<li>Any discrepancies, deviations or spotted vulnerabilities shall be described and classified with an appropriate severity level. Recommendations to rectify the identified deficiencies shall also be provided whenever appropriate.</li>
<li>When automated tools are used as a replacement for manual review/code inspection, they shall be documented or referenced. Note that it’s the responsibility of the auditor to ensure that such tooling may not exhibit potential failures that can adversely affect the review outcome.</li>
<li>Any strategies/methodologies used to assess the consistency, correctness and completeness of the requirements shall also be documented or referenced.</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="reporting-a-vulnerability">Reporting a Vulnerability<a href="#reporting-a-vulnerability" class="hash-link" aria-label="Direct link to Reporting a Vulnerability" title="Direct link to Reporting a Vulnerability">​</a></h2>
<p>If you discover a security vulnerability in Hydra, we ask that you report it to us confidentially. See <a href="https://github.com/cardano-scaling/hydra/blob/master/SECURITY.md" target="_blank" rel="noopener noreferrer"><code>SECURITY.md</code></a> on how to report a security vulnerability.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="context-and-assumptions">Context and assumptions<a href="#context-and-assumptions" class="hash-link" aria-label="Direct link to Context and assumptions" title="Direct link to Context and assumptions">​</a></h2>
<p>The Hydra Head protocol is implemented in the <code>hydra-node</code>, which connects to the Cardano network as layer 1 (L1) through a <code>cardano-node</code>, to other Hydra Head compliant nodes over an off-chain network, and exposes an API to users of the layer 2. Most relevant artifacts for an audit are:</p>
<ul>
<li>Hydra Head Specification</li>
<li>Hydra plutus scripts (on-chain code)</li>
<li>Hydra node chain layer code (off-chain code)</li>
</ul>
<p>As described in the following figure, the main entry points of a Hydra node are:</p>
<ul>
<li>The API through which a client can connect to the node;</li>
<li>The network communication with other Hydra node peers;</li>
<li>The transactions posted on the Cardano ledger (accessed through a network connection).</li>
</ul>
<center><img src="/head-protocol/assets/images/artifacts-a428f525441701114d815bb1cb55786e.png" style="width:600px"></center>
<p>A detailed description of each of the artifacts relevant for an audit can be found in the above section <em>Artifacts</em>.</p>
<p>For its operations, the hydra-node process relies on a cardano-node process and client processes can connect to the hydra-node process through API.
Generally, we recommend to run the Hydra and cardano node in a trusted environment so that any assessment performed during an audit should be done under the following assumptions:</p>
<ul>
<li>Organizational procedures for managing the hydra and cardano signing keys are trusted;</li>
<li>The system running the hydra-node is trusted;</li>
<li>The cardano-node software is trusted as is the system running it;</li>
<li>Any client software connecting through the API is trusted as are the systems running them;</li>
<li>The communications between the cardano-node and the hydra-node are trusted;</li>
<li>The communications between the hydra-node and any client software connecting through the API are trusted;</li>
<li>The cardano-node is assumed to have a responsive communication line with the Cardano network such that the hydra-node can react to on-chain transactions in a timely manner. In particular, hydra-node is able to observe head closure and contest in a delay shorter than the contestation period fixed by the protocol.</li>
</ul>
<p>What is not explicitly trusted in the above list is deemed untrusted. In particular, the other hydra nodes participating in a head are not trusted.</p>
<p>We would appreciate comments about any of the above. Especially if you can suggest less restricting assumptions under which the security properties of Hydra still hold. Or practical suggestions on how to implement these assumptions. We also appreciate recommendations about how to ensure these assumptions hold in a real environment.</p>
<p>If you plan to consider a different operational environment were these assumptions would not be true and plan to share your discoveries with us, please be as explicit as possible about the corresponding assumptions.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="suggested-tasks">Suggested Tasks<a href="#suggested-tasks" class="hash-link" aria-label="Direct link to Suggested Tasks" title="Direct link to Suggested Tasks">​</a></h2>
<p>Broadly speaking, an audit would probably want to ensure that the security properties proven in <em>Hydra Head Specification</em> hold for the implementation, taking also into account the main entry points of a <code>hydra-node</code> which are the node to node network communications, the API and the Cardano ledger.
Furthermore, we suggest to focus efforts on ensuring correctness and robustness of the <em>Hydra plutus scripts</em> (on-chain code) as it is harder (or impossible) to fix in the field and attackers could side-step all measures but the on-chain code (i.e. use their own off-chain code).</p>
<p>We suggest auditors to assess the following statements, which will be detailed in the next sections:</p>
<ol>
<li>Hydra Head specification proofs are sound.</li>
<li>Hydra plutus scripts (on-chain code) are consistent with Hydra Head V1 specification and immune to common Cardano smart-contract weaknesses.</li>
<li>Hydra node chain layer code generates transactions which are consistent with Hydra Head V1 specification.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="specification-is-sound">Specification is sound<a href="#specification-is-sound" class="hash-link" aria-label="Direct link to Specification is sound" title="Direct link to Specification is sound">​</a></h3>
<p>The Hydra Head specification describes the Hydra Head Protocol.</p>
<p>This specification provides several important security properties:</p>
<ul>
<li>Consistency: No two uncorrupted parties see conflicting transactions confirmed.</li>
<li>Liveness: If all parties remain uncorrupted and the adversary delivers all messages, then every transaction becomes confirmed at some point.</li>
<li>Soundness: The final UTxO set accepted on the mainchain results from a set of seen transactions.</li>
<li>Completeness: All transactions observed as confirmed by an honest party at the end of the protocol are considered on the mainchain.</li>
</ul>
<p>You could review this specification to share comments and assess that the above properties hold. An outcome of such a review could include, without being limited to:</p>
<ul>
<li>Identification of any inconsistencies or lack of generality within the specification;</li>
<li>Identification of any inconsistencies in the proofs exposed in the specification;</li>
<li>Identification of any behavior that could lead, with an adversarial mindset, to one of the above properties to be falsified.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="scripts-are-consistent-with-specification">Scripts are consistent with specification<a href="#scripts-are-consistent-with-specification" class="hash-link" aria-label="Direct link to Scripts are consistent with specification" title="Direct link to Scripts are consistent with specification">​</a></h3>
<p>The Hydra Head specification defines the checks the on-chain scripts must perform for a functioning Hydra Head.</p>
<p>You could assess that the Hydra plutus scripts are consistent with the Hydra Head specification and immune to common possible vulnerabilities for Cardano smart contracts, such as but not limited to the following attacks:</p>
<ul>
<li>Execution cost limits;</li>
<li>Double satisfaction;</li>
<li>Replay;</li>
<li>Denial of service.</li>
</ul>
<p>The outcome of the review could also include, without being limited to:</p>
<ul>
<li>a validation that the Hydra plutus scripts validators do check the transaction constraints defined in the Hydra Head specification;</li>
<li>a review and comment on the mutation-based tests applied to the Hydra plutus scripts and, in particular, any adversarial situation that would not be covered by them but should be.</li>
</ul>
<p>See <a href="https://plutus.readthedocs.io/en/latest/reference/writing-scripts/common-weaknesses/index.html" target="_blank" rel="noopener noreferrer">Common Weaknesses</a> and <a href="https://github.com/Plutonomicon/plutonomicon/blob/main/vulnerabilities.md" target="_blank" rel="noopener noreferrer">Vulnerabilities</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hydra-node-produces-consistent-transactions">Hydra node produces consistent transactions<a href="#hydra-node-produces-consistent-transactions" class="hash-link" aria-label="Direct link to Hydra node produces consistent transactions" title="Direct link to Hydra node produces consistent transactions">​</a></h3>
<p>The Hydra Head specification defines the transactions the off-chain code should build and post to evolve the head status on-chain.</p>
<p>You could assess that the Hydra node chain layer code can only build transactions which are consistent with the Hydra Head specification.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="out-of-scope">Out of Scope<a href="#out-of-scope" class="hash-link" aria-label="Direct link to Out of Scope" title="Direct link to Out of Scope">​</a></h2>
<p>For a first security audit, the Hydra team suggests to focus on the scope described in the above sections and consider anything else as out of scope.
In particular, the following items should be seen as out of scope:</p>
<ul>
<li>Hydra Head protocol implementation is immune to attacks via chain transactions.</li>
<li>Hydra Head protocol implementation is immune to attacks via network.</li>
<li>Hydra Head protocol implementation faithfully reflects the head state through the API.</li>
<li>Hydra Head protocol implementation is immune to API attacks.</li>
<li>Any attack which would be invalid under the assumptions stated above in the document.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="artifacts">Artifacts<a href="#artifacts" class="hash-link" aria-label="Direct link to Artifacts" title="Direct link to Artifacts">​</a></h2>
<p>This sections gives a detailed description of the artifacts mentioned above in the document:</p>
<ul>
<li>Hydra Head Specification</li>
<li>Hydra plutus scripts (on-chain code)</li>
<li>Hydra node chain layer code (off-chain code)</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="artifact-1-hydra-head-specification">Artifact 1: Hydra Head Specification<a href="#artifact-1-hydra-head-specification" class="hash-link" aria-label="Direct link to Artifact 1: Hydra Head Specification" title="Direct link to Artifact 1: Hydra Head Specification">​</a></h3>
<p>The Hydra Head protocol implementation derives from <a href="https://eprint.iacr.org/2020/299.pdf" target="_blank" rel="noopener noreferrer">Hydra: Fast Isomorphic State Channels</a> in several ways. Especially some simplifications have been introduced and generalizations removed.</p>
<p>The <a href="/head-protocol/docs/dev/specification">Hydra Head specification</a> captures these deviations and also includes the &quot;formal notation&quot; of the actual transaction constraints (which are foregone in the original paper). Also, it details the L2 protocol logic for the <strong>Coordinated</strong> Head protocol - which is implemented in V1.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="artifact-2-hydra-head-protocol-implementation">Artifact 2: Hydra Head Protocol Implementation<a href="#artifact-2-hydra-head-protocol-implementation" class="hash-link" aria-label="Direct link to Artifact 2: Hydra Head Protocol Implementation" title="Direct link to Artifact 2: Hydra Head Protocol Implementation">​</a></h3>
<p>With Hydra Head Protocol Implementation we refer to the software component that is used to operate a node in the Hydra Head protocol. The <code>hydra-node</code> allows its users to open a head, lock funds in it, connect to peers, process transactions as a layer 2, close a head and unlock the corresponding funds. It is comprised by the Hydra plutus scripts, Hydra head chain layer, layer 2 code, network communication between peers, and an API for clients to connect and use the node.</p>
<ul>
<li>Source code repository: <a href="https://github.com/cardano-scaling/hydra" target="_blank" rel="noopener noreferrer">cardano-scaling/hydra</a></li>
<li>Version ready to be audited: Any <a href="https://github.com/cardano-scaling/hydra/releases" target="_blank" rel="noopener noreferrer">release</a> after version 0.10.0</li>
</ul>
<p>The following parts are described below:</p>
<ul>
<li>Hydra plutus scripts (on-chain code)</li>
<li>Hydra node chain layer code (off-chain code)</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="artifact-21-hydra-plutus-scripts-on-chain-code">Artifact 2.1: Hydra plutus scripts (on-chain code)<a href="#artifact-21-hydra-plutus-scripts-on-chain-code" class="hash-link" aria-label="Direct link to Artifact 2.1: Hydra plutus scripts (on-chain code)" title="Direct link to Artifact 2.1: Hydra plutus scripts (on-chain code)">​</a></h4>
<p>Hydra plutus scripts source code can be found in the <a href="https://github.com/cardano-scaling/hydra/tree/master/hydra-plutus" target="_blank" rel="noopener noreferrer">hydra-plutus module</a>.</p>
<p>Hydra plutus mutation based testing can be found in the <a href="https://github.com/cardano-scaling/hydra/tree/master/hydra-node" target="_blank" rel="noopener noreferrer">hydra-node module</a> in test/Hydra/Chain/Direct/Contract/.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="artifact-22-hydra-node-chain-layer-code-off-chain-code">Artifact 2.2: Hydra node chain layer code (off-chain code)<a href="#artifact-22-hydra-node-chain-layer-code-off-chain-code" class="hash-link" aria-label="Direct link to Artifact 2.2: Hydra node chain layer code (off-chain code)" title="Direct link to Artifact 2.2: Hydra node chain layer code (off-chain code)">​</a></h4>
<p>Hydra node chain layer code can be found in the <a href="https://github.com/cardano-scaling/hydra/tree/master/hydra-node/src/Hydra/Chain" target="_blank" rel="noopener noreferrer">hydra-node module</a> in src/Hydra/Chain/Direct/</p>
<p>Hydra node chain layer tests can be found in the <a href="https://github.com/cardano-scaling/hydra/tree/master/hydra-node/test/Hydra/Chain" target="_blank" rel="noopener noreferrer">hydra-node module</a> in test/Hydra/Chain/Direct/</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/cardano-scaling/hydra/tree/master/docs/standalone/audit-guidelines.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#reporting-a-vulnerability" class="table-of-contents__link toc-highlight">Reporting a Vulnerability</a></li><li><a href="#context-and-assumptions" class="table-of-contents__link toc-highlight">Context and assumptions</a></li><li><a href="#suggested-tasks" class="table-of-contents__link toc-highlight">Suggested Tasks</a><ul><li><a href="#specification-is-sound" class="table-of-contents__link toc-highlight">Specification is sound</a></li><li><a href="#scripts-are-consistent-with-specification" class="table-of-contents__link toc-highlight">Scripts are consistent with specification</a></li><li><a href="#hydra-node-produces-consistent-transactions" class="table-of-contents__link toc-highlight">Hydra node produces consistent transactions</a></li></ul></li><li><a href="#out-of-scope" class="table-of-contents__link toc-highlight">Out of Scope</a></li><li><a href="#artifacts" class="table-of-contents__link toc-highlight">Artifacts</a><ul><li><a href="#artifact-1-hydra-head-specification" class="table-of-contents__link toc-highlight">Artifact 1: Hydra Head Specification</a></li><li><a href="#artifact-2-hydra-head-protocol-implementation" class="table-of-contents__link toc-highlight">Artifact 2: Hydra Head Protocol Implementation</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="laptop:footer bg-white py-[56px]"><div class="flex justify-between flex-col-reverse laptop:flex-row w-full px-6 tablet:px-12 laptop:justify-normal laptop:gap-20"><div class="basis-1/6"><div class="flex flex-col gap-4 border border-solid border-primary-light p-6 rounded-lg mb-14 laptop:mb-[70px] w-[250px]"><div class="inline-flex items-center text-primary-light"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 29 29" fill="none" class="shrink-0"><path d="M20.9294 16.3976C20.9294 16.3976 20.9358 15.3266 20.3616 14.1253C19.0297 11.3398 14.9511 6.74717 2.44965 8.86911L0 13.0703L2.54633 15.0556C4.06401 14.4519 14.2443 8.67912 20.9294 16.3974V16.3976ZM4.08846 10.8233L3.24446 12.1819L1.88586 11.3379L4.08846 10.8233Z" fill="currentColor"></path><path d="M20.5776 20.3707C20.4668 19.713 19.3421 17.1372 16.296 15.7499C13.2916 14.3817 8.6545 14.2215 2.01156 18.1487L1.30078 22.5083L4.03963 23.745C4.03963 23.745 12.8396 14.251 20.5778 20.3704L20.5776 20.3707ZM3.72907 20.8007L2.16445 20.4564L4.07336 19.2358L3.72935 20.8004L3.72907 20.8007Z" fill="currentColor"></path><path d="M24.8502 4.43443C23.7434 3.24952 22.3305 2.38107 20.8536 1.74477L22.5703 0H12.2523L5.80469 2.91929L7.20152 5.91558C16.105 5.48023 22.8094 9.08584 23.1751 15.9556C23.5638 23.2615 16.3385 27.8964 9.38191 26.5819C7.07645 26.1462 5.89041 25.6401 5.89041 25.6401C7.46317 27.0198 10.67 28.7297 14.5114 28.7789C22.2549 28.8775 28.6281 22.5603 28.7751 14.6779C28.8495 10.6999 27.3408 7.08194 24.8496 4.43472L24.8502 4.43443ZM12.2526 3.01822L10.9311 1.69671H13.5741L12.2526 3.01822Z" fill="currentColor"></path></svg><span class="border-l pl-4 ml-4 text-xl leading-[27px]">Join the family</span></div><a class="px-4 py-3 justify-center text-center border text-sm border-solid bg-primary-lightest border-primary font-bold text-primary rounded-lg no-underline hover:bg-white hover:no-underline hover:text-primary" href="/head-protocol/docs/get-involved">Get involved</a></div><div class="text-primary-light inline-flex gap-4 text-center"><svg xmlns="http://www.w3.org/2000/svg" width="29" height="29" viewBox="0 0 29 29" fill="none"><path d="M20.9294 16.3976C20.9294 16.3976 20.9358 15.3266 20.3616 14.1253C19.0297 11.3398 14.9511 6.74717 2.44965 8.86911L0 13.0703L2.54633 15.0556C4.06401 14.4519 14.2443 8.67912 20.9294 16.3974V16.3976ZM4.08846 10.8233L3.24446 12.1819L1.88586 11.3379L4.08846 10.8233Z" fill="currentColor"></path><path d="M20.5776 20.3707C20.4668 19.713 19.3421 17.1372 16.296 15.7499C13.2916 14.3817 8.6545 14.2215 2.01156 18.1487L1.30078 22.5083L4.03963 23.745C4.03963 23.745 12.8396 14.251 20.5778 20.3704L20.5776 20.3707ZM3.72907 20.8007L2.16445 20.4564L4.07336 19.2358L3.72935 20.8004L3.72907 20.8007Z" fill="currentColor"></path><path d="M24.8502 4.43443C23.7434 3.24952 22.3305 2.38107 20.8536 1.74477L22.5703 0H12.2523L5.80469 2.91929L7.20152 5.91558C16.105 5.48023 22.8094 9.08584 23.1751 15.9556C23.5638 23.2615 16.3385 27.8964 9.38191 26.5819C7.07645 26.1462 5.89041 25.6401 5.89041 25.6401C7.46317 27.0198 10.67 28.7297 14.5114 28.7789C22.2549 28.8775 28.6281 22.5603 28.7751 14.6779C28.8495 10.6999 27.3408 7.08194 24.8496 4.43472L24.8502 4.43443ZM12.2526 3.01822L10.9311 1.69671H13.5741L12.2526 3.01822Z" fill="currentColor"></path></svg><span class="mt-0.5">© 2025</span></div></div><div class="grid gap-10 pb-10 max-w-md tablet:flex tablet:max-w-full laptop:pb-0 laptop:gap-7 basis-5/6 laptop:max-w-full"><div class="tablet:col basis-1/4"><div class="footer__title text-sm pb-1 laptop:pb-5 text-black">Contributing</div><ul class="footer__items clean-list space-y-2"><li class="footer__item"><a href="https://github.com/cardano-scaling/hydra/wiki/Coding-Standards" target="_blank" rel="noopener noreferrer" class="footer__link-item inline-flex hover:text-primary-light text-black">Coding standards</a></li><li class="footer__item"><a class="footer__link-item inline-flex hover:text-primary-light text-black" href="/head-protocol/adr">Architecture Decision Records</a></li><li class="footer__item"><a href="https://github.com/cardano-scaling/hydra/wiki/Testing-Strategy" target="_blank" rel="noopener noreferrer" class="footer__link-item inline-flex hover:text-primary-light text-black">Testing strategy</a></li></ul></div><div class="tablet:col basis-1/4"><div class="footer__title text-sm pb-1 laptop:pb-5 text-black">Community</div><ul class="footer__items clean-list space-y-2"><li class="footer__item"><a href="https://discord.gg/Qq5vNTg9PT" target="_blank" rel="noopener noreferrer" class="footer__link-item inline-flex hover:text-primary-light text-black">Discord</a></li><li class="footer__item"><a href="https://github.com/cardano-scaling/hydra/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item inline-flex hover:text-primary-light text-black">GitHub discussions</a></li><li class="footer__item"><a href="https://cardano.stackexchange.com/questions/tagged/hydra" target="_blank" rel="noopener noreferrer" class="footer__link-item inline-flex hover:text-primary-light text-black">Stack Exchange</a></li></ul></div><div class="tablet:col basis-1/4"><div class="footer__title text-sm pb-1 laptop:pb-5 text-black">More</div><ul class="footer__items clean-list space-y-2"><li class="footer__item"><a class="footer__link-item inline-flex hover:text-primary-light text-black" href="/head-protocol/docs/dev/haskell-packages">Haskell packages</a></li><li class="footer__item"><a href="https://cardano-scaling.github.io/website/monthly" target="_blank" rel="noopener noreferrer" class="footer__link-item inline-flex hover:text-primary-light text-black">Monthly reports</a></li><li class="footer__item"><a href="https://github.com/cardano-scaling/hydra/wiki/Logbook" target="_blank" rel="noopener noreferrer" class="footer__link-item inline-flex hover:text-primary-light text-black">Logbook</a></li></ul></div><div class="tablet:col basis-1/4"><div class="footer__title text-sm pb-1 laptop:pb-5 text-black">Legal</div><ul class="footer__items clean-list space-y-2"><li class="footer__item"><a href="https://static.iohk.io/terms/iog-terms-and-conditions.pdf" target="_blank" rel="noopener noreferrer" class="footer__link-item inline-flex hover:text-primary-light text-black">Terms and conditions</a></li><li class="footer__item"><a href="https://static.iohk.io/terms/iog-privacy-policy.pdf" target="_blank" rel="noopener noreferrer" class="footer__link-item inline-flex hover:text-primary-light text-black">Privacy policy</a></li><li class="footer__item"><a href="https://github.com/cardano-scaling/hydra/graphs/contributors" target="_blank" rel="noopener noreferrer" class="footer__link-item inline-flex hover:text-primary-light text-black">Contributors</a></li></ul></div></div></div></footer></div>
</body>
</html>