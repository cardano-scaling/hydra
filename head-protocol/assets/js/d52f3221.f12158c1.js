"use strict";(self.webpackChunkhydra_head_protocol_docs=self.webpackChunkhydra_head_protocol_docs||[]).push([[4914],{52921:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>r,default:()=>l,frontMatter:()=>s,metadata:()=>a,toc:()=>h});const a=JSON.parse('{"id":"protocol-overview","title":"Protocol overview","description":"Hydra is the layer 2 scalability solution for Cardano, designed to increase transaction speed through low latency and high throughput while minimizing transaction costs. Hydra Head is the first protocol of the Hydra family that lays the foundation for more advanced deployment scenarios using isomorphic, multi-party state channels. For an introduction to the protocol, refer to these two blog posts:","source":"@site/docs/protocol-overview.md","sourceDirName":".","slug":"/protocol-overview","permalink":"/head-protocol/docs/protocol-overview","draft":false,"unlisted":false,"editUrl":"https://github.com/cardano-scaling/hydra/tree/master/docs/docs/protocol-overview.md","tags":[],"version":"current","frontMatter":{},"sidebar":"userDocumentation","previous":{"title":"Welcome","permalink":"/head-protocol/docs/"},"next":{"title":"Known issues and limitations","permalink":"/head-protocol/docs/known-issues"}}');var o=n(74848),i=n(28453);const s={},r="Protocol overview",c={},h=[{value:"Hydra head lifecycle",id:"hydra-head-lifecycle",level:2}];function d(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"protocol-overview",children:"Protocol overview"})}),"\n",(0,o.jsxs)(t.p,{children:["Hydra is the layer 2 scalability solution for Cardano, designed to increase transaction speed through low latency and high throughput while minimizing transaction costs. ",(0,o.jsx)(t.a,{href:"https://eprint.iacr.org/2020/299.pdf",children:"Hydra Head"})," is the first protocol of the Hydra family that lays the foundation for more advanced deployment scenarios using isomorphic, multi-party state channels. For an introduction to the protocol, refer to these two blog posts:"]}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:(0,o.jsx)(t.a,{href:"https://iohk.io/en/blog/posts/2021/09/17/hydra-cardano-s-solution-for-ultimate-scalability/",children:"Hydra \u2013 Cardano\u2019s solution for ultimate layer 2 scalability"})}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.a,{href:"https://iohk.io/en/blog/posts/2022/02/03/implementing-hydra-heads-the-first-step-towards-the-full-hydra-vision/",children:"Implementing Hydra heads: the first step towards the full Hydra vision"}),"."]}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:"Hydra simplifies off-chain protocol and smart contract development by directly adopting the layer 1 smart contract system, allowing the same code to be used both on- and off-chain. Leveraging the Extended Unspent Transaction Output (EUTXO) model, Hydra enables fast off-chain protocol evolution with minimal round complexity and allows asynchronous and concurrent state channel processing. This design enhances transaction confirmation time and throughput while keeping storage requirements low."}),"\n",(0,o.jsx)(t.p,{children:"In Hydra, a set of parties coordinates to commit a set of UTXOs (owned by the parties) into an off-chain protocol called the Head protocol. This UTXO set constitutes the initial head state, which can be evolved by handling smart contracts and transactions among the parties without blockchain interaction, provided all participants behave optimistically. The isomorphic nature of Hydra heads ensures that transaction validation and script execution proceed according to the same rules as on-chain, simplifying engineering and guaranteeing consistency. In case of disputes or termination, the current state of the head is decommitted back to the blockchain, updating the blockchain state to reflect the off-chain protocol evolution. This decommit process is efficient, independent of the number of parties or the size of the head state, and supports incremental commits and decommits, allowing UTXOs to be added or removed from a running head without closing it."}),"\n",(0,o.jsx)(t.h2,{id:"hydra-head-lifecycle",children:"Hydra head lifecycle"}),"\n",(0,o.jsx)(t.p,{children:"There are different flavors and extensions of the Hydra Head protocol, but first, let's discuss the full lifecycle of a basic Hydra head and how it allows for isomorphic state transfer between layer 1 and layer 2."}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{src:n(80833).A+"",width:"960",height:"540"})}),"\n",(0,o.jsxs)(t.p,{children:["A group of online and responsive participants form a Hydra head. Participants ",(0,o.jsx)(t.strong,{children:"init"}),"ialize a head by announcing several parameters on-chain, including the participants list. Then, each participant ",(0,o.jsx)(t.strong,{children:"commit"}),"s unspent transaction outputs (UTXOs) from the Cardano main chain to it. These UTXOs are ",(0,o.jsx)(t.strong,{children:"collect"}),"ed and made available in the Hydra head as the initial state (U0). Participants can ",(0,o.jsx)(t.strong,{children:"abort"})," the process and recover their funds at any time before collecting the UTXOs."]}),"\n",(0,o.jsx)(t.p,{children:"While open, participants can utilize the Hydra head via a Hydra node to submit transactions in the head network. These transactions maintain the same format and properties as those on the main chain \u2013 they are isomorphic. When spending UTXO entries and creating new ones in a Hydra head, all participants must acknowledge and agree on the new state in so-called snapshots (U1...Un). Snapshots are not posted back onto layer 1 but are only retained by the participants."}),"\n",(0,o.jsxs)(t.p,{children:["Any participant can ",(0,o.jsx)(t.strong,{children:"close"})," the head using a snapshot, for example, if they wish to cash out on the mainnet or if another party misbehaves or stalls the head's evolution. There exists a mechanism to ",(0,o.jsx)(t.strong,{children:"contest"})," the final state on the main chain. Ultimately, a ",(0,o.jsx)(t.code,{children:"FanOut"})," transaction distributes the final agreed state and makes it available on layer 1, transitioning the state that existed virtually in the head to an on-chain state."]})]})}function l(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},80833:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/hydra-head-lifecycle-b8449385e9041a214bf8c6e52830de3c.svg"},28453:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>r});var a=n(96540);const o={},i=a.createContext(o);function s(e){const t=a.useContext(i);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),a.createElement(i.Provider,{value:t},e.children)}}}]);