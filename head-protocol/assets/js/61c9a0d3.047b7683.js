"use strict";(self.webpackChunkhydra_head_protocol_docs=self.webpackChunkhydra_head_protocol_docs||[]).push([[5212],{16455:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>h,frontMatter:()=>a,metadata:()=>n,toc:()=>c});var n=s(87704),o=s(74848),r=s(28453);const a={slug:6,title:"6. Network broadcasts all messages\n",authors:[],tags:["Accepted"]},i=void 0,l={authorsImageUrls:[]},c=[{value:"Status",id:"status",level:2},{value:"Context",id:"context",level:2},{value:"Decision",id:"decision",level:2},{value:"Consequences",id:"consequences",level:2}];function d(e){const t={a:"a",code:"code",em:"em",h2:"h2",li:"li",p:"p",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.h2,{id:"status",children:"Status"}),"\n",(0,o.jsx)(t.p,{children:"Accepted"}),"\n",(0,o.jsx)(t.h2,{id:"context",children:"Context"}),"\n",(0,o.jsxs)(t.p,{children:["The simplified Head protocol in the ",(0,o.jsx)(t.a,{href:"https://iohk.io/en/research/library/papers/hydrafast-isomorphic-state-channels/",children:"Hydra\npaper"}),"\nrequires ",(0,o.jsx)(t.em,{children:"unicast"})," and ",(0,o.jsx)(t.em,{children:"multicast"})," messaging between participants. However, this\ncan be simplified to only ",(0,o.jsx)(t.em,{children:"multicast"})," by also sending ",(0,o.jsx)(t.code,{children:"AckTx"})," messages to all\nparticipants and removing the necessity for ",(0,o.jsx)(t.code,{children:"ConfTx"}),"."]}),"\n",(0,o.jsxs)(t.p,{children:["There is already a battle-tested implementation for ",(0,o.jsx)(t.em,{children:"broadcasting"})," messages over\nnetworks with any kind of topology (mesh), namely the\n",(0,o.jsx)(t.a,{href:"https://github.com/input-output-hk/ouroboros-network/tree/master/ouroboros-network/src/Ouroboros/Network/TxSubmission",children:"TxSubmission"}),"\nprotocol of ",(0,o.jsx)(t.code,{children:"ouroroboros-network"}),"."]}),"\n",(0,o.jsxs)(t.p,{children:["If the network connects only to interested peers, ",(0,o.jsx)(t.em,{children:"broadcast"})," is essentially the\n",(0,o.jsx)(t.em,{children:"multicast"})," required by the protocol. If this is not the case, some addressing\nscheme is required, and ",(0,o.jsx)(t.em,{children:"broadcast"})," would be a waste of resources."]}),"\n",(0,o.jsx)(t.h2,{id:"decision",children:"Decision"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:["All messages emitted by a Hydra node through the network component are ",(0,o.jsx)(t.em,{children:"broadcasted"})," to ",(0,o.jsx)(t.em,{children:"all"})," nodes in the network"]}),"\n",(0,o.jsx)(t.li,{children:"This implies the emitter shall itself receive the message."}),"\n"]}),"\n",(0,o.jsx)(t.h2,{id:"consequences",children:"Consequences"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:"The network layer is responsible for ensuring that sent messages effectively\nreach all nodes in the network. How this is achieved is left as an\nimplementation detail, ie, whether or not it uses relaying."}),"\n",(0,o.jsx)(t.li,{children:"We need to make sure all Head participants are connected to the same network."}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},28453:(e,t,s)=>{s.d(t,{R:()=>a,x:()=>i});var n=s(96540);const o={},r=n.createContext(o);function a(e){const t=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),n.createElement(r.Provider,{value:t},e.children)}},87704:e=>{e.exports=JSON.parse('{"permalink":"/head-protocol/adr/6","source":"@site/adr/2021-06-10_006-network-broadcasts-all-messages.md","title":"6. Network broadcasts all messages\\n","description":"Status","date":"2021-06-10T00:00:00.000Z","tags":[{"inline":true,"label":"Accepted","permalink":"/head-protocol/adr/tags/accepted"}],"readingTime":0.925,"hasTruncateMarker":false,"authors":[],"frontMatter":{"slug":"6","title":"6. Network broadcasts all messages\\n","authors":[],"tags":["Accepted"]},"unlisted":false,"prevItem":{"title":"5. Use io-classes\\n","permalink":"/head-protocol/adr/5"},"nextItem":{"title":"7. Use with-pattern based component interfaces\\n","permalink":"/head-protocol/adr/7"}}')}}]);