<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Hydra.BehaviorSpec</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">tests</span><ul class="links" id="page-menu"><li><a href="src/Hydra.BehaviorSpec.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>GHC2021</td></tr></table><p class="caption">Hydra.BehaviorSpec</p></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:spec">spec</a> :: Spec</li><li class="src short"><a href="#v:waitUntil">waitUntil</a> :: (<a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a>, MonadThrow m, MonadAsync m, MonadTimer m, MonadLabelledSTM m, IsChainState tx) =&gt; [<a href="Hydra-BehaviorSpec.html#t:TestHydraClient" title="Hydra.BehaviorSpec">TestHydraClient</a> tx m] -&gt; ServerOutput tx -&gt; m ()</li><li class="src short"><a href="#v:waitUntilMatch">waitUntilMatch</a> :: (<a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Show" title="Distribution.Compat.Prelude">Show</a> (ServerOutput tx), <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a>, MonadThrow m, MonadAsync m, MonadTimer m, MonadLabelledSTM m, <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Eq" title="Distribution.Compat.Prelude">Eq</a> a, <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Show" title="Distribution.Compat.Prelude">Show</a> a, IsChainState tx) =&gt; [<a href="Hydra-BehaviorSpec.html#t:TestHydraClient" title="Hydra.BehaviorSpec">TestHydraClient</a> tx m] -&gt; (ServerOutput tx -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Maybe" title="Distribution.Compat.Prelude">Maybe</a> a) -&gt; m a</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:NodeId">NodeId</a> = <a href="#v:Node">Node</a> <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Numeric-Natural.html#t:Natural" title="Numeric.Natural">Natural</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:TestHydraClient">TestHydraClient</a> tx m = <a href="#v:TestHydraClient">TestHydraClient</a> {<ul class="subs"><li><a href="#v:send">send</a> :: ClientInput tx -&gt; m ()</li><li><a href="#v:waitForNext">waitForNext</a> :: m (ServerOutput tx)</li><li><a href="#v:waitForNextMessage">waitForNextMessage</a> :: m (ClientMessage tx)</li><li><a href="#v:injectChainEvent">injectChainEvent</a> :: ChainEvent tx -&gt; m ()</li><li><a href="#v:serverOutputs">serverOutputs</a> :: m [ServerOutput tx]</li><li><a href="#v:queryState">queryState</a> :: m (NodeState tx)</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:SimulatedChainNetwork">SimulatedChainNetwork</a> tx m = <a href="#v:SimulatedChainNetwork">SimulatedChainNetwork</a> {<ul class="subs"><li><a href="#v:connectNode">connectNode</a> :: DraftHydraNode tx m -&gt; m (HydraNode tx m)</li><li><a href="#v:tickThread">tickThread</a> :: Async m ()</li><li><a href="#v:rollbackAndForward">rollbackAndForward</a> :: <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Numeric-Natural.html#t:Natural" title="Numeric.Natural">Natural</a> -&gt; m ()</li><li><a href="#v:simulateCommit">simulateCommit</a> :: HeadId -&gt; Party -&gt; UTxOType tx -&gt; m ()</li><li><a href="#v:simulateDeposit">simulateDeposit</a> :: HeadId -&gt; UTxOType tx -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/time-1.12.2/Data-Time-Clock.html#t:UTCTime" title="Data.Time.Clock">UTCTime</a> -&gt; m (TxIdType tx)</li><li><a href="#v:closeWithInitialSnapshot">closeWithInitialSnapshot</a> :: (Party, UTxOType tx) -&gt; m ()</li></ul>}</li><li class="src short"><a href="#v:dummySimulatedChainNetwork">dummySimulatedChainNetwork</a> :: <a href="Hydra-BehaviorSpec.html#t:SimulatedChainNetwork" title="Hydra.BehaviorSpec">SimulatedChainNetwork</a> tx m</li><li class="src short"><a href="#v:withSimulatedChainAndNetwork">withSimulatedChainAndNetwork</a> :: (MonadTime m, MonadDelay m, MonadAsync m, MonadThrow m, MonadLabelledSTM m) =&gt; (<a href="Hydra-BehaviorSpec.html#t:SimulatedChainNetwork" title="Hydra.BehaviorSpec">SimulatedChainNetwork</a> SimpleTx m -&gt; m a) -&gt; m a</li><li class="src short"><a href="#v:simulatedChainAndNetwork">simulatedChainAndNetwork</a> :: <span class="keyword">forall</span> m. (MonadTime m, MonadDelay m, MonadAsync m, MonadLabelledSTM m) =&gt; ChainStateType SimpleTx -&gt; m (<a href="Hydra-BehaviorSpec.html#t:SimulatedChainNetwork" title="Hydra.BehaviorSpec">SimulatedChainNetwork</a> SimpleTx m)</li><li class="src short"><a href="#v:handleChainEvent">handleChainEvent</a> :: HydraNode tx m -&gt; ChainEvent tx -&gt; m ()</li><li class="src short"><a href="#v:createMockNetwork">createMockNetwork</a> :: MonadSTM m =&gt; DraftHydraNode tx m -&gt; TVar m [HydraNode tx m] -&gt; Network m (Message tx)</li><li class="src short"><a href="#v:toOnChainTx">toOnChainTx</a> :: IsTx tx =&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/time-1.12.2/Data-Time-Clock.html#t:UTCTime" title="Data.Time.Clock">UTCTime</a> -&gt; PostChainTx tx -&gt; OnChainTx tx</li><li class="src short"><a href="#v:newDeadlineFarEnoughFromNow">newDeadlineFarEnoughFromNow</a> :: MonadTime m =&gt; m <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/time-1.12.2/Data-Time-Clock.html#t:UTCTime" title="Data.Time.Clock">UTCTime</a></li><li class="src short"><a href="#v:nothingHappensFor">nothingHappensFor</a> :: (MonadTimer m, MonadThrow m, IsChainState tx) =&gt; <a href="Hydra-BehaviorSpec.html#t:TestHydraClient" title="Hydra.BehaviorSpec">TestHydraClient</a> tx m -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/time-1.12.2/Data-Time-Clock.html#t:NominalDiffTime" title="Data.Time.Clock">NominalDiffTime</a> -&gt; m ()</li><li class="src short"><a href="#v:withHydraNode">withHydraNode</a> :: <span class="keyword">forall</span> s a. SigningKey HydraKey -&gt; [Party] -&gt; <a href="Hydra-BehaviorSpec.html#t:SimulatedChainNetwork" title="Hydra.BehaviorSpec">SimulatedChainNetwork</a> SimpleTx (IOSim s) -&gt; (<a href="Hydra-BehaviorSpec.html#t:TestHydraClient" title="Hydra.BehaviorSpec">TestHydraClient</a> SimpleTx (IOSim s) -&gt; IOSim s a) -&gt; IOSim s a</li><li class="src short"><a href="#v:withHydraNode-39-">withHydraNode'</a> :: DepositPeriod -&gt; SigningKey HydraKey -&gt; [Party] -&gt; <a href="Hydra-BehaviorSpec.html#t:SimulatedChainNetwork" title="Hydra.BehaviorSpec">SimulatedChainNetwork</a> SimpleTx (IOSim s) -&gt; (<a href="Hydra-BehaviorSpec.html#t:TestHydraClient" title="Hydra.BehaviorSpec">TestHydraClient</a> SimpleTx (IOSim s) -&gt; IOSim s b) -&gt; IOSim s b</li><li class="src short"><a href="#v:createTestHydraClient">createTestHydraClient</a> :: MonadSTM m =&gt; TQueue m (ServerOutput tx) -&gt; TQueue m (ClientMessage tx) -&gt; TVar m [ServerOutput tx] -&gt; HydraNode tx m -&gt; <a href="Hydra-BehaviorSpec.html#t:TestHydraClient" title="Hydra.BehaviorSpec">TestHydraClient</a> tx m</li><li class="src short"><a href="#v:createHydraNode">createHydraNode</a> :: (IsChainState tx, MonadDelay m, MonadAsync m, MonadLabelledSTM m, MonadThrow m) =&gt; Tracer m (HydraNodeLog tx) -&gt; Ledger tx -&gt; ChainStateType tx -&gt; SigningKey HydraKey -&gt; [Party] -&gt; TQueue m (ServerOutput tx) -&gt; TQueue m (ClientMessage tx) -&gt; TVar m [ServerOutput tx] -&gt; <a href="Hydra-BehaviorSpec.html#t:SimulatedChainNetwork" title="Hydra.BehaviorSpec">SimulatedChainNetwork</a> tx m -&gt; ContestationPeriod -&gt; DepositPeriod -&gt; m (HydraNode tx m)</li><li class="src short"><a href="#v:openHead">openHead</a> :: <a href="Hydra-BehaviorSpec.html#t:SimulatedChainNetwork" title="Hydra.BehaviorSpec">SimulatedChainNetwork</a> SimpleTx (IOSim s) -&gt; <a href="Hydra-BehaviorSpec.html#t:TestHydraClient" title="Hydra.BehaviorSpec">TestHydraClient</a> SimpleTx (IOSim s) -&gt; IOSim s ()</li><li class="src short"><a href="#v:openHead2">openHead2</a> :: <a href="Hydra-BehaviorSpec.html#t:SimulatedChainNetwork" title="Hydra.BehaviorSpec">SimulatedChainNetwork</a> SimpleTx (IOSim s) -&gt; <a href="Hydra-BehaviorSpec.html#t:TestHydraClient" title="Hydra.BehaviorSpec">TestHydraClient</a> SimpleTx (IOSim s) -&gt; <a href="Hydra-BehaviorSpec.html#t:TestHydraClient" title="Hydra.BehaviorSpec">TestHydraClient</a> SimpleTx (IOSim s) -&gt; IOSim s ()</li><li class="src short"><a href="#v:assertHeadIsClosed">assertHeadIsClosed</a> :: (<a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a>, MonadThrow m) =&gt; ServerOutput tx -&gt; m ()</li><li class="src short"><a href="#v:assertHeadIsClosedWith">assertHeadIsClosedWith</a> :: (<a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a>, MonadThrow m) =&gt; SnapshotNumber -&gt; ServerOutput tx -&gt; m ()</li><li class="src short"><a href="#v:shortLabel">shortLabel</a> :: SigningKey HydraKey -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:String" title="Distribution.Compat.Prelude">String</a></li><li class="src short"><a href="#v:getHeadUTxO">getHeadUTxO</a> :: IsTx tx =&gt; HeadState tx -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Maybe" title="Distribution.Compat.Prelude">Maybe</a> (UTxOType tx)</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:spec" class="def">spec</a> :: Spec <a href="src/Hydra.BehaviorSpec.html#spec" class="link">Source</a> <a href="#v:spec" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:waitUntil" class="def">waitUntil</a> :: (<a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a>, MonadThrow m, MonadAsync m, MonadTimer m, MonadLabelledSTM m, IsChainState tx) =&gt; [<a href="Hydra-BehaviorSpec.html#t:TestHydraClient" title="Hydra.BehaviorSpec">TestHydraClient</a> tx m] -&gt; ServerOutput tx -&gt; m () <a href="src/Hydra.BehaviorSpec.html#waitUntil" class="link">Source</a> <a href="#v:waitUntil" class="selflink">#</a></p><div class="doc"><p>Wait for some output at some node(s) to be produced <em>eventually</em>. See
 <code><a href="Hydra-BehaviorSpec.html#v:waitUntilMatch" title="Hydra.BehaviorSpec">waitUntilMatch</a></code> for how long it waits.</p></div></div><div class="top"><p class="src"><a id="v:waitUntilMatch" class="def">waitUntilMatch</a> :: (<a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Show" title="Distribution.Compat.Prelude">Show</a> (ServerOutput tx), <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a>, MonadThrow m, MonadAsync m, MonadTimer m, MonadLabelledSTM m, <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Eq" title="Distribution.Compat.Prelude">Eq</a> a, <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Show" title="Distribution.Compat.Prelude">Show</a> a, IsChainState tx) =&gt; [<a href="Hydra-BehaviorSpec.html#t:TestHydraClient" title="Hydra.BehaviorSpec">TestHydraClient</a> tx m] -&gt; (ServerOutput tx -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Maybe" title="Distribution.Compat.Prelude">Maybe</a> a) -&gt; m a <a href="src/Hydra.BehaviorSpec.html#waitUntilMatch" class="link">Source</a> <a href="#v:waitUntilMatch" class="selflink">#</a></p><div class="doc"><p>Wait for a server output to match some predicate <em>eventually</em>. If a client
 message is received instead, this fails. This will not wait forever, but for
 a long time (1 month) to get a nice error location. Should not be an issue
 when used within <code><a href="Test-Util.html#v:shouldRunInSim" title="Test.Util">shouldRunInSim</a></code>, this was even 1000 years before - but we
 since we are having the protocol produce <code>Tick</code> events constantly this would
 be fully simulated to the end.</p></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:NodeId" class="def">NodeId</a> <a href="src/Hydra.BehaviorSpec.html#NodeId" class="link">Source</a> <a href="#t:NodeId" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Node" class="def">Node</a> <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Numeric-Natural.html#t:Natural" title="Numeric.Natural">Natural</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:NodeId">Instances</h4><details id="i:NodeId" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:NodeId:Enum:1"></span> <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Enum" title="Distribution.Compat.Prelude">Enum</a> <a href="Hydra-BehaviorSpec.html#t:NodeId" title="Hydra.BehaviorSpec">NodeId</a></span> <a href="src/Hydra.BehaviorSpec.html#line-1005" class="link">Source</a> <a href="#t:NodeId" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:NodeId:Enum:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hydra-BehaviorSpec.html">Hydra.BehaviorSpec</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:succ">succ</a> :: <a href="Hydra-BehaviorSpec.html#t:NodeId" title="Hydra.BehaviorSpec">NodeId</a> -&gt; <a href="Hydra-BehaviorSpec.html#t:NodeId" title="Hydra.BehaviorSpec">NodeId</a> <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:succ" class="selflink">#</a></p><p class="src"><a href="#v:pred">pred</a> :: <a href="Hydra-BehaviorSpec.html#t:NodeId" title="Hydra.BehaviorSpec">NodeId</a> -&gt; <a href="Hydra-BehaviorSpec.html#t:NodeId" title="Hydra.BehaviorSpec">NodeId</a> <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:pred" class="selflink">#</a></p><p class="src"><a href="#v:toEnum">toEnum</a> :: <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Int" title="Distribution.Compat.Prelude">Int</a> -&gt; <a href="Hydra-BehaviorSpec.html#t:NodeId" title="Hydra.BehaviorSpec">NodeId</a> <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:toEnum" class="selflink">#</a></p><p class="src"><a href="#v:fromEnum">fromEnum</a> :: <a href="Hydra-BehaviorSpec.html#t:NodeId" title="Hydra.BehaviorSpec">NodeId</a> -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Int" title="Distribution.Compat.Prelude">Int</a> <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:fromEnum" class="selflink">#</a></p><p class="src"><a href="#v:enumFrom">enumFrom</a> :: <a href="Hydra-BehaviorSpec.html#t:NodeId" title="Hydra.BehaviorSpec">NodeId</a> -&gt; [<a href="Hydra-BehaviorSpec.html#t:NodeId" title="Hydra.BehaviorSpec">NodeId</a>] <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:enumFrom" class="selflink">#</a></p><p class="src"><a href="#v:enumFromThen">enumFromThen</a> :: <a href="Hydra-BehaviorSpec.html#t:NodeId" title="Hydra.BehaviorSpec">NodeId</a> -&gt; <a href="Hydra-BehaviorSpec.html#t:NodeId" title="Hydra.BehaviorSpec">NodeId</a> -&gt; [<a href="Hydra-BehaviorSpec.html#t:NodeId" title="Hydra.BehaviorSpec">NodeId</a>] <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:enumFromThen" class="selflink">#</a></p><p class="src"><a href="#v:enumFromTo">enumFromTo</a> :: <a href="Hydra-BehaviorSpec.html#t:NodeId" title="Hydra.BehaviorSpec">NodeId</a> -&gt; <a href="Hydra-BehaviorSpec.html#t:NodeId" title="Hydra.BehaviorSpec">NodeId</a> -&gt; [<a href="Hydra-BehaviorSpec.html#t:NodeId" title="Hydra.BehaviorSpec">NodeId</a>] <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:enumFromTo" class="selflink">#</a></p><p class="src"><a href="#v:enumFromThenTo">enumFromThenTo</a> :: <a href="Hydra-BehaviorSpec.html#t:NodeId" title="Hydra.BehaviorSpec">NodeId</a> -&gt; <a href="Hydra-BehaviorSpec.html#t:NodeId" title="Hydra.BehaviorSpec">NodeId</a> -&gt; <a href="Hydra-BehaviorSpec.html#t:NodeId" title="Hydra.BehaviorSpec">NodeId</a> -&gt; [<a href="Hydra-BehaviorSpec.html#t:NodeId" title="Hydra.BehaviorSpec">NodeId</a>] <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:enumFromThenTo" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:NodeId:Show:2"></span> <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Show" title="Distribution.Compat.Prelude">Show</a> <a href="Hydra-BehaviorSpec.html#t:NodeId" title="Hydra.BehaviorSpec">NodeId</a></span> <a href="src/Hydra.BehaviorSpec.html#line-1005" class="link">Source</a> <a href="#t:NodeId" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:NodeId:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hydra-BehaviorSpec.html">Hydra.BehaviorSpec</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Int" title="Distribution.Compat.Prelude">Int</a> -&gt; <a href="Hydra-BehaviorSpec.html#t:NodeId" title="Hydra.BehaviorSpec">NodeId</a> -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:ShowS" title="Distribution.Compat.Prelude">ShowS</a> <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Hydra-BehaviorSpec.html#t:NodeId" title="Hydra.BehaviorSpec">NodeId</a> -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:String" title="Distribution.Compat.Prelude">String</a> <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Hydra-BehaviorSpec.html#t:NodeId" title="Hydra.BehaviorSpec">NodeId</a>] -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:ShowS" title="Distribution.Compat.Prelude">ShowS</a> <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:TestHydraClient" class="def">TestHydraClient</a> tx m <a href="src/Hydra.BehaviorSpec.html#TestHydraClient" class="link">Source</a> <a href="#t:TestHydraClient" class="selflink">#</a></p><div class="doc"><p>A thin client layer around <code>HydraNode</code> to be interact with it through
 <code><a href="Hydra-BehaviorSpec.html#v:-36-sel:send:TestHydraClient" title="Hydra.BehaviorSpec">$sel:send:TestHydraClient</a></code>, <code><a href="Hydra-BehaviorSpec.html#v:-36-sel:waitForNext:TestHydraClient" title="Hydra.BehaviorSpec">$sel:waitForNext:TestHydraClient</a></code>, access all outputs and inject events through the test
 chain.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:TestHydraClient" class="def">TestHydraClient</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:send" class="def">send</a> :: ClientInput tx -&gt; m ()</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:waitForNext" class="def">waitForNext</a> :: m (ServerOutput tx)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:waitForNextMessage" class="def">waitForNextMessage</a> :: m (ClientMessage tx)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:injectChainEvent" class="def">injectChainEvent</a> :: ChainEvent tx -&gt; m ()</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:serverOutputs" class="def">serverOutputs</a> :: m [ServerOutput tx]</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:queryState" class="def">queryState</a> :: m (NodeState tx)</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:SimulatedChainNetwork" class="def">SimulatedChainNetwork</a> tx m <a href="src/Hydra.BehaviorSpec.html#SimulatedChainNetwork" class="link">Source</a> <a href="#t:SimulatedChainNetwork" class="selflink">#</a></p><div class="doc"><p>A simulated chain that just echoes <code>PostChainTx</code> as <code>Observation</code>s of
 <code>OnChainTx</code> onto all connected nodes. It can also <code><a href="Hydra-BehaviorSpec.html#v:-36-sel:rollbackAndForward:SimulatedChainNetwork" title="Hydra.BehaviorSpec">$sel:rollbackAndForward:SimulatedChainNetwork</a></code> any
 number of these &quot;transactions&quot;.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:SimulatedChainNetwork" class="def">SimulatedChainNetwork</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:connectNode" class="def">connectNode</a> :: DraftHydraNode tx m -&gt; m (HydraNode tx m)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:tickThread" class="def">tickThread</a> :: Async m ()</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:rollbackAndForward" class="def">rollbackAndForward</a> :: <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Numeric-Natural.html#t:Natural" title="Numeric.Natural">Natural</a> -&gt; m ()</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:simulateCommit" class="def">simulateCommit</a> :: HeadId -&gt; Party -&gt; UTxOType tx -&gt; m ()</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:simulateDeposit" class="def">simulateDeposit</a> :: HeadId -&gt; UTxOType tx -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/time-1.12.2/Data-Time-Clock.html#t:UTCTime" title="Data.Time.Clock">UTCTime</a> -&gt; m (TxIdType tx)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:closeWithInitialSnapshot" class="def">closeWithInitialSnapshot</a> :: (Party, UTxOType tx) -&gt; m ()</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><a id="v:dummySimulatedChainNetwork" class="def">dummySimulatedChainNetwork</a> :: <a href="Hydra-BehaviorSpec.html#t:SimulatedChainNetwork" title="Hydra.BehaviorSpec">SimulatedChainNetwork</a> tx m <a href="src/Hydra.BehaviorSpec.html#dummySimulatedChainNetwork" class="link">Source</a> <a href="#v:dummySimulatedChainNetwork" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:withSimulatedChainAndNetwork" class="def">withSimulatedChainAndNetwork</a> :: (MonadTime m, MonadDelay m, MonadAsync m, MonadThrow m, MonadLabelledSTM m) =&gt; (<a href="Hydra-BehaviorSpec.html#t:SimulatedChainNetwork" title="Hydra.BehaviorSpec">SimulatedChainNetwork</a> SimpleTx m -&gt; m a) -&gt; m a <a href="src/Hydra.BehaviorSpec.html#withSimulatedChainAndNetwork" class="link">Source</a> <a href="#v:withSimulatedChainAndNetwork" class="selflink">#</a></p><div class="doc"><p>With-pattern wrapper around <code><a href="Hydra-BehaviorSpec.html#v:simulatedChainAndNetwork" title="Hydra.BehaviorSpec">simulatedChainAndNetwork</a></code> which does <code>cancel</code>
 the <code><a href="Hydra-BehaviorSpec.html#v:-36-sel:tickThread:SimulatedChainNetwork" title="Hydra.BehaviorSpec">$sel:tickThread:SimulatedChainNetwork</a></code>. Also, this will fix tx to <code>SimpleTx</code> so that it can pick an
 initial chain state to play back to our test nodes.
 NOTE: The simulated network has a block time of 20 (simulated) seconds.</p></div></div><div class="top"><p class="src"><a id="v:simulatedChainAndNetwork" class="def">simulatedChainAndNetwork</a> :: <span class="keyword">forall</span> m. (MonadTime m, MonadDelay m, MonadAsync m, MonadLabelledSTM m) =&gt; ChainStateType SimpleTx -&gt; m (<a href="Hydra-BehaviorSpec.html#t:SimulatedChainNetwork" title="Hydra.BehaviorSpec">SimulatedChainNetwork</a> SimpleTx m) <a href="src/Hydra.BehaviorSpec.html#simulatedChainAndNetwork" class="link">Source</a> <a href="#v:simulatedChainAndNetwork" class="selflink">#</a></p><div class="doc"><p>Creates a simulated chain and network to which <code>HydraNode</code>s can be
 connected to using <code><a href="Hydra-BehaviorSpec.html#v:-36-sel:connectNode:SimulatedChainNetwork" title="Hydra.BehaviorSpec">$sel:connectNode:SimulatedChainNetwork</a></code>. NOTE: The <code><a href="Hydra-BehaviorSpec.html#v:-36-sel:tickThread:SimulatedChainNetwork" title="Hydra.BehaviorSpec">$sel:tickThread:SimulatedChainNetwork</a></code> needs to be
 <code>cancel</code>ed after use. Use <code><a href="Hydra-BehaviorSpec.html#v:withSimulatedChainAndNetwork" title="Hydra.BehaviorSpec">withSimulatedChainAndNetwork</a></code> instead where
 possible.</p></div></div><div class="top"><p class="src"><a id="v:handleChainEvent" class="def">handleChainEvent</a> :: HydraNode tx m -&gt; ChainEvent tx -&gt; m () <a href="src/Hydra.BehaviorSpec.html#handleChainEvent" class="link">Source</a> <a href="#v:handleChainEvent" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:createMockNetwork" class="def">createMockNetwork</a> :: MonadSTM m =&gt; DraftHydraNode tx m -&gt; TVar m [HydraNode tx m] -&gt; Network m (Message tx) <a href="src/Hydra.BehaviorSpec.html#createMockNetwork" class="link">Source</a> <a href="#v:createMockNetwork" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:toOnChainTx" class="def">toOnChainTx</a> :: IsTx tx =&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/time-1.12.2/Data-Time-Clock.html#t:UTCTime" title="Data.Time.Clock">UTCTime</a> -&gt; PostChainTx tx -&gt; OnChainTx tx <a href="src/Hydra.BehaviorSpec.html#toOnChainTx" class="link">Source</a> <a href="#v:toOnChainTx" class="selflink">#</a></p><div class="doc"><p>Derive an <code>OnChainTx</code> from <code>PostChainTx</code> to simulate a &quot;perfect&quot; chain.
 NOTE: This implementation announces hard-coded contestationDeadlines. Also,
 all heads will have the same <code>OpenState</code> and <code>OpenState</code>.</p></div></div><div class="top"><p class="src"><a id="v:newDeadlineFarEnoughFromNow" class="def">newDeadlineFarEnoughFromNow</a> :: MonadTime m =&gt; m <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/time-1.12.2/Data-Time-Clock.html#t:UTCTime" title="Data.Time.Clock">UTCTime</a> <a href="src/Hydra.BehaviorSpec.html#newDeadlineFarEnoughFromNow" class="link">Source</a> <a href="#v:newDeadlineFarEnoughFromNow" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:nothingHappensFor" class="def">nothingHappensFor</a> :: (MonadTimer m, MonadThrow m, IsChainState tx) =&gt; <a href="Hydra-BehaviorSpec.html#t:TestHydraClient" title="Hydra.BehaviorSpec">TestHydraClient</a> tx m -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/time-1.12.2/Data-Time-Clock.html#t:NominalDiffTime" title="Data.Time.Clock">NominalDiffTime</a> -&gt; m () <a href="src/Hydra.BehaviorSpec.html#nothingHappensFor" class="link">Source</a> <a href="#v:nothingHappensFor" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:withHydraNode" class="def">withHydraNode</a> :: <span class="keyword">forall</span> s a. SigningKey HydraKey -&gt; [Party] -&gt; <a href="Hydra-BehaviorSpec.html#t:SimulatedChainNetwork" title="Hydra.BehaviorSpec">SimulatedChainNetwork</a> SimpleTx (IOSim s) -&gt; (<a href="Hydra-BehaviorSpec.html#t:TestHydraClient" title="Hydra.BehaviorSpec">TestHydraClient</a> SimpleTx (IOSim s) -&gt; IOSim s a) -&gt; IOSim s a <a href="src/Hydra.BehaviorSpec.html#withHydraNode" class="link">Source</a> <a href="#v:withHydraNode" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:withHydraNode-39-" class="def">withHydraNode'</a> :: DepositPeriod -&gt; SigningKey HydraKey -&gt; [Party] -&gt; <a href="Hydra-BehaviorSpec.html#t:SimulatedChainNetwork" title="Hydra.BehaviorSpec">SimulatedChainNetwork</a> SimpleTx (IOSim s) -&gt; (<a href="Hydra-BehaviorSpec.html#t:TestHydraClient" title="Hydra.BehaviorSpec">TestHydraClient</a> SimpleTx (IOSim s) -&gt; IOSim s b) -&gt; IOSim s b <a href="src/Hydra.BehaviorSpec.html#withHydraNode%27" class="link">Source</a> <a href="#v:withHydraNode-39-" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:createTestHydraClient" class="def">createTestHydraClient</a> :: MonadSTM m =&gt; TQueue m (ServerOutput tx) -&gt; TQueue m (ClientMessage tx) -&gt; TVar m [ServerOutput tx] -&gt; HydraNode tx m -&gt; <a href="Hydra-BehaviorSpec.html#t:TestHydraClient" title="Hydra.BehaviorSpec">TestHydraClient</a> tx m <a href="src/Hydra.BehaviorSpec.html#createTestHydraClient" class="link">Source</a> <a href="#v:createTestHydraClient" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:createHydraNode" class="def">createHydraNode</a> :: (IsChainState tx, MonadDelay m, MonadAsync m, MonadLabelledSTM m, MonadThrow m) =&gt; Tracer m (HydraNodeLog tx) -&gt; Ledger tx -&gt; ChainStateType tx -&gt; SigningKey HydraKey -&gt; [Party] -&gt; TQueue m (ServerOutput tx) -&gt; TQueue m (ClientMessage tx) -&gt; TVar m [ServerOutput tx] -&gt; <a href="Hydra-BehaviorSpec.html#t:SimulatedChainNetwork" title="Hydra.BehaviorSpec">SimulatedChainNetwork</a> tx m -&gt; ContestationPeriod -&gt; DepositPeriod -&gt; m (HydraNode tx m) <a href="src/Hydra.BehaviorSpec.html#createHydraNode" class="link">Source</a> <a href="#v:createHydraNode" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:openHead" class="def">openHead</a> :: <a href="Hydra-BehaviorSpec.html#t:SimulatedChainNetwork" title="Hydra.BehaviorSpec">SimulatedChainNetwork</a> SimpleTx (IOSim s) -&gt; <a href="Hydra-BehaviorSpec.html#t:TestHydraClient" title="Hydra.BehaviorSpec">TestHydraClient</a> SimpleTx (IOSim s) -&gt; IOSim s () <a href="src/Hydra.BehaviorSpec.html#openHead" class="link">Source</a> <a href="#v:openHead" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:openHead2" class="def">openHead2</a> :: <a href="Hydra-BehaviorSpec.html#t:SimulatedChainNetwork" title="Hydra.BehaviorSpec">SimulatedChainNetwork</a> SimpleTx (IOSim s) -&gt; <a href="Hydra-BehaviorSpec.html#t:TestHydraClient" title="Hydra.BehaviorSpec">TestHydraClient</a> SimpleTx (IOSim s) -&gt; <a href="Hydra-BehaviorSpec.html#t:TestHydraClient" title="Hydra.BehaviorSpec">TestHydraClient</a> SimpleTx (IOSim s) -&gt; IOSim s () <a href="src/Hydra.BehaviorSpec.html#openHead2" class="link">Source</a> <a href="#v:openHead2" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:assertHeadIsClosed" class="def">assertHeadIsClosed</a> :: (<a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a>, MonadThrow m) =&gt; ServerOutput tx -&gt; m () <a href="src/Hydra.BehaviorSpec.html#assertHeadIsClosed" class="link">Source</a> <a href="#v:assertHeadIsClosed" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:assertHeadIsClosedWith" class="def">assertHeadIsClosedWith</a> :: (<a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a>, MonadThrow m) =&gt; SnapshotNumber -&gt; ServerOutput tx -&gt; m () <a href="src/Hydra.BehaviorSpec.html#assertHeadIsClosedWith" class="link">Source</a> <a href="#v:assertHeadIsClosedWith" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:shortLabel" class="def">shortLabel</a> :: SigningKey HydraKey -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:String" title="Distribution.Compat.Prelude">String</a> <a href="src/Hydra.BehaviorSpec.html#shortLabel" class="link">Source</a> <a href="#v:shortLabel" class="selflink">#</a></p><div class="doc"><p>Provide a quick and dirty to way to label stuff from a signing key</p></div></div><div class="top"><p class="src"><a id="v:getHeadUTxO" class="def">getHeadUTxO</a> :: IsTx tx =&gt; HeadState tx -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Maybe" title="Distribution.Compat.Prelude">Maybe</a> (UTxOType tx) <a href="src/Hydra.BehaviorSpec.html#getHeadUTxO" class="link">Source</a> <a href="#v:getHeadUTxO" class="selflink">#</a></p><div class="doc"><p>Get the head <code>UTxO</code> from open <code>HeadState</code>.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.29.2</p></div></body></html>