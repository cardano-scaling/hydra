<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Hydra.Model</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">tests</span><ul class="links" id="page-menu"><li><a href="src/Hydra.Model.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>GHC2021</td></tr></table><p class="caption">Hydra.Model</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">The Model</a><ul><li><a href="#g:2">Generator Helper</a></li></ul></li><li><a href="#g:3">Running the model</a><ul><li><a href="#g:4">Performing actions</a></li><li><a href="#g:5">Utility functions</a></li></ul></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>A <em>Model</em> of the Hydra head Protocol.</p><p>This model integrates in a single state-machine like abstraction the whole behaviour of
 a Hydra Head, taking into account both on-chain state and contracts, and off-chain
 interactions. It is written from the point of view of a pre-defined set of Hydra node
 <em>operators</em> that want to create a channel between them.
 It's a &quot;happy path&quot; model that does not implement any kind of adversarial behaviour and
 whose transactions are very simple: Each tx is a payment of one Ada-only UTxO transferred
 to another party in full, without any change.</p><p>More intricate and specialised models shall be developed once we get a firmer grasp of
 the whole framework, injecting faults, taking into account more parts of the stack,
 modelling more complex transactions schemes...</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:WorldState">WorldState</a> = <a href="#v:WorldState">WorldState</a> {<ul class="subs"><li><a href="#v:hydraParties">hydraParties</a> :: [(SigningKey HydraKey, <a href="Hydra-Model-Payment.html#t:CardanoSigningKey" title="Hydra.Model.Payment">CardanoSigningKey</a>)]</li><li><a href="#v:hydraState">hydraState</a> :: <a href="Hydra-Model.html#t:GlobalState" title="Hydra.Model">GlobalState</a></li><li><a href="#v:availableToDeposit">availableToDeposit</a> :: UTxOType <a href="Hydra-Model-Payment.html#t:Payment" title="Hydra.Model.Payment">Payment</a></li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:GlobalState">GlobalState</a><ul class="subs"><li>= <a href="#v:Start">Start</a></li><li>| <a href="#v:Idle">Idle</a> { <ul class="subs"><li><a href="#v:idleParties">idleParties</a> :: [Party]</li><li><a href="#v:cardanoKeys">cardanoKeys</a> :: [VerificationKey PaymentKey]</li><li><a href="#v:contestationPeriod">contestationPeriod</a> :: ContestationPeriod</li><li><a href="#v:toCommit">toCommit</a> :: <a href="Hydra-Model.html#t:Uncommitted" title="Hydra.Model">Uncommitted</a></li></ul> }</li><li>| <a href="#v:Initial">Initial</a> { <ul class="subs"><li><a href="#v:headIdVar">headIdVar</a> :: Var HeadId</li><li><a href="#v:headParameters">headParameters</a> :: HeadParameters</li><li><a href="#v:commits">commits</a> :: Committed <a href="Hydra-Model-Payment.html#t:Payment" title="Hydra.Model.Payment">Payment</a></li><li><a href="#v:pendingCommits">pendingCommits</a> :: <a href="Hydra-Model.html#t:Uncommitted" title="Hydra.Model">Uncommitted</a></li></ul> }</li><li>| <a href="#v:Open">Open</a> { <ul class="subs"><li><a href="#v:headIdVar">headIdVar</a> :: Var HeadId</li><li><a href="#v:headParameters">headParameters</a> :: HeadParameters</li><li><a href="#v:offChainState">offChainState</a> :: <a href="Hydra-Model.html#t:OffChainState" title="Hydra.Model">OffChainState</a></li><li><a href="#v:committed">committed</a> :: Committed <a href="Hydra-Model-Payment.html#t:Payment" title="Hydra.Model.Payment">Payment</a></li></ul> }</li><li>| <a href="#v:Closed">Closed</a> { <ul class="subs"><li><a href="#v:headParameters">headParameters</a> :: HeadParameters</li><li><a href="#v:closedUTxO">closedUTxO</a> :: UTxOType <a href="Hydra-Model-Payment.html#t:Payment" title="Hydra.Model.Payment">Payment</a></li></ul> }</li><li>| <a href="#v:Final">Final</a> { <ul class="subs"><li><a href="#v:finalUTxO">finalUTxO</a> :: UTxOType <a href="Hydra-Model-Payment.html#t:Payment" title="Hydra.Model.Payment">Payment</a></li></ul> }</li></ul></li><li class="src short"><span class="keyword">type</span> <a href="#t:Uncommitted">Uncommitted</a> = <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Map" title="Distribution.Compat.Prelude">Map</a> Party (UTxOType <a href="Hydra-Model-Payment.html#t:Payment" title="Hydra.Model.Payment">Payment</a>)</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:OffChainState">OffChainState</a> = <a href="#v:OffChainState">OffChainState</a> {<ul class="subs"><li><a href="#v:confirmedUTxO">confirmedUTxO</a> :: UTxOType <a href="Hydra-Model-Payment.html#t:Payment" title="Hydra.Model.Payment">Payment</a></li></ul>}</li><li class="src short"><span class="keyword">type</span> <a href="#t:ActualCommitted">ActualCommitted</a> = UTxOType <a href="Hydra-Model-Payment.html#t:Payment" title="Hydra.Model.Payment">Payment</a></li><li class="src short"><a href="#v:genSeed">genSeed</a> :: Gen (Action <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> ())</li><li class="src short"><a href="#v:genToCommit">genToCommit</a> :: (SigningKey HydraKey, <a href="Hydra-Model-Payment.html#t:CardanoSigningKey" title="Hydra.Model.Payment">CardanoSigningKey</a>) -&gt; Gen (<a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Map" title="Distribution.Compat.Prelude">Map</a> Party [(<a href="Hydra-Model-Payment.html#t:CardanoSigningKey" title="Hydra.Model.Payment">CardanoSigningKey</a>, Value)])</li><li class="src short"><a href="#v:genContestationPeriod">genContestationPeriod</a> :: Gen ContestationPeriod</li><li class="src short"><a href="#v:genInit">genInit</a> :: [(SigningKey HydraKey, b)] -&gt; Gen (Action <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> HeadId)</li><li class="src short"><a href="#v:genPayment">genPayment</a> :: <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> -&gt; Gen (Party, <a href="Hydra-Model-Payment.html#t:Payment" title="Hydra.Model.Payment">Payment</a>)</li><li class="src short"><a href="#v:unsafeConstructorName">unsafeConstructorName</a> :: <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Show" title="Distribution.Compat.Prelude">Show</a> a =&gt; a -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:String" title="Distribution.Compat.Prelude">String</a></li><li class="src short"><a href="#v:partyKeys">partyKeys</a> :: Gen [(SigningKey HydraKey, <a href="Hydra-Model-Payment.html#t:CardanoSigningKey" title="Hydra.Model.Payment">CardanoSigningKey</a>)]</li><li class="src short"><span class="keyword">data</span> <a href="#t:Nodes">Nodes</a> m = <a href="#v:Nodes">Nodes</a> {<ul class="subs"><li><a href="#v:nodes">nodes</a> :: <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Map" title="Distribution.Compat.Prelude">Map</a> Party (<a href="Hydra-BehaviorSpec.html#t:TestHydraClient" title="Hydra.BehaviorSpec">TestHydraClient</a> Tx m)</li><li><a href="#v:logger">logger</a> :: Tracer m (HydraLog Tx)</li><li><a href="#v:threads">threads</a> :: [Async m ()]</li><li><a href="#v:chain">chain</a> :: <a href="Hydra-BehaviorSpec.html#t:SimulatedChainNetwork" title="Hydra.BehaviorSpec">SimulatedChainNetwork</a> Tx m</li></ul>}</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:RunState">RunState</a> m = <a href="#v:RunState">RunState</a> {<ul class="subs"><li><a href="#v:nodesState">nodesState</a> :: TVar m (<a href="Hydra-Model.html#t:Nodes" title="Hydra.Model">Nodes</a> m)</li></ul>}</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:RunMonad">RunMonad</a> m a = <a href="#v:RunMonad">RunMonad</a> {<ul class="subs"><li><a href="#v:runMonad">runMonad</a> :: <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/mtl-2.3.1/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Hydra-Model.html#t:RunState" title="Hydra.Model">RunState</a> m) m a</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:RunException">RunException</a><ul class="subs"><li>= <a href="#v:TransactionNotObserved">TransactionNotObserved</a> <a href="Hydra-Model-Payment.html#t:Payment" title="Hydra.Model.Payment">Payment</a> UTxO</li><li>| <a href="#v:UnexpectedParty">UnexpectedParty</a> Party</li><li>| <a href="#v:UnknownAddress">UnknownAddress</a> AddressInEra [(AddressInEra, <a href="Hydra-Model-Payment.html#t:CardanoSigningKey" title="Hydra.Model.Payment">CardanoSigningKey</a>)]</li><li>| <a href="#v:CannotFindSpendableUTxO">CannotFindSpendableUTxO</a> <a href="Hydra-Model-Payment.html#t:Payment" title="Hydra.Model.Payment">Payment</a> UTxO</li></ul></li><li class="src short"><a href="#v:sortTxOuts">sortTxOuts</a> :: [TxOut ctx] -&gt; [TxOut ctx]</li><li class="src short"><a href="#v:testDepositPeriod">testDepositPeriod</a> :: DepositPeriod</li><li class="src short"><a href="#v:seedWorld">seedWorld</a> :: (MonadAsync m, MonadTimer m, MonadThrow (STM m), MonadLabelledSTM m, MonadFork m, MonadMask m, MonadDelay m, MonadTime m) =&gt; [(SigningKey HydraKey, <a href="Hydra-Model-Payment.html#t:CardanoSigningKey" title="Hydra.Model.Payment">CardanoSigningKey</a>)] -&gt; ContestationPeriod -&gt; <a href="Hydra-Model.html#t:Uncommitted" title="Hydra.Model">Uncommitted</a> -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m ()</li><li class="src short"><a href="#v:performCommit">performCommit</a> :: (MonadThrow m, MonadTimer m, MonadAsync m, MonadLabelledSTM m) =&gt; HeadId -&gt; Party -&gt; [(<a href="Hydra-Model-Payment.html#t:CardanoSigningKey" title="Hydra.Model.Payment">CardanoSigningKey</a>, Value)] -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m ()</li><li class="src short"><a href="#v:performDeposit">performDeposit</a> :: (MonadThrow m, MonadTimer m, MonadAsync m, MonadTime m, MonadLabelledSTM m) =&gt; HeadId -&gt; [(<a href="Hydra-Model-Payment.html#t:CardanoSigningKey" title="Hydra.Model.Payment">CardanoSigningKey</a>, Value)] -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m ()</li><li class="src short"><a href="#v:performDecommit">performDecommit</a> :: (MonadThrow m, MonadTimer m, MonadAsync m, MonadDelay m, MonadLabelledSTM m) =&gt; Party -&gt; <a href="Hydra-Model-Payment.html#t:Payment" title="Hydra.Model.Payment">Payment</a> -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m ()</li><li class="src short"><a href="#v:performNewTx">performNewTx</a> :: (MonadThrow m, MonadAsync m, MonadTimer m, MonadDelay m, MonadLabelledSTM m) =&gt; Party -&gt; <a href="Hydra-Model-Payment.html#t:Payment" title="Hydra.Model.Payment">Payment</a> -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m <a href="Hydra-Model-Payment.html#t:Payment" title="Hydra.Model.Payment">Payment</a></li><li class="src short"><a href="#v:waitForOpen">waitForOpen</a> :: MonadDelay m =&gt; <a href="Hydra-BehaviorSpec.html#t:TestHydraClient" title="Hydra.BehaviorSpec">TestHydraClient</a> tx m -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m ()</li><li class="src short"><a href="#v:waitForReadyToFanout">waitForReadyToFanout</a> :: MonadDelay m =&gt; <a href="Hydra-BehaviorSpec.html#t:TestHydraClient" title="Hydra.BehaviorSpec">TestHydraClient</a> tx m -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m ()</li><li class="src short"><a href="#v:sendsInput">sendsInput</a> :: (MonadSTM m, MonadThrow m) =&gt; Party -&gt; ClientInput Tx -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m ()</li><li class="src short"><a href="#v:getActorNode">getActorNode</a> :: (MonadSTM m, MonadThrow m) =&gt; Party -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m (<a href="Hydra-BehaviorSpec.html#t:TestHydraClient" title="Hydra.BehaviorSpec">TestHydraClient</a> Tx m)</li><li class="src short"><a href="#v:performInit">performInit</a> :: (MonadThrow m, MonadAsync m, MonadTimer m, MonadLabelledSTM m) =&gt; Party -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m HeadId</li><li class="src short"><a href="#v:performAbort">performAbort</a> :: (MonadThrow m, MonadAsync m, MonadTimer m, MonadLabelledSTM m) =&gt; Party -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m ()</li><li class="src short"><a href="#v:performClose">performClose</a> :: (MonadThrow m, MonadAsync m, MonadTimer m, MonadDelay m, MonadLabelledSTM m) =&gt; Party -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m ()</li><li class="src short"><a href="#v:performFanout">performFanout</a> :: (MonadThrow m, MonadAsync m, MonadDelay m) =&gt; Party -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m UTxO</li><li class="src short"><a href="#v:performCloseWithInitialSnapshot">performCloseWithInitialSnapshot</a> :: (MonadThrow m, MonadTimer m, MonadDelay m, MonadAsync m, MonadLabelledSTM m) =&gt; <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> -&gt; Party -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m ()</li><li class="src short"><a href="#v:performRollbackAndForward">performRollbackAndForward</a> :: (MonadThrow m, MonadTimer m) =&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Numeric-Natural.html#t:Natural" title="Numeric.Natural">Natural</a> -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m ()</li><li class="src short"><a href="#v:stopTheWorld">stopTheWorld</a> :: MonadAsync m =&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m ()</li><li class="src short"><a href="#v:toTxOuts">toTxOuts</a> :: [(<a href="Hydra-Model-Payment.html#t:CardanoSigningKey" title="Hydra.Model.Payment">CardanoSigningKey</a>, Value)] -&gt; [TxOut CtxUTxO]</li><li class="src short"><a href="#v:toRealUTxO">toRealUTxO</a> :: UTxOType <a href="Hydra-Model-Payment.html#t:Payment" title="Hydra.Model.Payment">Payment</a> -&gt; UTxOType Tx</li><li class="src short"><a href="#v:mkTxOut">mkTxOut</a> :: <a href="Hydra-Model-Payment.html#t:CardanoSigningKey" title="Hydra.Model.Payment">CardanoSigningKey</a> -&gt; Value -&gt; TxOut CtxUTxO</li><li class="src short"><a href="#v:mkMockTxIn">mkMockTxIn</a> :: <a href="Hydra-Model-Payment.html#t:CardanoSigningKey" title="Hydra.Model.Payment">CardanoSigningKey</a> -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Word" title="Distribution.Compat.Prelude">Word</a> -&gt; TxIn</li><li class="src short"><a href="#v:-61--61--61-">(===)</a> :: (<a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Eq" title="Distribution.Compat.Prelude">Eq</a> a, <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Show" title="Distribution.Compat.Prelude">Show</a> a, <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Monad" title="Distribution.Compat.Prelude">Monad</a> m) =&gt; a -&gt; a -&gt; PostconditionM m <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Bool" title="Distribution.Compat.Prelude">Bool</a></li><li class="src short"><a href="#v:waitForUTxOToSpend">waitForUTxOToSpend</a> :: <span class="keyword">forall</span> m. MonadDelay m =&gt; UTxO -&gt; <a href="Hydra-Model-Payment.html#t:CardanoSigningKey" title="Hydra.Model.Payment">CardanoSigningKey</a> -&gt; Value -&gt; <a href="Hydra-BehaviorSpec.html#t:TestHydraClient" title="Hydra.BehaviorSpec">TestHydraClient</a> Tx m -&gt; m (<a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Either" title="Distribution.Compat.Prelude">Either</a> UTxO (TxIn, TxOut CtxUTxO))</li><li class="src short"><a href="#v:headUTxO">headUTxO</a> :: (IsTx tx, MonadDelay m) =&gt; <a href="Hydra-BehaviorSpec.html#t:TestHydraClient" title="Hydra.BehaviorSpec">TestHydraClient</a> tx m -&gt; m (UTxOType tx)</li><li class="src short"><a href="#v:isOwned">isOwned</a> :: <a href="Hydra-Model-Payment.html#t:CardanoSigningKey" title="Hydra.Model.Payment">CardanoSigningKey</a> -&gt; (TxIn, TxOut ctx) -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Bool" title="Distribution.Compat.Prelude">Bool</a></li><li class="src short"><a href="#v:headIsOpen">headIsOpen</a> :: ServerOutput tx -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Bool" title="Distribution.Compat.Prelude">Bool</a></li><li class="src short"><a href="#v:headIsReadyToFanout">headIsReadyToFanout</a> :: ServerOutput tx -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Bool" title="Distribution.Compat.Prelude">Bool</a></li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>The Model</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:WorldState" class="def">WorldState</a> <a href="src/Hydra.Model.html#WorldState" class="link">Source</a> <a href="#t:WorldState" class="selflink">#</a></p><div class="doc"><p>State maintained by the model.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:WorldState" class="def">WorldState</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:hydraParties" class="def">hydraParties</a> :: [(SigningKey HydraKey, <a href="Hydra-Model-Payment.html#t:CardanoSigningKey" title="Hydra.Model.Payment">CardanoSigningKey</a>)]</dfn><div class="doc"><p>List of parties identified by both signing keys required to run protocol.
 This list must not contain any duplicated key.</p></div></li><li><dfn class="src"><a id="v:hydraState" class="def">hydraState</a> :: <a href="Hydra-Model.html#t:GlobalState" title="Hydra.Model">GlobalState</a></dfn><div class="doc"><p>Expected consensus state
 All nodes should be in the same state.</p></div></li><li><dfn class="src"><a id="v:availableToDeposit" class="def">availableToDeposit</a> :: UTxOType <a href="Hydra-Model-Payment.html#t:Payment" title="Hydra.Model.Payment">Payment</a></dfn><div class="doc"><p>UTxO available to be committed incrementally. NOTE: We must not add UTxO
 we decommitted to this as the <code><a href="Hydra-Model-Payment.html#t:Payment" title="Hydra.Model.Payment">Payment</a></code> transaction model results in
 non-unique transaction ids when running the model.</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:WorldState">Instances</h4><details id="i:WorldState" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WorldState:Show:1"></span> <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Show" title="Distribution.Compat.Prelude">Show</a> <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a></span> <a href="src/Hydra.Model.html#line-92" class="link">Source</a> <a href="#t:WorldState" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WorldState:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hydra-Model.html">Hydra.Model</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Int" title="Distribution.Compat.Prelude">Int</a> -&gt; <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:ShowS" title="Distribution.Compat.Prelude">ShowS</a> <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:String" title="Distribution.Compat.Prelude">String</a> <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a>] -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:ShowS" title="Distribution.Compat.Prelude">ShowS</a> <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WorldState:Eq:2"></span> <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Eq" title="Distribution.Compat.Prelude">Eq</a> <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a></span> <a href="src/Hydra.Model.html#line-92" class="link">Source</a> <a href="#t:WorldState" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WorldState:Eq:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hydra-Model.html">Hydra.Model</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> -&gt; <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Bool" title="Distribution.Compat.Prelude">Bool</a> <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> -&gt; <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Bool" title="Distribution.Compat.Prelude">Bool</a> <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WorldState:DynLogicModel:3"></span> DynLogicModel <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a></span> <a href="src/Hydra.Model.html#line-136" class="link">Source</a> <a href="#t:WorldState" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WorldState:DynLogicModel:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hydra-Model.html">Hydra.Model</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:restricted">restricted</a> :: Action <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> a -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Bool" title="Distribution.Compat.Prelude">Bool</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WorldState:StateModel:4"></span> StateModel <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a></span> <a href="src/Hydra.Model.html#line-141" class="link">Source</a> <a href="#t:WorldState" class="selflink">#</a></td><td class="doc"><p>Basic instantiation of <code>StateModel</code> for our <code><a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a></code> state.</p></td></tr><tr><td colspan="2"><details id="i:id:WorldState:StateModel:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hydra-Model.html">Hydra.Model</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">data</span> Action <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> a</p><p class="src"><span class="keyword">type</span> Error <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:actionName">actionName</a> :: Action <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> a -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:String" title="Distribution.Compat.Prelude">String</a></p><p class="src"><a href="#v:arbitraryAction">arbitraryAction</a> :: VarContext -&gt; <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> -&gt; Gen (Any (Action <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a>))</p><p class="src"><a href="#v:shrinkAction">shrinkAction</a> :: <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Typeable.html#t:Typeable" title="Distribution.Compat.Typeable">Typeable</a> a =&gt; VarContext -&gt; <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> -&gt; Action <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> a -&gt; [Any (Action <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a>)]</p><p class="src"><a href="#v:initialState">initialState</a> :: <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a></p><p class="src"><a href="#v:nextState">nextState</a> :: <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Typeable.html#t:Typeable" title="Distribution.Compat.Typeable">Typeable</a> a =&gt; <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> -&gt; Action <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> a -&gt; Var a -&gt; <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a></p><p class="src"><a href="#v:failureNextState">failureNextState</a> :: <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Typeable.html#t:Typeable" title="Distribution.Compat.Typeable">Typeable</a> a =&gt; <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> -&gt; Action <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> a -&gt; <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a></p><p class="src"><a href="#v:precondition">precondition</a> :: <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> -&gt; Action <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> a -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Bool" title="Distribution.Compat.Prelude">Bool</a></p><p class="src"><a href="#v:validFailingAction">validFailingAction</a> :: <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> -&gt; Action <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> a -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Bool" title="Distribution.Compat.Prelude">Bool</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WorldState:HasVariables:5"></span> HasVariables <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a></span> <a href="src/Hydra.Model.html#line-413" class="link">Source</a> <a href="#t:WorldState" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WorldState:HasVariables:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hydra-Model.html">Hydra.Model</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getAllVariables">getAllVariables</a> :: <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Set" title="Distribution.Compat.Prelude">Set</a> (Any Var)</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WorldState:RunModel:6"></span> (MonadAsync m, MonadFork m, MonadMask m, MonadTimer m, MonadThrow (STM m), MonadLabelledSTM m, MonadDelay m, MonadTime m) =&gt; RunModel <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> (<a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m)</span> <a href="src/Hydra.Model.html#line-545" class="link">Source</a> <a href="#t:WorldState" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WorldState:RunModel:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hydra-Model.html">Hydra.Model</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:perform">perform</a> :: <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Typeable.html#t:Typeable" title="Distribution.Compat.Typeable">Typeable</a> a =&gt; <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> -&gt; Action <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> a -&gt; LookUp (<a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m) -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m (PerformResult (Error <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a>) (Realized (<a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m) a))</p><p class="src"><a href="#v:postcondition">postcondition</a> :: (<a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a>, <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a>) -&gt; Action <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> a -&gt; LookUp (<a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m) -&gt; Realized (<a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m) a -&gt; PostconditionM (<a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m) <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Bool" title="Distribution.Compat.Prelude">Bool</a></p><p class="src"><a href="#v:postconditionOnFailure">postconditionOnFailure</a> :: (<a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a>, <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a>) -&gt; Action <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> a -&gt; LookUp (<a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m) -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Either" title="Distribution.Compat.Prelude">Either</a> (Error <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a>) (Realized (<a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m) a) -&gt; PostconditionM (<a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m) <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Bool" title="Distribution.Compat.Prelude">Bool</a></p><p class="src"><a href="#v:monitoring">monitoring</a> :: (<a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a>, <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a>) -&gt; Action <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> a -&gt; LookUp (<a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m) -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Either" title="Distribution.Compat.Prelude">Either</a> (Error <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a>) (Realized (<a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m) a) -&gt; Property -&gt; Property</p><p class="src"><a href="#v:monitoringFailure">monitoringFailure</a> :: <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> -&gt; Action <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> a -&gt; LookUp (<a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m) -&gt; Error <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> -&gt; Property -&gt; Property</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WorldState:Show:7"></span> <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Show" title="Distribution.Compat.Prelude">Show</a> (Action <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> a)</span> <a href="src/Hydra.Model.html#line-426" class="link">Source</a> <a href="#t:WorldState" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WorldState:Show:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hydra-Model.html">Hydra.Model</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Int" title="Distribution.Compat.Prelude">Int</a> -&gt; Action <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> a -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:ShowS" title="Distribution.Compat.Prelude">ShowS</a> <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: Action <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> a -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:String" title="Distribution.Compat.Prelude">String</a> <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [Action <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> a] -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:ShowS" title="Distribution.Compat.Prelude">ShowS</a> <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WorldState:Eq:8"></span> <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Eq" title="Distribution.Compat.Prelude">Eq</a> (Action <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> a)</span> <a href="src/Hydra.Model.html#line-427" class="link">Source</a> <a href="#t:WorldState" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WorldState:Eq:8"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hydra-Model.html">Hydra.Model</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: Action <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> a -&gt; Action <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> a -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Bool" title="Distribution.Compat.Prelude">Bool</a> <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: Action <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> a -&gt; Action <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> a -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Bool" title="Distribution.Compat.Prelude">Bool</a> <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WorldState:HasVariables:9"></span> HasVariables (Action <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> a)</span> <a href="src/Hydra.Model.html#line-419" class="link">Source</a> <a href="#t:WorldState" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WorldState:HasVariables:9"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hydra-Model.html">Hydra.Model</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getAllVariables">getAllVariables</a> :: Action <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> a -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Set" title="Distribution.Compat.Prelude">Set</a> (Any Var)</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WorldState:Action:10"></span> <span class="keyword">data</span> Action <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> a</span> <a href="src/Hydra.Model.html#line-146" class="link">Source</a> <a href="#t:WorldState" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WorldState:Action:10"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hydra-Model.html">Hydra.Model</a></p> <div class="src"><span class="keyword">data</span> Action <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> a <span class="keyword">where</span><ul class="inst"><li class="inst"><a id="v:Seed" class="def">Seed</a> :: {..} -&gt; Action <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> ()</li><li class="inst"><a id="v:Init" class="def">Init</a> :: Party -&gt; Action <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> HeadId</li><li class="inst"><a id="v:Commit" class="def">Commit</a> :: {..} -&gt; Action <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> ()</li><li class="inst"><a id="v:Abort" class="def">Abort</a> :: {..} -&gt; Action <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> ()</li><li class="inst"><a id="v:Deposit" class="def">Deposit</a> :: {..} -&gt; Action <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> ()</li><li class="inst"><a id="v:Decommit" class="def">Decommit</a> :: {..} -&gt; Action <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> ()</li><li class="inst"><a id="v:Close" class="def">Close</a> :: {..} -&gt; Action <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> ()</li><li class="inst"><a id="v:Fanout" class="def">Fanout</a> :: Party -&gt; Action <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> (UTxO' (TxOut CtxUTxO Era))</li><li class="inst"><a id="v:NewTx" class="def">NewTx</a> :: Party -&gt; <a href="Hydra-Model-Payment.html#t:Payment" title="Hydra.Model.Payment">Payment</a> -&gt; Action <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> <a href="Hydra-Model-Payment.html#t:Payment" title="Hydra.Model.Payment">Payment</a></li><li class="inst"><a id="v:Wait" class="def">Wait</a> :: <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/time-1.12.2/Data-Time-Clock.html#t:DiffTime" title="Data.Time.Clock">DiffTime</a> -&gt; Action <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> ()</li><li class="inst"><a id="v:ObserveConfirmedTx" class="def">ObserveConfirmedTx</a> :: Var <a href="Hydra-Model-Payment.html#t:Payment" title="Hydra.Model.Payment">Payment</a> -&gt; Action <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> ()</li><li class="inst"><a id="v:ObserveHeadIsOpen" class="def">ObserveHeadIsOpen</a> :: Action <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> ()</li><li class="inst"><a id="v:RollbackAndForward" class="def">RollbackAndForward</a> :: <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Numeric-Natural.html#t:Natural" title="Numeric.Natural">Natural</a> -&gt; Action <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> ()</li><li class="inst"><a id="v:CloseWithInitialSnapshot" class="def">CloseWithInitialSnapshot</a> :: Party -&gt; Action <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> ()</li><li class="inst"><a id="v:StopTheWorld" class="def">StopTheWorld</a> :: Action <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> ()</li></ul></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WorldState:Error:11"></span> <span class="keyword">type</span> Error <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a></span> <a href="src/Hydra.Model.html#line-141" class="link">Source</a> <a href="#t:WorldState" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WorldState:Error:11"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hydra-Model.html">Hydra.Model</a></p> <div class="src"><span class="keyword">type</span> Error <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> = <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Void" title="Distribution.Compat.Prelude">Void</a></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:GlobalState" class="def">GlobalState</a> <a href="src/Hydra.Model.html#GlobalState" class="link">Source</a> <a href="#t:GlobalState" class="selflink">#</a></p><div class="doc"><p>Global state of the Head protocol.
 While each participant in the Hydra Head protocol has its own private
 view of the state, we model the expected global state whose properties
 stem from the consensus built into the Head protocol. In other words, this
 state is what each node's local state should be <em>eventually</em>.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Start" class="def">Start</a></td><td class="doc"><p>Start of the &quot;world&quot;.
  This state is left implicit in the node's logic as it
  represents that state where the node does not even
  exist.</p></td></tr><tr><td class="src"><a id="v:Idle" class="def">Idle</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:idleParties" class="def">idleParties</a> :: [Party]</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:cardanoKeys" class="def">cardanoKeys</a> :: [VerificationKey PaymentKey]</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:contestationPeriod" class="def">contestationPeriod</a> :: ContestationPeriod</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:toCommit" class="def">toCommit</a> :: <a href="Hydra-Model.html#t:Uncommitted" title="Hydra.Model">Uncommitted</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr><tr><td class="src"><a id="v:Initial" class="def">Initial</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:headIdVar" class="def">headIdVar</a> :: Var HeadId</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:headParameters" class="def">headParameters</a> :: HeadParameters</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:commits" class="def">commits</a> :: Committed <a href="Hydra-Model-Payment.html#t:Payment" title="Hydra.Model.Payment">Payment</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:pendingCommits" class="def">pendingCommits</a> :: <a href="Hydra-Model.html#t:Uncommitted" title="Hydra.Model">Uncommitted</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr><tr><td class="src"><a id="v:Open" class="def">Open</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:headIdVar" class="def">headIdVar</a> :: Var HeadId</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:headParameters" class="def">headParameters</a> :: HeadParameters</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:offChainState" class="def">offChainState</a> :: <a href="Hydra-Model.html#t:OffChainState" title="Hydra.Model">OffChainState</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:committed" class="def">committed</a> :: Committed <a href="Hydra-Model-Payment.html#t:Payment" title="Hydra.Model.Payment">Payment</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr><tr><td class="src"><a id="v:Closed" class="def">Closed</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:headParameters" class="def">headParameters</a> :: HeadParameters</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:closedUTxO" class="def">closedUTxO</a> :: UTxOType <a href="Hydra-Model-Payment.html#t:Payment" title="Hydra.Model.Payment">Payment</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr><tr><td class="src"><a id="v:Final" class="def">Final</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:finalUTxO" class="def">finalUTxO</a> :: UTxOType <a href="Hydra-Model-Payment.html#t:Payment" title="Hydra.Model.Payment">Payment</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:GlobalState">Instances</h4><details id="i:GlobalState" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:GlobalState:Show:1"></span> <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Show" title="Distribution.Compat.Prelude">Show</a> <a href="Hydra-Model.html#t:GlobalState" title="Hydra.Model">GlobalState</a></span> <a href="src/Hydra.Model.html#line-128" class="link">Source</a> <a href="#t:GlobalState" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:GlobalState:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hydra-Model.html">Hydra.Model</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Int" title="Distribution.Compat.Prelude">Int</a> -&gt; <a href="Hydra-Model.html#t:GlobalState" title="Hydra.Model">GlobalState</a> -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:ShowS" title="Distribution.Compat.Prelude">ShowS</a> <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Hydra-Model.html#t:GlobalState" title="Hydra.Model">GlobalState</a> -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:String" title="Distribution.Compat.Prelude">String</a> <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Hydra-Model.html#t:GlobalState" title="Hydra.Model">GlobalState</a>] -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:ShowS" title="Distribution.Compat.Prelude">ShowS</a> <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:GlobalState:Eq:2"></span> <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Eq" title="Distribution.Compat.Prelude">Eq</a> <a href="Hydra-Model.html#t:GlobalState" title="Hydra.Model">GlobalState</a></span> <a href="src/Hydra.Model.html#line-128" class="link">Source</a> <a href="#t:GlobalState" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:GlobalState:Eq:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hydra-Model.html">Hydra.Model</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Hydra-Model.html#t:GlobalState" title="Hydra.Model">GlobalState</a> -&gt; <a href="Hydra-Model.html#t:GlobalState" title="Hydra.Model">GlobalState</a> -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Bool" title="Distribution.Compat.Prelude">Bool</a> <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Hydra-Model.html#t:GlobalState" title="Hydra.Model">GlobalState</a> -&gt; <a href="Hydra-Model.html#t:GlobalState" title="Hydra.Model">GlobalState</a> -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Bool" title="Distribution.Compat.Prelude">Bool</a> <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:Uncommitted" class="def">Uncommitted</a> = <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Map" title="Distribution.Compat.Prelude">Map</a> Party (UTxOType <a href="Hydra-Model-Payment.html#t:Payment" title="Hydra.Model.Payment">Payment</a>) <a href="src/Hydra.Model.html#Uncommitted" class="link">Source</a> <a href="#t:Uncommitted" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:OffChainState" class="def">OffChainState</a> <a href="src/Hydra.Model.html#OffChainState" class="link">Source</a> <a href="#t:OffChainState" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:OffChainState" class="def">OffChainState</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:confirmedUTxO" class="def">confirmedUTxO</a> :: UTxOType <a href="Hydra-Model-Payment.html#t:Payment" title="Hydra.Model.Payment">Payment</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:OffChainState">Instances</h4><details id="i:OffChainState" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:OffChainState:Show:1"></span> <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Show" title="Distribution.Compat.Prelude">Show</a> <a href="Hydra-Model.html#t:OffChainState" title="Hydra.Model">OffChainState</a></span> <a href="src/Hydra.Model.html#line-133" class="link">Source</a> <a href="#t:OffChainState" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:OffChainState:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hydra-Model.html">Hydra.Model</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Int" title="Distribution.Compat.Prelude">Int</a> -&gt; <a href="Hydra-Model.html#t:OffChainState" title="Hydra.Model">OffChainState</a> -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:ShowS" title="Distribution.Compat.Prelude">ShowS</a> <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Hydra-Model.html#t:OffChainState" title="Hydra.Model">OffChainState</a> -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:String" title="Distribution.Compat.Prelude">String</a> <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Hydra-Model.html#t:OffChainState" title="Hydra.Model">OffChainState</a>] -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:ShowS" title="Distribution.Compat.Prelude">ShowS</a> <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:OffChainState:Eq:2"></span> <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Eq" title="Distribution.Compat.Prelude">Eq</a> <a href="Hydra-Model.html#t:OffChainState" title="Hydra.Model">OffChainState</a></span> <a href="src/Hydra.Model.html#line-133" class="link">Source</a> <a href="#t:OffChainState" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:OffChainState:Eq:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hydra-Model.html">Hydra.Model</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Hydra-Model.html#t:OffChainState" title="Hydra.Model">OffChainState</a> -&gt; <a href="Hydra-Model.html#t:OffChainState" title="Hydra.Model">OffChainState</a> -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Bool" title="Distribution.Compat.Prelude">Bool</a> <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Hydra-Model.html#t:OffChainState" title="Hydra.Model">OffChainState</a> -&gt; <a href="Hydra-Model.html#t:OffChainState" title="Hydra.Model">OffChainState</a> -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Bool" title="Distribution.Compat.Prelude">Bool</a> <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:ActualCommitted" class="def">ActualCommitted</a> = UTxOType <a href="Hydra-Model-Payment.html#t:Payment" title="Hydra.Model.Payment">Payment</a> <a href="src/Hydra.Model.html#ActualCommitted" class="link">Source</a> <a href="#t:ActualCommitted" class="selflink">#</a></p></div><a href="#g:2" id="g:2"><h2>Generator Helper</h2></a><div class="top"><p class="src"><a id="v:genSeed" class="def">genSeed</a> :: Gen (Action <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> ()) <a href="src/Hydra.Model.html#genSeed" class="link">Source</a> <a href="#v:genSeed" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:genToCommit" class="def">genToCommit</a> :: (SigningKey HydraKey, <a href="Hydra-Model-Payment.html#t:CardanoSigningKey" title="Hydra.Model.Payment">CardanoSigningKey</a>) -&gt; Gen (<a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Map" title="Distribution.Compat.Prelude">Map</a> Party [(<a href="Hydra-Model-Payment.html#t:CardanoSigningKey" title="Hydra.Model.Payment">CardanoSigningKey</a>, Value)]) <a href="src/Hydra.Model.html#genToCommit" class="link">Source</a> <a href="#v:genToCommit" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:genContestationPeriod" class="def">genContestationPeriod</a> :: Gen ContestationPeriod <a href="src/Hydra.Model.html#genContestationPeriod" class="link">Source</a> <a href="#v:genContestationPeriod" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:genInit" class="def">genInit</a> :: [(SigningKey HydraKey, b)] -&gt; Gen (Action <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> HeadId) <a href="src/Hydra.Model.html#genInit" class="link">Source</a> <a href="#v:genInit" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:genPayment" class="def">genPayment</a> :: <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> -&gt; Gen (Party, <a href="Hydra-Model-Payment.html#t:Payment" title="Hydra.Model.Payment">Payment</a>) <a href="src/Hydra.Model.html#genPayment" class="link">Source</a> <a href="#v:genPayment" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:unsafeConstructorName" class="def">unsafeConstructorName</a> :: <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Show" title="Distribution.Compat.Prelude">Show</a> a =&gt; a -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:String" title="Distribution.Compat.Prelude">String</a> <a href="src/Hydra.Model.html#unsafeConstructorName" class="link">Source</a> <a href="#v:unsafeConstructorName" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:partyKeys" class="def">partyKeys</a> :: Gen [(SigningKey HydraKey, <a href="Hydra-Model-Payment.html#t:CardanoSigningKey" title="Hydra.Model.Payment">CardanoSigningKey</a>)] <a href="src/Hydra.Model.html#partyKeys" class="link">Source</a> <a href="#v:partyKeys" class="selflink">#</a></p><div class="doc"><p>Generate a list of pairs of Hydra/Cardano signing keys.
  All the keys in this list are guaranteed to be unique.</p></div></div><a href="#g:3" id="g:3"><h1>Running the model</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Nodes" class="def">Nodes</a> m <a href="src/Hydra.Model.html#Nodes" class="link">Source</a> <a href="#t:Nodes" class="selflink">#</a></p><div class="doc"><p>Concrete state needed to run actions against the implementation.
 This state is used and might be updated when actually <code>perform</code>ing actions generated from the <code>StateModel</code>.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Nodes" class="def">Nodes</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:nodes" class="def">nodes</a> :: <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Map" title="Distribution.Compat.Prelude">Map</a> Party (<a href="Hydra-BehaviorSpec.html#t:TestHydraClient" title="Hydra.BehaviorSpec">TestHydraClient</a> Tx m)</dfn><div class="doc"><p>Map from party identifiers to a <em>handle</em> for interacting with a node.</p></div></li><li><dfn class="src"><a id="v:logger" class="def">logger</a> :: Tracer m (HydraLog Tx)</dfn><div class="doc"><p>Logger used by each node.
 The reason we put this here is because the concrete value needs to be
 instantiated upon the test run initialisation, outiside of the model.</p></div></li><li><dfn class="src"><a id="v:threads" class="def">threads</a> :: [Async m ()]</dfn><div class="doc"><p>List of threads spawned when executing <code><a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a></code></p></div></li><li><dfn class="src"><a id="v:chain" class="def">chain</a> :: <a href="Hydra-BehaviorSpec.html#t:SimulatedChainNetwork" title="Hydra.BehaviorSpec">SimulatedChainNetwork</a> Tx m</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Nodes">Instances</h4><details id="i:Nodes" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Nodes:MonadState:1"></span> MonadSTM m =&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/mtl-2.3.1/Control-Monad-State-Class.html#t:MonadState" title="Control.Monad.State.Class">MonadState</a> (<a href="Hydra-Model.html#t:Nodes" title="Hydra.Model">Nodes</a> m) (<a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m)</span> <a href="src/Hydra.Model.html#line-517" class="link">Source</a> <a href="#t:Nodes" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Nodes:MonadState:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hydra-Model.html">Hydra.Model</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:get">get</a> :: <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m (<a href="Hydra-Model.html#t:Nodes" title="Hydra.Model">Nodes</a> m) <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/mtl-2.3.1/src" class="link">Source</a> <a href="#v:get" class="selflink">#</a></p><p class="src"><a href="#v:put">put</a> :: <a href="Hydra-Model.html#t:Nodes" title="Hydra.Model">Nodes</a> m -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m () <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/mtl-2.3.1/src" class="link">Source</a> <a href="#v:put" class="selflink">#</a></p><p class="src"><a href="#v:state">state</a> :: (<a href="Hydra-Model.html#t:Nodes" title="Hydra.Model">Nodes</a> m -&gt; (a, <a href="Hydra-Model.html#t:Nodes" title="Hydra.Model">Nodes</a> m)) -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m a <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/mtl-2.3.1/src" class="link">Source</a> <a href="#v:state" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:RunState" class="def">RunState</a> m <a href="src/Hydra.Model.html#RunState" class="link">Source</a> <a href="#t:RunState" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:RunState" class="def">RunState</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:nodesState" class="def">nodesState</a> :: TVar m (<a href="Hydra-Model.html#t:Nodes" title="Hydra.Model">Nodes</a> m)</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:RunState">Instances</h4><details id="i:RunState" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:RunState:MonadReader:1"></span> <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Monad" title="Distribution.Compat.Prelude">Monad</a> m =&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/mtl-2.3.1/Control-Monad-Reader-Class.html#t:MonadReader" title="Control.Monad.Reader.Class">MonadReader</a> (<a href="Hydra-Model.html#t:RunState" title="Hydra.Model">RunState</a> m) (<a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m)</span> <a href="src/Hydra.Model.html#line-512" class="link">Source</a> <a href="#t:RunState" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:RunState:MonadReader:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hydra-Model.html">Hydra.Model</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:ask">ask</a> :: <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m (<a href="Hydra-Model.html#t:RunState" title="Hydra.Model">RunState</a> m) <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/mtl-2.3.1/src" class="link">Source</a> <a href="#v:ask" class="selflink">#</a></p><p class="src"><a href="#v:local">local</a> :: (<a href="Hydra-Model.html#t:RunState" title="Hydra.Model">RunState</a> m -&gt; <a href="Hydra-Model.html#t:RunState" title="Hydra.Model">RunState</a> m) -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m a -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m a <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/mtl-2.3.1/src" class="link">Source</a> <a href="#v:local" class="selflink">#</a></p><p class="src"><a href="#v:reader">reader</a> :: (<a href="Hydra-Model.html#t:RunState" title="Hydra.Model">RunState</a> m -&gt; a) -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m a <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/mtl-2.3.1/src" class="link">Source</a> <a href="#v:reader" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:RunMonad" class="def">RunMonad</a> m a <a href="src/Hydra.Model.html#RunMonad" class="link">Source</a> <a href="#t:RunMonad" class="selflink">#</a></p><div class="doc"><p>Our execution <code><a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/transformers-0.6.1.0/Control-Monad-Trans-Class.html#t:MonadTrans" title="Control.Monad.Trans.Class">MonadTrans</a></code>former.</p><p>This type is needed in order to keep the execution monad <code>m</code> abstract  and thus
 simplify the definition of the <code>RunModel</code> instance which requires a proper definition
 of <code>Realized</code>  type family. See <a href="https://github.com/input-output-hk/quickcheck-dynamic/issues/29">this issue</a>
 for a discussion on why this monad is needed.</p><p>We could perhaps getaway with it and just have a type based on <code>IOSim</code> monad
 but this is cumbersome to write.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:RunMonad" class="def">RunMonad</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:runMonad" class="def">runMonad</a> :: <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/mtl-2.3.1/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Hydra-Model.html#t:RunState" title="Hydra.Model">RunState</a> m) m a</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:RunMonad">Instances</h4><details id="i:RunMonad" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:RunMonad:MonadTrans:1"></span> <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/transformers-0.6.1.0/Control-Monad-Trans-Class.html#t:MonadTrans" title="Control.Monad.Trans.Class">MonadTrans</a> <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a></span> <a href="src/Hydra.Model.html#line-514" class="link">Source</a> <a href="#t:RunMonad" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:RunMonad:MonadTrans:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hydra-Model.html">Hydra.Model</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lift">lift</a> :: <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Monad" title="Distribution.Compat.Prelude">Monad</a> m =&gt; m a -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m a <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/transformers-0.6.1.0/src" class="link">Source</a> <a href="#v:lift" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:RunMonad:RunModel:2"></span> (MonadAsync m, MonadFork m, MonadMask m, MonadTimer m, MonadThrow (STM m), MonadLabelledSTM m, MonadDelay m, MonadTime m) =&gt; RunModel <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> (<a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m)</span> <a href="src/Hydra.Model.html#line-545" class="link">Source</a> <a href="#t:RunMonad" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:RunMonad:RunModel:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hydra-Model.html">Hydra.Model</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:perform">perform</a> :: <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Typeable.html#t:Typeable" title="Distribution.Compat.Typeable">Typeable</a> a =&gt; <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> -&gt; Action <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> a -&gt; LookUp (<a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m) -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m (PerformResult (Error <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a>) (Realized (<a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m) a))</p><p class="src"><a href="#v:postcondition">postcondition</a> :: (<a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a>, <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a>) -&gt; Action <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> a -&gt; LookUp (<a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m) -&gt; Realized (<a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m) a -&gt; PostconditionM (<a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m) <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Bool" title="Distribution.Compat.Prelude">Bool</a></p><p class="src"><a href="#v:postconditionOnFailure">postconditionOnFailure</a> :: (<a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a>, <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a>) -&gt; Action <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> a -&gt; LookUp (<a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m) -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Either" title="Distribution.Compat.Prelude">Either</a> (Error <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a>) (Realized (<a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m) a) -&gt; PostconditionM (<a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m) <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Bool" title="Distribution.Compat.Prelude">Bool</a></p><p class="src"><a href="#v:monitoring">monitoring</a> :: (<a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a>, <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a>) -&gt; Action <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> a -&gt; LookUp (<a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m) -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Either" title="Distribution.Compat.Prelude">Either</a> (Error <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a>) (Realized (<a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m) a) -&gt; Property -&gt; Property</p><p class="src"><a href="#v:monitoringFailure">monitoringFailure</a> :: <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> -&gt; Action <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> a -&gt; LookUp (<a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m) -&gt; Error <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> -&gt; Property -&gt; Property</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:RunMonad:Applicative:3"></span> <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Applicative" title="Distribution.Compat.Prelude">Applicative</a> m =&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Applicative" title="Distribution.Compat.Prelude">Applicative</a> (<a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m)</span> <a href="src/Hydra.Model.html#line-512" class="link">Source</a> <a href="#t:RunMonad" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:RunMonad:Applicative:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hydra-Model.html">Hydra.Model</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:pure">pure</a> :: a -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m a <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:pure" class="selflink">#</a></p><p class="src"><a href="#v:-60--42--62-">(&lt;*&gt;)</a> :: <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m (a -&gt; b) -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m a -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m b <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:-60--42--62-" class="selflink">#</a></p><p class="src"><a href="#v:liftA2">liftA2</a> :: (a -&gt; b -&gt; c) -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m a -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m b -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m c <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:liftA2" class="selflink">#</a></p><p class="src"><a href="#v:-42--62-">(*&gt;)</a> :: <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m a -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m b -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m b <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:-42--62-" class="selflink">#</a></p><p class="src"><a href="#v:-60--42-">(&lt;*)</a> :: <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m a -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m b -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m a <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:-60--42-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:RunMonad:Functor:4"></span> <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Functor" title="Distribution.Compat.Prelude">Functor</a> m =&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Functor" title="Distribution.Compat.Prelude">Functor</a> (<a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m)</span> <a href="src/Hydra.Model.html#line-512" class="link">Source</a> <a href="#t:RunMonad" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:RunMonad:Functor:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hydra-Model.html">Hydra.Model</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> :: (a -&gt; b) -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m a -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m b <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:fmap" class="selflink">#</a></p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> :: a -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m b -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m a <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:-60--36-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:RunMonad:Monad:5"></span> <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Monad" title="Distribution.Compat.Prelude">Monad</a> m =&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Monad" title="Distribution.Compat.Prelude">Monad</a> (<a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m)</span> <a href="src/Hydra.Model.html#line-512" class="link">Source</a> <a href="#t:RunMonad" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:RunMonad:Monad:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hydra-Model.html">Hydra.Model</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-62--62--61-">(&gt;&gt;=)</a> :: <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m a -&gt; (a -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m b) -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m b <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:-62--62--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62--62-">(&gt;&gt;)</a> :: <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m a -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m b -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m b <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:-62--62-" class="selflink">#</a></p><p class="src"><a href="#v:return">return</a> :: a -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m a <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:return" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:RunMonad:MonadThrow:6"></span> MonadThrow m =&gt; MonadThrow (<a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m)</span> <a href="src/Hydra.Model.html#line-512" class="link">Source</a> <a href="#t:RunMonad" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:RunMonad:MonadThrow:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hydra-Model.html">Hydra.Model</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:throwIO">throwIO</a> :: <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Exception" title="Distribution.Compat.Prelude">Exception</a> e =&gt; e -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m a</p><p class="src"><a href="#v:bracket">bracket</a> :: <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m a -&gt; (a -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m b) -&gt; (a -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m c) -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m c</p><p class="src"><a href="#v:bracket_">bracket_</a> :: <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m a -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m b -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m c -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m c</p><p class="src"><a href="#v:finally">finally</a> :: <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m a -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m b -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m a</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:RunMonad:MonadTime:7"></span> MonadTime m =&gt; MonadTime (<a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m)</span> <a href="src/Hydra.Model.html#line-512" class="link">Source</a> <a href="#t:RunMonad" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:RunMonad:MonadTime:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hydra-Model.html">Hydra.Model</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getCurrentTime">getCurrentTime</a> :: <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/time-1.12.2/Data-Time-Clock.html#t:UTCTime" title="Data.Time.Clock">UTCTime</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:RunMonad:MonadReader:8"></span> <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Monad" title="Distribution.Compat.Prelude">Monad</a> m =&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/mtl-2.3.1/Control-Monad-Reader-Class.html#t:MonadReader" title="Control.Monad.Reader.Class">MonadReader</a> (<a href="Hydra-Model.html#t:RunState" title="Hydra.Model">RunState</a> m) (<a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m)</span> <a href="src/Hydra.Model.html#line-512" class="link">Source</a> <a href="#t:RunMonad" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:RunMonad:MonadReader:8"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hydra-Model.html">Hydra.Model</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:ask">ask</a> :: <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m (<a href="Hydra-Model.html#t:RunState" title="Hydra.Model">RunState</a> m) <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/mtl-2.3.1/src" class="link">Source</a> <a href="#v:ask" class="selflink">#</a></p><p class="src"><a href="#v:local">local</a> :: (<a href="Hydra-Model.html#t:RunState" title="Hydra.Model">RunState</a> m -&gt; <a href="Hydra-Model.html#t:RunState" title="Hydra.Model">RunState</a> m) -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m a -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m a <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/mtl-2.3.1/src" class="link">Source</a> <a href="#v:local" class="selflink">#</a></p><p class="src"><a href="#v:reader">reader</a> :: (<a href="Hydra-Model.html#t:RunState" title="Hydra.Model">RunState</a> m -&gt; a) -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m a <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/mtl-2.3.1/src" class="link">Source</a> <a href="#v:reader" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:RunMonad:MonadState:9"></span> MonadSTM m =&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/mtl-2.3.1/Control-Monad-State-Class.html#t:MonadState" title="Control.Monad.State.Class">MonadState</a> (<a href="Hydra-Model.html#t:Nodes" title="Hydra.Model">Nodes</a> m) (<a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m)</span> <a href="src/Hydra.Model.html#line-517" class="link">Source</a> <a href="#t:RunMonad" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:RunMonad:MonadState:9"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hydra-Model.html">Hydra.Model</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:get">get</a> :: <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m (<a href="Hydra-Model.html#t:Nodes" title="Hydra.Model">Nodes</a> m) <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/mtl-2.3.1/src" class="link">Source</a> <a href="#v:get" class="selflink">#</a></p><p class="src"><a href="#v:put">put</a> :: <a href="Hydra-Model.html#t:Nodes" title="Hydra.Model">Nodes</a> m -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m () <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/mtl-2.3.1/src" class="link">Source</a> <a href="#v:put" class="selflink">#</a></p><p class="src"><a href="#v:state">state</a> :: (<a href="Hydra-Model.html#t:Nodes" title="Hydra.Model">Nodes</a> m -&gt; (a, <a href="Hydra-Model.html#t:Nodes" title="Hydra.Model">Nodes</a> m)) -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m a <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/mtl-2.3.1/src" class="link">Source</a> <a href="#v:state" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:RunMonad:Realized:10"></span> <span class="keyword">type</span> Realized (<a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m) a</span> <a href="src/Hydra.Model.html#line-536" class="link">Source</a> <a href="#t:RunMonad" class="selflink">#</a></td><td class="doc"><p>This type family is needed to link the _actual_ output from running actions
 with the ones that are modelled.</p><p>In our case we can keep things simple and use the same types on both side of
 the fence.</p></td></tr><tr><td colspan="2"><details id="i:id:RunMonad:Realized:10"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hydra-Model.html">Hydra.Model</a></p> <div class="src"><span class="keyword">type</span> Realized (<a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m) a = a</div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:RunException" class="def">RunException</a> <a href="src/Hydra.Model.html#RunException" class="link">Source</a> <a href="#t:RunException" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:TransactionNotObserved" class="def">TransactionNotObserved</a> <a href="Hydra-Model-Payment.html#t:Payment" title="Hydra.Model.Payment">Payment</a> UTxO</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:UnexpectedParty" class="def">UnexpectedParty</a> Party</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:UnknownAddress" class="def">UnknownAddress</a> AddressInEra [(AddressInEra, <a href="Hydra-Model-Payment.html#t:CardanoSigningKey" title="Hydra.Model.Payment">CardanoSigningKey</a>)]</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:CannotFindSpendableUTxO" class="def">CannotFindSpendableUTxO</a> <a href="Hydra-Model-Payment.html#t:Payment" title="Hydra.Model.Payment">Payment</a> UTxO</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:RunException">Instances</h4><details id="i:RunException" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:RunException:Exception:1"></span> <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Exception" title="Distribution.Compat.Prelude">Exception</a> <a href="Hydra-Model.html#t:RunException" title="Hydra.Model">RunException</a></span> <a href="src/Hydra.Model.html#line-529" class="link">Source</a> <a href="#t:RunException" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:RunException:Exception:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hydra-Model.html">Hydra.Model</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toException">toException</a> :: <a href="Hydra-Model.html#t:RunException" title="Hydra.Model">RunException</a> -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:SomeException" title="Distribution.Compat.Prelude">SomeException</a> <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:toException" class="selflink">#</a></p><p class="src"><a href="#v:fromException">fromException</a> :: <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:SomeException" title="Distribution.Compat.Prelude">SomeException</a> -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Maybe" title="Distribution.Compat.Prelude">Maybe</a> <a href="Hydra-Model.html#t:RunException" title="Hydra.Model">RunException</a> <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:fromException" class="selflink">#</a></p><p class="src"><a href="#v:displayException">displayException</a> :: <a href="Hydra-Model.html#t:RunException" title="Hydra.Model">RunException</a> -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:String" title="Distribution.Compat.Prelude">String</a> <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:displayException" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:RunException:Show:2"></span> <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Show" title="Distribution.Compat.Prelude">Show</a> <a href="Hydra-Model.html#t:RunException" title="Hydra.Model">RunException</a></span> <a href="src/Hydra.Model.html#line-527" class="link">Source</a> <a href="#t:RunException" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:RunException:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hydra-Model.html">Hydra.Model</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Int" title="Distribution.Compat.Prelude">Int</a> -&gt; <a href="Hydra-Model.html#t:RunException" title="Hydra.Model">RunException</a> -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:ShowS" title="Distribution.Compat.Prelude">ShowS</a> <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Hydra-Model.html#t:RunException" title="Hydra.Model">RunException</a> -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:String" title="Distribution.Compat.Prelude">String</a> <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Hydra-Model.html#t:RunException" title="Hydra.Model">RunException</a>] -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:ShowS" title="Distribution.Compat.Prelude">ShowS</a> <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:RunException:Eq:3"></span> <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Eq" title="Distribution.Compat.Prelude">Eq</a> <a href="Hydra-Model.html#t:RunException" title="Hydra.Model">RunException</a></span> <a href="src/Hydra.Model.html#line-527" class="link">Source</a> <a href="#t:RunException" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:RunException:Eq:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hydra-Model.html">Hydra.Model</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Hydra-Model.html#t:RunException" title="Hydra.Model">RunException</a> -&gt; <a href="Hydra-Model.html#t:RunException" title="Hydra.Model">RunException</a> -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Bool" title="Distribution.Compat.Prelude">Bool</a> <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Hydra-Model.html#t:RunException" title="Hydra.Model">RunException</a> -&gt; <a href="Hydra-Model.html#t:RunException" title="Hydra.Model">RunException</a> -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Bool" title="Distribution.Compat.Prelude">Bool</a> <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:sortTxOuts" class="def">sortTxOuts</a> :: [TxOut ctx] -&gt; [TxOut ctx] <a href="src/Hydra.Model.html#sortTxOuts" class="link">Source</a> <a href="#v:sortTxOuts" class="selflink">#</a></p></div><a href="#g:4" id="g:4"><h2>Performing actions</h2></a><div class="top"><p class="src"><a id="v:testDepositPeriod" class="def">testDepositPeriod</a> :: DepositPeriod <a href="src/Hydra.Model.html#testDepositPeriod" class="link">Source</a> <a href="#v:testDepositPeriod" class="selflink">#</a></p><div class="doc"><p>Deposit period used by all nodes and the <code><a href="Hydra-Model.html#v:performDeposit" title="Hydra.Model">performDeposit</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:seedWorld" class="def">seedWorld</a> :: (MonadAsync m, MonadTimer m, MonadThrow (STM m), MonadLabelledSTM m, MonadFork m, MonadMask m, MonadDelay m, MonadTime m) =&gt; [(SigningKey HydraKey, <a href="Hydra-Model-Payment.html#t:CardanoSigningKey" title="Hydra.Model.Payment">CardanoSigningKey</a>)] -&gt; ContestationPeriod -&gt; <a href="Hydra-Model.html#t:Uncommitted" title="Hydra.Model">Uncommitted</a> -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m () <a href="src/Hydra.Model.html#seedWorld" class="link">Source</a> <a href="#v:seedWorld" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:performCommit" class="def">performCommit</a> :: (MonadThrow m, MonadTimer m, MonadAsync m, MonadLabelledSTM m) =&gt; HeadId -&gt; Party -&gt; [(<a href="Hydra-Model-Payment.html#t:CardanoSigningKey" title="Hydra.Model.Payment">CardanoSigningKey</a>, Value)] -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m () <a href="src/Hydra.Model.html#performCommit" class="link">Source</a> <a href="#v:performCommit" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:performDeposit" class="def">performDeposit</a> :: (MonadThrow m, MonadTimer m, MonadAsync m, MonadTime m, MonadLabelledSTM m) =&gt; HeadId -&gt; [(<a href="Hydra-Model-Payment.html#t:CardanoSigningKey" title="Hydra.Model.Payment">CardanoSigningKey</a>, Value)] -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m () <a href="src/Hydra.Model.html#performDeposit" class="link">Source</a> <a href="#v:performDeposit" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:performDecommit" class="def">performDecommit</a> :: (MonadThrow m, MonadTimer m, MonadAsync m, MonadDelay m, MonadLabelledSTM m) =&gt; Party -&gt; <a href="Hydra-Model-Payment.html#t:Payment" title="Hydra.Model.Payment">Payment</a> -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m () <a href="src/Hydra.Model.html#performDecommit" class="link">Source</a> <a href="#v:performDecommit" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:performNewTx" class="def">performNewTx</a> :: (MonadThrow m, MonadAsync m, MonadTimer m, MonadDelay m, MonadLabelledSTM m) =&gt; Party -&gt; <a href="Hydra-Model-Payment.html#t:Payment" title="Hydra.Model.Payment">Payment</a> -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m <a href="Hydra-Model-Payment.html#t:Payment" title="Hydra.Model.Payment">Payment</a> <a href="src/Hydra.Model.html#performNewTx" class="link">Source</a> <a href="#v:performNewTx" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:waitForOpen" class="def">waitForOpen</a> :: MonadDelay m =&gt; <a href="Hydra-BehaviorSpec.html#t:TestHydraClient" title="Hydra.BehaviorSpec">TestHydraClient</a> tx m -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m () <a href="src/Hydra.Model.html#waitForOpen" class="link">Source</a> <a href="#v:waitForOpen" class="selflink">#</a></p><div class="doc"><p>Wait for the head to be open by searching from the beginning. Note that
 there rollbacks or multiple life-cycles of heads are not handled here.</p></div></div><div class="top"><p class="src"><a id="v:waitForReadyToFanout" class="def">waitForReadyToFanout</a> :: MonadDelay m =&gt; <a href="Hydra-BehaviorSpec.html#t:TestHydraClient" title="Hydra.BehaviorSpec">TestHydraClient</a> tx m -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m () <a href="src/Hydra.Model.html#waitForReadyToFanout" class="link">Source</a> <a href="#v:waitForReadyToFanout" class="selflink">#</a></p><div class="doc"><p>Wait for the head to be closed by searching from the beginning. Note that
 there rollbacks or multiple life-cycles of heads are not handled here.</p></div></div><div class="top"><p class="src"><a id="v:sendsInput" class="def">sendsInput</a> :: (MonadSTM m, MonadThrow m) =&gt; Party -&gt; ClientInput Tx -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m () <a href="src/Hydra.Model.html#sendsInput" class="link">Source</a> <a href="#v:sendsInput" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getActorNode" class="def">getActorNode</a> :: (MonadSTM m, MonadThrow m) =&gt; Party -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m (<a href="Hydra-BehaviorSpec.html#t:TestHydraClient" title="Hydra.BehaviorSpec">TestHydraClient</a> Tx m) <a href="src/Hydra.Model.html#getActorNode" class="link">Source</a> <a href="#v:getActorNode" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:performInit" class="def">performInit</a> :: (MonadThrow m, MonadAsync m, MonadTimer m, MonadLabelledSTM m) =&gt; Party -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m HeadId <a href="src/Hydra.Model.html#performInit" class="link">Source</a> <a href="#v:performInit" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:performAbort" class="def">performAbort</a> :: (MonadThrow m, MonadAsync m, MonadTimer m, MonadLabelledSTM m) =&gt; Party -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m () <a href="src/Hydra.Model.html#performAbort" class="link">Source</a> <a href="#v:performAbort" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:performClose" class="def">performClose</a> :: (MonadThrow m, MonadAsync m, MonadTimer m, MonadDelay m, MonadLabelledSTM m) =&gt; Party -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m () <a href="src/Hydra.Model.html#performClose" class="link">Source</a> <a href="#v:performClose" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:performFanout" class="def">performFanout</a> :: (MonadThrow m, MonadAsync m, MonadDelay m) =&gt; Party -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m UTxO <a href="src/Hydra.Model.html#performFanout" class="link">Source</a> <a href="#v:performFanout" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:performCloseWithInitialSnapshot" class="def">performCloseWithInitialSnapshot</a> :: (MonadThrow m, MonadTimer m, MonadDelay m, MonadAsync m, MonadLabelledSTM m) =&gt; <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> -&gt; Party -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m () <a href="src/Hydra.Model.html#performCloseWithInitialSnapshot" class="link">Source</a> <a href="#v:performCloseWithInitialSnapshot" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:performRollbackAndForward" class="def">performRollbackAndForward</a> :: (MonadThrow m, MonadTimer m) =&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Numeric-Natural.html#t:Natural" title="Numeric.Natural">Natural</a> -&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m () <a href="src/Hydra.Model.html#performRollbackAndForward" class="link">Source</a> <a href="#v:performRollbackAndForward" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:stopTheWorld" class="def">stopTheWorld</a> :: MonadAsync m =&gt; <a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> m () <a href="src/Hydra.Model.html#stopTheWorld" class="link">Source</a> <a href="#v:stopTheWorld" class="selflink">#</a></p></div><a href="#g:5" id="g:5"><h2>Utility functions</h2></a><div class="top"><p class="src"><a id="v:toTxOuts" class="def">toTxOuts</a> :: [(<a href="Hydra-Model-Payment.html#t:CardanoSigningKey" title="Hydra.Model.Payment">CardanoSigningKey</a>, Value)] -&gt; [TxOut CtxUTxO] <a href="src/Hydra.Model.html#toTxOuts" class="link">Source</a> <a href="#v:toTxOuts" class="selflink">#</a></p><div class="doc"><p>Convert payment-style utxos into transaction outputs.</p></div></div><div class="top"><p class="src"><a id="v:toRealUTxO" class="def">toRealUTxO</a> :: UTxOType <a href="Hydra-Model-Payment.html#t:Payment" title="Hydra.Model.Payment">Payment</a> -&gt; UTxOType Tx <a href="src/Hydra.Model.html#toRealUTxO" class="link">Source</a> <a href="#v:toRealUTxO" class="selflink">#</a></p><div class="doc"><p>Convert payment-style utxos into real utxos. The <code><a href="Hydra-Model-Payment.html#t:Payment" title="Hydra.Model.Payment">Payment</a></code> tx domain is
 smaller than UTxO and we map every unique signer + value entry to a mocked
 <code>TxIn</code> on the real cardano domain.</p></div></div><div class="top"><p class="src"><a id="v:mkTxOut" class="def">mkTxOut</a> :: <a href="Hydra-Model-Payment.html#t:CardanoSigningKey" title="Hydra.Model.Payment">CardanoSigningKey</a> -&gt; Value -&gt; TxOut CtxUTxO <a href="src/Hydra.Model.html#mkTxOut" class="link">Source</a> <a href="#v:mkTxOut" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mkMockTxIn" class="def">mkMockTxIn</a> :: <a href="Hydra-Model-Payment.html#t:CardanoSigningKey" title="Hydra.Model.Payment">CardanoSigningKey</a> -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Word" title="Distribution.Compat.Prelude">Word</a> -&gt; TxIn <a href="src/Hydra.Model.html#mkMockTxIn" class="link">Source</a> <a href="#v:mkMockTxIn" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:-61--61--61-" class="def">(===)</a> :: (<a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Eq" title="Distribution.Compat.Prelude">Eq</a> a, <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Show" title="Distribution.Compat.Prelude">Show</a> a, <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Monad" title="Distribution.Compat.Prelude">Monad</a> m) =&gt; a -&gt; a -&gt; PostconditionM m <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Bool" title="Distribution.Compat.Prelude">Bool</a> <a href="src/Hydra.Model.html#%3D%3D%3D" class="link">Source</a> <a href="#v:-61--61--61-" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Hydra-Model.html#v:-61--61--61-" title="Hydra.Model">===</a></code>, but works in PostconditionM.</p></div></div><div class="top"><p class="src"><a id="v:waitForUTxOToSpend" class="def">waitForUTxOToSpend</a> :: <span class="keyword">forall</span> m. MonadDelay m =&gt; UTxO -&gt; <a href="Hydra-Model-Payment.html#t:CardanoSigningKey" title="Hydra.Model.Payment">CardanoSigningKey</a> -&gt; Value -&gt; <a href="Hydra-BehaviorSpec.html#t:TestHydraClient" title="Hydra.BehaviorSpec">TestHydraClient</a> Tx m -&gt; m (<a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Either" title="Distribution.Compat.Prelude">Either</a> UTxO (TxIn, TxOut CtxUTxO)) <a href="src/Hydra.Model.html#waitForUTxOToSpend" class="link">Source</a> <a href="#v:waitForUTxOToSpend" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:headUTxO" class="def">headUTxO</a> :: (IsTx tx, MonadDelay m) =&gt; <a href="Hydra-BehaviorSpec.html#t:TestHydraClient" title="Hydra.BehaviorSpec">TestHydraClient</a> tx m -&gt; m (UTxOType tx) <a href="src/Hydra.Model.html#headUTxO" class="link">Source</a> <a href="#v:headUTxO" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:isOwned" class="def">isOwned</a> :: <a href="Hydra-Model-Payment.html#t:CardanoSigningKey" title="Hydra.Model.Payment">CardanoSigningKey</a> -&gt; (TxIn, TxOut ctx) -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Bool" title="Distribution.Compat.Prelude">Bool</a> <a href="src/Hydra.Model.html#isOwned" class="link">Source</a> <a href="#v:isOwned" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:headIsOpen" class="def">headIsOpen</a> :: ServerOutput tx -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Bool" title="Distribution.Compat.Prelude">Bool</a> <a href="src/Hydra.Model.html#headIsOpen" class="link">Source</a> <a href="#v:headIsOpen" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:headIsReadyToFanout" class="def">headIsReadyToFanout</a> :: ServerOutput tx -&gt; <a href="file:///nix/store/cz9ly62f92wivwp9aah4py51j2fnx6kf-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Bool" title="Distribution.Compat.Prelude">Bool</a> <a href="src/Hydra.Model.html#headIsReadyToFanout" class="link">Source</a> <a href="#v:headIsReadyToFanout" class="selflink">#</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.29.2</p></div></body></html>