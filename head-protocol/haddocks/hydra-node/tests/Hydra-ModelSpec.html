<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Hydra.ModelSpec</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">hydra-node</span><ul class="links" id="page-menu"><li><a href="src/Hydra.ModelSpec.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>GHC2021</td></tr></table><p class="caption">Hydra.ModelSpec</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Utilities</a></li><li><a href="#section.orphans">Orphan instances</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Model-Based testing of Hydra Head protocol implementation.</p><ul><li>Troubleshooting</li><li>* Deadlocks</li></ul><p>One of the most annoying problems one can face with those very high level properties involving multithreading and a lot
 of complex moving parts is when the test execution deadlocks. Here is a short guide on what one can do to troubleshoort
 this kind of issue:</p><ul><li>**Check generators**: <code>suchThat</code> combinator from QuickCheck is useful when one wants to refine another <code>Gen</code>erator's behaviour
   but it can lead to deadlock if the filtering leads to no value being generated. Avoid it.</li><li>**Dump nodes' logs**: In case of a &quot;normal&quot; failure of the tests, the logs from the nodes are dumped. However, if the test does
   not even complete then no logs are produced because they are kept in memory. In this case. replacing <code><a href="Test-Util.html#v:traceInIOSim" title="Test.Util">traceInIOSim</a></code> with
   `traceInIOSim &lt;&gt; traceDebug` will ensure the logs are dumped on the <code><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/GHC-IO-StdHandles.html#v:stderr" title="GHC.IO.StdHandles">stderr</a></code>. It could be a good idea to store them in a file
   as they can be quite large.</li><li>**Use** <code><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Debug-Trace.html#v:trace" title="Debug.Trace">trace</a></code> liberally: Because getting a proper stack trace is hard in Haskell, esp. in pure code, sprinkling
   <code>trace</code> statements at key points might help understand what's going on and zoom in on the culprits</li><li>**Dump IOSim trace**: In case the deadlock (or race condition) is caused by having two or more concurrent threads competing
   to access a resource, dumping the trace of IOSim's runtime scheduleer execution can help. io-sim generate its trace lazily which
   means that even when it deadlocks, one can capture at least a significant prefix of the trace and dump it to <code><a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/GHC-IO-StdHandles.html#v:stderr" title="GHC.IO.StdHandles">stderr</a></code>. One can
   `map ( t -&gt; trace (ppEvents t) t) . traceEvents` over the <code>SimTrace</code> returned by <code>runSimTrace</code> to get some pretty-printed
   output similar to:</li></ul><p>@<code>
   Time 380.1s - ThreadId [4]  node-94455e3e - EventThrow AsyncCancelled
   Time 380.1s - ThreadId [4]  node-94455e3e - EventMask MaskedInterruptible
   Time 380.1s - ThreadId [4]  node-94455e3e - EventMask MaskedInterruptible
   Time 380.1s - ThreadId [4]  node-94455e3e - EventDeschedule Interruptible
   Time 380.1s - ThreadId [4]  node-94455e3e - EventTxCommitted [Labelled (TVarId 25) (Just &quot;async-ThreadId [4]&quot;)] [] Nothing
   Time 380.1s - ThreadId []   main          - EventTxWakeup [Labelled (TVarId 25) (Just &quot;async-ThreadId [4]&quot;)]
   Time 380.1s - ThreadId [4]  node-94455e3e - EventUnblocked [ThreadId []]
   Time 380.1s - ThreadId [4]  node-94455e3e - EventDeschedule Yield
   Time 380.1s - ThreadId []   main          - EventTxCommitted [] [] Nothing
   Time 380.1s - ThreadId []   main          - EventUnblocked []
   Time 380.1s - ThreadId []   main          - EventDeschedule Yield
   Time 380.1s - ThreadId [4]  node-94455e3e - EventThreadFinished
   Time 380.1s - ThreadId [4]  node-94455e3e - EventDeschedule Terminated
   Time 380.1s - ThreadId []   main          - EventThreadFinished
   </code>@</p><ul><li>* Recording trace failures</li></ul><p>When a property fails it will dump the sequence of actions leading to the
 failure:</p><p>@<code>
   do action $ Seed {seedKeys = [(&quot;8bbc9f32e4faff669ed1561025f243649f1332902aa79ad7e6e6bbae663f332d&quot;,CardanoSigningKey {signingKey = &quot;0400020803030302070808060405040001050408070401040604000005010603&quot;})], seedContestationPeriod = 46s, seedDepositDeadline = 50s, toCommit = fromList [(Party {vkey = &quot;b4ea494b4bda6281899727bf4cfef5cdeba8fb3fec4edebc408aa72dfd6ad4f0&quot;},[(CardanoSigningKey {signingKey = &quot;0400020803030302070808060405040001050408070401040604000005010603&quot;},valueFromList [(AdaAssetId,54862683)])])]}
      var2 &lt;- action $ Init (Party {vkey = &quot;b4ea494b4bda6281899727bf4cfef5cdeba8fb3fec4edebc408aa72dfd6ad4f0&quot;})
      action $ Commit {headIdVar = var2, party = Party {vkey = &quot;b4ea494b4bda6281899727bf4cfef5cdeba8fb3fec4edebc408aa72dfd6ad4f0&quot;}, utxoToCommit = [(CardanoSigningKey {signingKey = &quot;0400020803030302070808060405040001050408070401040604000005010603&quot;},valueFromList [(AdaAssetId,54862683)])]}
      action $ Decommit {party = Party {vkey = &quot;b4ea494b4bda6281899727bf4cfef5cdeba8fb3fec4edebc408aa72dfd6ad4f0&quot;}, decommitTx = Payment { from = CardanoSigningKey {signingKey = &quot;0400020803030302070808060405040001050408070401040604000005010603&quot;}, to = CardanoSigningKey {signingKey = &quot;0702050602000101050108060302010707060007020308080801060700030306&quot;}, value = valueFromList [(AdaAssetId,54862683)] }}
      action $ Deposit {headIdVar = var2, utxoToDeposit = [(CardanoSigningKey {signingKey = &quot;0400020803030302070808060405040001050408070401040604000005010603&quot;},valueFromList [(AdaAssetId,54862683)])], deadline = 1864-06-06 08:24:08.669152896211 UTC}
      pure ()
 </code>@</p><p>Which can be turned into a unit test after resolving most of the imports.
 Common pitfalls are incorrect show instances (e.g. the UTCTime in deadline
 above). Should the variables not be bound correctly, double check
 HasVariables instances. A working example of the above output would be:</p><p>@<code>
   it &quot;troubleshoot&quot; . withMaxSuccess 1 . flip forAllDL propHydraModel $ do
     action $ Seed{seedKeys = [(&quot;8bbc9f32e4faff669ed1561025f243649f1332902aa79ad7e6e6bbae663f332d&quot;, CardanoSigningKey{signingKey = &quot;0400020803030302070808060405040001050408070401040604000005010603&quot;})], seedContestationPeriod = UnsafeContestationPeriod 46, seedDepositDeadline = UnsafeDepositDeadline 50, toCommit = fromList [(Party{vkey = &quot;b4ea494b4bda6281899727bf4cfef5cdeba8fb3fec4edebc408aa72dfd6ad4f0&quot;}, [(CardanoSigningKey{signingKey = &quot;0400020803030302070808060405040001050408070401040604000005010603&quot;}, valueFromList [(AdaAssetId, 54862683)])])]}
     var2 &lt;- action $ Init (Party{vkey = &quot;b4ea494b4bda6281899727bf4cfef5cdeba8fb3fec4edebc408aa72dfd6ad4f0&quot;})
     action $ Commit{headIdVar = var2, party = Party{vkey = &quot;b4ea494b4bda6281899727bf4cfef5cdeba8fb3fec4edebc408aa72dfd6ad4f0&quot;}, utxoToCommit = [(CardanoSigningKey{signingKey = &quot;0400020803030302070808060405040001050408070401040604000005010603&quot;}, valueFromList [(AdaAssetId, 54862683)])]}
     action $ Decommit{party = Party{vkey = &quot;b4ea494b4bda6281899727bf4cfef5cdeba8fb3fec4edebc408aa72dfd6ad4f0&quot;}, decommitTx = Payment{from = CardanoSigningKey{signingKey = &quot;0400020803030302070808060405040001050408070401040604000005010603&quot;}, to = CardanoSigningKey{signingKey = &quot;0702050602000101050108060302010707060007020308080801060700030306&quot;}, value = valueFromList [(AdaAssetId, 54862683)]}}
     action $ Deposit{headIdVar = var2, utxoToDeposit = [(CardanoSigningKey{signingKey = &quot;0400020803030302070808060405040001050408070401040604000005010603&quot;}, valueFromList [(AdaAssetId, 54862683)])], deadline = read &quot;1864-06-06 08:24:08.669152896211 UTC&quot;}
     pure ()
 </code>@</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:spec">spec</a> :: Spec</li><li class="src short"><a href="#v:propFanoutLimit">propFanoutLimit</a> :: <a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Int" title="Distribution.Compat.Prelude">Int</a> -&gt; Property</li><li class="src short"><a href="#v:propDL">propDL</a> :: DL <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> () -&gt; Property</li><li class="src short"><a href="#v:propHydraModel">propHydraModel</a> :: Actions <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> -&gt; Property</li><li class="src short"><a href="#v:propCheckModelBalances">propCheckModelBalances</a> :: Property</li><li class="src short"><a href="#v:assertBalancesInOpenHeadAreConsistent">assertBalancesInOpenHeadAreConsistent</a> :: <a href="Hydra-Model.html#t:GlobalState" title="Hydra.Model">GlobalState</a> -&gt; <a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Map" title="Distribution.Compat.Prelude">Map</a> Party (<a href="Hydra-BehaviorSpec.html#t:TestHydraClient" title="Hydra.BehaviorSpec">TestHydraClient</a> Tx (IOSim s)) -&gt; Party -&gt; PropertyM (<a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> (IOSim s)) ()</li><li class="src short"><a href="#v:propIsDistributive">propIsDistributive</a> :: (<a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Show" title="Distribution.Compat.Prelude">Show</a> b, <a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Eq" title="Distribution.Compat.Prelude">Eq</a> b, <a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Semigroup.html#t:Semigroup" title="Distribution.Compat.Semigroup">Semigroup</a> a, <a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Semigroup.html#t:Semigroup" title="Distribution.Compat.Semigroup">Semigroup</a> b) =&gt; (a -&gt; b) -&gt; a -&gt; a -&gt; Property</li><li class="src short"><a href="#v:partyContestsToWrongClosedSnapshot">partyContestsToWrongClosedSnapshot</a> :: DL <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> ()</li><li class="src short"><a href="#v:fanoutContainsWholeConfirmedUTxO">fanoutContainsWholeConfirmedUTxO</a> :: DL <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> ()</li><li class="src short"><a href="#v:nonConflictingTx">nonConflictingTx</a> :: <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> -&gt; Quantification (Party, <a href="Hydra-Model-Payment.html#t:Payment" title="Hydra.Model.Payment">Payment</a>)</li><li class="src short"><a href="#v:headOpensIfAllPartiesCommit">headOpensIfAllPartiesCommit</a> :: DL <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> ()</li><li class="src short"><a href="#v:conflictFreeLiveness">conflictFreeLiveness</a> :: DL <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> ()</li><li class="src short"><a href="#v:propDoesNotGenerate0AdaUTxO">propDoesNotGenerate0AdaUTxO</a> :: Actions <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> -&gt; Property</li><li class="src short"><a href="#v:runIOSimProp">runIOSimProp</a> :: Testable a =&gt; (<span class="keyword">forall</span> s. PropertyM (<a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> (IOSim s)) a) -&gt; Property</li><li class="src short"><a href="#v:runRunMonadIOSimGen">runRunMonadIOSimGen</a> :: <span class="keyword">forall</span> a. Testable a =&gt; (<span class="keyword">forall</span> s. Gen (<a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> (IOSim s) a)) -&gt; Gen Property</li><li class="src short"><a href="#v:eventually">eventually</a> :: Action <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> () -&gt; DL <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> ()</li><li class="src short"><a href="#v:action_">action_</a> :: <a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Typeable.html#t:Typeable" title="Distribution.Compat.Typeable">Typeable</a> a =&gt; Action <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> a -&gt; DL <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> ()</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:spec" class="def">spec</a> :: Spec <a href="src/Hydra.ModelSpec.html#spec" class="link">Source</a> <a href="#v:spec" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:propFanoutLimit" class="def">propFanoutLimit</a> :: <a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Int" title="Distribution.Compat.Prelude">Int</a> -&gt; Property <a href="src/Hydra.ModelSpec.html#propFanoutLimit" class="link">Source</a> <a href="#v:propFanoutLimit" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:propDL" class="def">propDL</a> :: DL <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> () -&gt; Property <a href="src/Hydra.ModelSpec.html#propDL" class="link">Source</a> <a href="#v:propDL" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:propHydraModel" class="def">propHydraModel</a> :: Actions <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> -&gt; Property <a href="src/Hydra.ModelSpec.html#propHydraModel" class="link">Source</a> <a href="#v:propHydraModel" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:propCheckModelBalances" class="def">propCheckModelBalances</a> :: Property <a href="src/Hydra.ModelSpec.html#propCheckModelBalances" class="link">Source</a> <a href="#v:propCheckModelBalances" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:assertBalancesInOpenHeadAreConsistent" class="def">assertBalancesInOpenHeadAreConsistent</a> :: <a href="Hydra-Model.html#t:GlobalState" title="Hydra.Model">GlobalState</a> -&gt; <a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Map" title="Distribution.Compat.Prelude">Map</a> Party (<a href="Hydra-BehaviorSpec.html#t:TestHydraClient" title="Hydra.BehaviorSpec">TestHydraClient</a> Tx (IOSim s)) -&gt; Party -&gt; PropertyM (<a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> (IOSim s)) () <a href="src/Hydra.ModelSpec.html#assertBalancesInOpenHeadAreConsistent" class="link">Source</a> <a href="#v:assertBalancesInOpenHeadAreConsistent" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:propIsDistributive" class="def">propIsDistributive</a> :: (<a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Show" title="Distribution.Compat.Prelude">Show</a> b, <a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Eq" title="Distribution.Compat.Prelude">Eq</a> b, <a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Semigroup.html#t:Semigroup" title="Distribution.Compat.Semigroup">Semigroup</a> a, <a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Semigroup.html#t:Semigroup" title="Distribution.Compat.Semigroup">Semigroup</a> b) =&gt; (a -&gt; b) -&gt; a -&gt; a -&gt; Property <a href="src/Hydra.ModelSpec.html#propIsDistributive" class="link">Source</a> <a href="#v:propIsDistributive" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:partyContestsToWrongClosedSnapshot" class="def">partyContestsToWrongClosedSnapshot</a> :: DL <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> () <a href="src/Hydra.ModelSpec.html#partyContestsToWrongClosedSnapshot" class="link">Source</a> <a href="#v:partyContestsToWrongClosedSnapshot" class="selflink">#</a></p><div class="doc"><p>Expect to see contestations when trying to close with
 an old snapshot</p></div></div><div class="top"><p class="src"><a id="v:fanoutContainsWholeConfirmedUTxO" class="def">fanoutContainsWholeConfirmedUTxO</a> :: DL <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> () <a href="src/Hydra.ModelSpec.html#fanoutContainsWholeConfirmedUTxO" class="link">Source</a> <a href="#v:fanoutContainsWholeConfirmedUTxO" class="selflink">#</a></p><div class="doc"><p>Given any random walk of the model, if the Head is open a NewTx getting
 confirmed must be part of the UTxO after finalization.</p></div></div><div class="top"><p class="src"><a id="v:nonConflictingTx" class="def">nonConflictingTx</a> :: <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> -&gt; Quantification (Party, <a href="Hydra-Model-Payment.html#t:Payment" title="Hydra.Model.Payment">Payment</a>) <a href="src/Hydra.ModelSpec.html#nonConflictingTx" class="link">Source</a> <a href="#v:nonConflictingTx" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:headOpensIfAllPartiesCommit" class="def">headOpensIfAllPartiesCommit</a> :: DL <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> () <a href="src/Hydra.ModelSpec.html#headOpensIfAllPartiesCommit" class="link">Source</a> <a href="#v:headOpensIfAllPartiesCommit" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:conflictFreeLiveness" class="def">conflictFreeLiveness</a> :: DL <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> () <a href="src/Hydra.ModelSpec.html#conflictFreeLiveness" class="link">Source</a> <a href="#v:conflictFreeLiveness" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:propDoesNotGenerate0AdaUTxO" class="def">propDoesNotGenerate0AdaUTxO</a> :: Actions <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> -&gt; Property <a href="src/Hydra.ModelSpec.html#propDoesNotGenerate0AdaUTxO" class="link">Source</a> <a href="#v:propDoesNotGenerate0AdaUTxO" class="selflink">#</a></p></div><a href="#g:1" id="g:1"><h1>Utilities</h1></a><div class="top"><p class="src"><a id="v:runIOSimProp" class="def">runIOSimProp</a> :: Testable a =&gt; (<span class="keyword">forall</span> s. PropertyM (<a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> (IOSim s)) a) -&gt; Property <a href="src/Hydra.ModelSpec.html#runIOSimProp" class="link">Source</a> <a href="#v:runIOSimProp" class="selflink">#</a></p><div class="doc"><p>Specialised runner similar to <a href="monadicST">https://hackage.haskell.org/package/QuickCheck-2.14.3/docs/Test-QuickCheck-Monadic.html#v:monadicST</a>.</p></div></div><div class="top"><p class="src"><a id="v:runRunMonadIOSimGen" class="def">runRunMonadIOSimGen</a> :: <span class="keyword">forall</span> a. Testable a =&gt; (<span class="keyword">forall</span> s. Gen (<a href="Hydra-Model.html#t:RunMonad" title="Hydra.Model">RunMonad</a> (IOSim s) a)) -&gt; Gen Property <a href="src/Hydra.ModelSpec.html#runRunMonadIOSimGen" class="link">Source</a> <a href="#v:runRunMonadIOSimGen" class="selflink">#</a></p><div class="doc"><p>Similar to <a href="runSTGen">https://hackage.haskell.org/package/QuickCheck-2.14.3/docs/Test-QuickCheck-Monadic.html#v:runSTGen</a></p><p>It returns <code>Property</code> rather than `Gen a`, what allows to enhance the logging
 in case of failures.</p></div></div><div class="top"><p class="src"><a id="v:eventually" class="def">eventually</a> :: Action <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> () -&gt; DL <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> () <a href="src/Hydra.ModelSpec.html#eventually" class="link">Source</a> <a href="#v:eventually" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:action_" class="def">action_</a> :: <a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Typeable.html#t:Typeable" title="Distribution.Compat.Typeable">Typeable</a> a =&gt; Action <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> a -&gt; DL <a href="Hydra-Model.html#t:WorldState" title="Hydra.Model">WorldState</a> () <a href="src/Hydra.ModelSpec.html#action_" class="link">Source</a> <a href="#v:action_" class="selflink">#</a></p></div><h1>Orphan instances</h1><div id="section.orphans"><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:o:ic:HasVariables:HasVariables:1"></span> HasVariables <a href="Hydra-Model-Payment.html#t:CardanoSigningKey" title="Hydra.Model.Payment">CardanoSigningKey</a></span> <a href="src/Hydra.ModelSpec.html#line-148" class="link">Source</a> <a href="#v:-36-fHasVariablesCardanoSigningKey" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:o:ic:HasVariables:HasVariables:1"><summary class="hide-when-js-enabled">Instance details</summary><p></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getAllVariables">getAllVariables</a> :: <a href="Hydra-Model-Payment.html#t:CardanoSigningKey" title="Hydra.Model.Payment">CardanoSigningKey</a> -&gt; <a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Set" title="Distribution.Compat.Prelude">Set</a> (Any Var)</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:o:ic:HasVariables:HasVariables:2"></span> HasVariables (SigningKey PaymentKey)</span> <a href="src/Hydra.ModelSpec.html#line-146" class="link">Source</a> <a href="#v:-36-fHasVariablesSigningKey" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:o:ic:HasVariables:HasVariables:2"><summary class="hide-when-js-enabled">Instance details</summary><p></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getAllVariables">getAllVariables</a> :: SigningKey PaymentKey -&gt; <a href="file:///nix/store/6yqv51fa4w5nds6fi2vvj8v5ww7f1h5g-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/Cabal-syntax-3.10.3.0/Distribution-Compat-Prelude.html#t:Set" title="Distribution.Compat.Prelude">Set</a> (Any Var)</p></div></details></td></tr></table></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.29.2</p></div></body></html>