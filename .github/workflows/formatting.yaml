name: Check code formatting

on:
  pull_request:

jobs:
  formatting:
    name: Check code formatting
    runs-on: self-hosted
    steps:
    - name: 📥 Checkout repository
      uses: actions/checkout@v4

    - name: 📐 Check code formatting
      run: |
        nix develop .#fmt --command treefmt --fail-on-change
